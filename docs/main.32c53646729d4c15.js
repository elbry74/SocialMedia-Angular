"use strict";(self.webpackChunknote_project=self.webpackChunknote_project||[]).push([[179],{367:(Ia,oi,zt)=>{zt.d(oi,{Z:()=>et});var Vt,bt,me=zt(655),I=zt(492),ze=zt(461),nt=zt(3),Zi=((Vt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Vt["bad-app-name"]="Illegal App name: '{$appName}",Vt["duplicate-app"]="Firebase App named '{$appName}' already exists",Vt["app-deleted"]="Firebase App named '{$appName}' already deleted",Vt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Vt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Vt),Tr=new I.LL("app","Firebase",Zi),bi="@firebase/app",Yn="[DEFAULT]",Xe=((bt={})[bi]="fire-core",bt["@firebase/analytics"]="fire-analytics",bt["@firebase/app-check"]="fire-app-check",bt["@firebase/auth"]="fire-auth",bt["@firebase/database"]="fire-rtdb",bt["@firebase/functions"]="fire-fn",bt["@firebase/installations"]="fire-iid",bt["@firebase/messaging"]="fire-fcm",bt["@firebase/performance"]="fire-perf",bt["@firebase/remote-config"]="fire-rc",bt["@firebase/storage"]="fire-gcs",bt["@firebase/firestore"]="fire-fst",bt["fire-js"]="fire-js",bt["firebase-wrapper"]="fire-js-all",bt),Qt=new nt.Yd("@firebase/app"),Ji=function(){function ke($e,rt,ht){var Ze=this;this.firebase_=ht,this.isDeleted_=!1,this.name_=rt.name,this.automaticDataCollectionEnabled_=rt.automaticDataCollectionEnabled||!1,this.options_=(0,I.p$)($e),this.container=new ze.H0(rt.name),this._addComponent(new ze.wA("app",function(){return Ze},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Ei){return Ze._addComponent(Ei)})}return Object.defineProperty(ke.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function($e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=$e},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),ke.prototype.delete=function(){var $e=this;return new Promise(function(rt){$e.checkDestroyed_(),rt()}).then(function(){return $e.firebase_.INTERNAL.removeApp($e.name_),Promise.all($e.container.getProviders().map(function(rt){return rt.delete()}))}).then(function(){$e.isDeleted_=!0})},ke.prototype._getService=function($e,rt){var ht;void 0===rt&&(rt=Yn),this.checkDestroyed_();var Ze=this.container.getProvider($e);return!Ze.isInitialized()&&"EXPLICIT"===(null===(ht=Ze.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:rt})},ke.prototype._removeServiceInstance=function($e,rt){void 0===rt&&(rt=Yn),this.container.getProvider($e).clearInstance(rt)},ke.prototype._addComponent=function($e){try{this.container.addComponent($e)}catch(rt){Qt.debug("Component "+$e.name+" failed to register with FirebaseApp "+this.name,rt)}},ke.prototype._addOrOverwriteComponent=function($e){this.container.addOrOverwriteComponent($e)},ke.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},ke.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Tr.create("app-deleted",{appName:this.name_})},ke}();Ji.prototype.name&&Ji.prototype.options||Ji.prototype.delete||console.log("dc");var ve=function B(){var ke=function de(ke){var $e={},rt=new Map,ht={__esModule:!0,initializeApp:function st($t,Zt){void 0===Zt&&(Zt={}),("object"!=typeof Zt||null===Zt)&&(Zt={name:Zt});var xn=Zt;void 0===xn.name&&(xn.name=Yn);var Nn=xn.name;if("string"!=typeof Nn||!Nn)throw Tr.create("bad-app-name",{appName:String(Nn)});if((0,I.r3)($e,Nn))throw Tr.create("duplicate-app",{appName:Nn});var Un=new ke($t,xn,ht);return $e[Nn]=Un,Un},app:Ei,registerVersion:function bn($t,Zt,si){var xn,Nn=null!==(xn=Xe[$t])&&void 0!==xn?xn:$t;si&&(Nn+="-"+si);var Un=Nn.match(/\s|\//),gn=Zt.match(/\s|\//);if(Un||gn){var Hn=['Unable to register library "'+Nn+'" with version "'+Zt+'":'];return Un&&Hn.push('library name "'+Nn+'" contains illegal characters (whitespace or "/")'),Un&&gn&&Hn.push("and"),gn&&Hn.push('version name "'+Zt+'" contains illegal characters (whitespace or "/")'),void Qt.warn(Hn.join(" "))}Ho(new ze.wA(Nn+"-version",function(){return{library:Nn,version:Zt}},"VERSION"))},setLogLevel:nt.Ub,onLog:function _r($t,Zt){if(null!==$t&&"function"!=typeof $t)throw Tr.create("invalid-log-argument");(0,nt.Am)($t,Zt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Ho,removeApp:function Ze($t){delete $e[$t]},components:rt,useAsService:function Du($t,Zt){return"serverAuth"===Zt?null:Zt}}};function Ei($t){if(!(0,I.r3)($e,$t=$t||Yn))throw Tr.create("no-app",{appName:$t});return $e[$t]}function Ho($t){var Zt=$t.name;if(rt.has(Zt))return Qt.debug("There were multiple attempts to register component "+Zt+"."),"PUBLIC"===$t.type?ht[Zt]:null;if(rt.set(Zt,$t),"PUBLIC"===$t.type){var si=function(gn){if(void 0===gn&&(gn=Ei()),"function"!=typeof gn[Zt])throw Tr.create("invalid-app-argument",{appName:Zt});return gn[Zt]()};void 0!==$t.serviceProps&&(0,I.ZB)(si,$t.serviceProps),ht[Zt]=si,ke.prototype[Zt]=function(){for(var gn=[],Hn=0;Hn<arguments.length;Hn++)gn[Hn]=arguments[Hn];return this._getService.bind(this,Zt).apply(this,$t.multipleInstances?gn:[])}}for(var xn=0,Nn=Object.keys($e);xn<Nn.length;xn++)$e[Nn[xn]]._addComponent($t);return"PUBLIC"===$t.type?ht[Zt]:null}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function Kr(){return Object.keys($e).map(function($t){return $e[$t]})}}),Ei.App=ke,ht}(Ji);return ke.INTERNAL=(0,me.pi)((0,me.pi)({},ke.INTERNAL),{createFirebaseNamespace:B,extendNamespace:function $e(rt){(0,I.ZB)(ke,rt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),ke}(),ye=function(){function ke($e){this.container=$e}return ke.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(rt){if(function Oe(ke){return"VERSION"===ke.getComponent()?.type}(rt)){var ht=rt.getImmediate();return ht.library+"/"+ht.version}return null}).filter(function(rt){return rt}).join(" ")},ke}();if((0,I.jU)()&&void 0!==self.firebase){Qt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&Qt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ct=ve.initializeApp;ve.initializeApp=function(){for(var ke=[],$e=0;$e<arguments.length;$e++)ke[$e]=arguments[$e];return(0,I.UG)()&&Qt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ct.apply(void 0,ke)};var lr=ve;!function le(ke,$e){ke.INTERNAL.registerComponent(new ze.wA("platform-logger",function(rt){return new ye(rt)},"PRIVATE")),ke.registerVersion(bi,"0.6.30",$e),ke.registerVersion("fire-js","")}(lr);const et=lr},461:(Ia,oi,zt)=>{zt.d(oi,{H0:()=>bi,wA:()=>ze});var me=zt(655),I=zt(492),ze=function(){function se(z,Ee,Me){this.name=z,this.instanceFactory=Ee,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se.prototype.setInstantiationMode=function(z){return this.instantiationMode=z,this},se.prototype.setMultipleInstances=function(z){return this.multipleInstances=z,this},se.prototype.setServiceProps=function(z){return this.serviceProps=z,this},se.prototype.setInstanceCreatedCallback=function(z){return this.onInstanceCreated=z,this},se}(),nt="[DEFAULT]",Vt=function(){function se(z,Ee){this.name=z,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se.prototype.get=function(z){var Ee=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Ee)){var Me=new I.BH;if(this.instancesDeferred.set(Ee,Me),this.isInitialized(Ee)||this.shouldAutoInitialize())try{var Te=this.getOrInitializeService({instanceIdentifier:Ee});Te&&Me.resolve(Te)}catch{}}return this.instancesDeferred.get(Ee).promise},se.prototype.getImmediate=function(z){var Ee,Me=this.normalizeInstanceIdentifier(z?.identifier),Te=null!==(Ee=z?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Fe){if(Te)return null;throw Fe}},se.prototype.getComponent=function(){return this.component},se.prototype.setComponent=function(z){var Ee,Me;if(z.name!==this.name)throw Error("Mismatching Component "+z.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=z,this.shouldAutoInitialize()){if(function Tr(se){return"EAGER"===se.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:nt})}catch{}try{for(var Te=(0,me.XA)(this.instancesDeferred.entries()),Fe=Te.next();!Fe.done;Fe=Te.next()){var jt=(0,me.CR)(Fe.value,2),xt=jt[1],_t=this.normalizeInstanceIdentifier(jt[0]);try{var yr=this.getOrInitializeService({instanceIdentifier:_t});xt.resolve(yr)}catch{}}}catch(Yt){Ee={error:Yt}}finally{try{Fe&&!Fe.done&&(Me=Te.return)&&Me.call(Te)}finally{if(Ee)throw Ee.error}}}},se.prototype.clearInstance=function(z){void 0===z&&(z=nt),this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)},se.prototype.delete=function(){return(0,me.mG)(this,void 0,void 0,function(){var z;return(0,me.Jh)(this,function(Ee){switch(Ee.label){case 0:return z=Array.from(this.instances.values()),[4,Promise.all((0,me.ev)((0,me.ev)([],(0,me.CR)(z.filter(function(Me){return"INTERNAL"in Me}).map(function(Me){return Me.INTERNAL.delete()}))),(0,me.CR)(z.filter(function(Me){return"_delete"in Me}).map(function(Me){return Me._delete()}))))];case 1:return Ee.sent(),[2]}})})},se.prototype.isComponentSet=function(){return null!=this.component},se.prototype.isInitialized=function(z){return void 0===z&&(z=nt),this.instances.has(z)},se.prototype.getOptions=function(z){return void 0===z&&(z=nt),this.instancesOptions.get(z)||{}},se.prototype.initialize=function(z){var Ee,Me;void 0===z&&(z={});var Te=z.options,Fe=void 0===Te?{}:Te,jt=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(jt))throw Error(this.name+"("+jt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ut=this.getOrInitializeService({instanceIdentifier:jt,options:Fe});try{for(var xt=(0,me.XA)(this.instancesDeferred.entries()),_t=xt.next();!_t.done;_t=xt.next()){var yr=(0,me.CR)(_t.value,2),wi=yr[1];jt===this.normalizeInstanceIdentifier(yr[0])&&wi.resolve(Ut)}}catch(Yn){Ee={error:Yn}}finally{try{_t&&!_t.done&&(Me=xt.return)&&Me.call(xt)}finally{if(Ee)throw Ee.error}}return Ut},se.prototype.onInit=function(z,Ee){var Me,Te=this.normalizeInstanceIdentifier(Ee),Fe=null!==(Me=this.onInitCallbacks.get(Te))&&void 0!==Me?Me:new Set;Fe.add(z),this.onInitCallbacks.set(Te,Fe);var jt=this.instances.get(Te);return jt&&z(jt,Te),function(){Fe.delete(z)}},se.prototype.invokeOnInitCallbacks=function(z,Ee){var Me,Te,Fe=this.onInitCallbacks.get(Ee);if(Fe)try{for(var jt=(0,me.XA)(Fe),Ut=jt.next();!Ut.done;Ut=jt.next()){var xt=Ut.value;try{xt(z,Ee)}catch{}}}catch(_t){Me={error:_t}}finally{try{Ut&&!Ut.done&&(Te=jt.return)&&Te.call(jt)}finally{if(Me)throw Me.error}}},se.prototype.getOrInitializeService=function(z){var Ee=z.instanceIdentifier,Me=z.options,Te=void 0===Me?{}:Me,Fe=this.instances.get(Ee);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:Zi(Ee),options:Te}),this.instances.set(Ee,Fe),this.instancesOptions.set(Ee,Te),this.invokeOnInitCallbacks(Fe,Ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ee,Fe)}catch{}return Fe||null},se.prototype.normalizeInstanceIdentifier=function(z){return void 0===z&&(z=nt),this.component?this.component.multipleInstances?z:nt:z},se.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},se}();function Zi(se){return se===nt?void 0:se}var bi=function(){function se(z){this.name=z,this.providers=new Map}return se.prototype.addComponent=function(z){var Ee=this.getProvider(z.name);if(Ee.isComponentSet())throw new Error("Component "+z.name+" has already been registered with "+this.name);Ee.setComponent(z)},se.prototype.addOrOverwriteComponent=function(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)},se.prototype.getProvider=function(z){if(this.providers.has(z))return this.providers.get(z);var Ee=new Vt(z,this);return this.providers.set(z,Ee),Ee},se.prototype.getProviders=function(){return Array.from(this.providers.values())},se}()},3:(Ia,oi,zt)=>{function me(){for(var Me=0,Te=0,Fe=arguments.length;Te<Fe;Te++)Me+=arguments[Te].length;var jt=Array(Me),Ut=0;for(Te=0;Te<Fe;Te++)for(var xt=arguments[Te],_t=0,yr=xt.length;_t<yr;_t++,Ut++)jt[Ut]=xt[_t];return jt}zt.d(oi,{Am:()=>Ee,Ub:()=>z,Yd:()=>se,in:()=>nt});var I,ze=[],nt=(()=>{return(Me=nt||(nt={}))[Me.DEBUG=0]="DEBUG",Me[Me.VERBOSE=1]="VERBOSE",Me[Me.INFO=2]="INFO",Me[Me.WARN=3]="WARN",Me[Me.ERROR=4]="ERROR",Me[Me.SILENT=5]="SILENT",nt;var Me})(),Vt={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Zi=nt.INFO,Tr=((I={})[nt.DEBUG]="log",I[nt.VERBOSE]="log",I[nt.INFO]="info",I[nt.WARN]="warn",I[nt.ERROR]="error",I),bi=function(Me,Te){for(var Fe=[],jt=2;jt<arguments.length;jt++)Fe[jt-2]=arguments[jt];if(!(Te<Me.logLevel)){var Ut=(new Date).toISOString(),xt=Tr[Te];if(!xt)throw new Error("Attempted to log a message with an invalid logType (value: "+Te+")");console[xt].apply(console,me(["["+Ut+"]  "+Me.name+":"],Fe))}},se=function(){function Me(Te){this.name=Te,this._logLevel=Zi,this._logHandler=bi,this._userLogHandler=null,ze.push(this)}return Object.defineProperty(Me.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Te){if(!(Te in nt))throw new TypeError('Invalid value "'+Te+'" assigned to `logLevel`');this._logLevel=Te},enumerable:!1,configurable:!0}),Me.prototype.setLogLevel=function(Te){this._logLevel="string"==typeof Te?Vt[Te]:Te},Object.defineProperty(Me.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Te){this._userLogHandler=Te},enumerable:!1,configurable:!0}),Me.prototype.debug=function(){for(var Te=[],Fe=0;Fe<arguments.length;Fe++)Te[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,me([this,nt.DEBUG],Te)),this._logHandler.apply(this,me([this,nt.DEBUG],Te))},Me.prototype.log=function(){for(var Te=[],Fe=0;Fe<arguments.length;Fe++)Te[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,me([this,nt.VERBOSE],Te)),this._logHandler.apply(this,me([this,nt.VERBOSE],Te))},Me.prototype.info=function(){for(var Te=[],Fe=0;Fe<arguments.length;Fe++)Te[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,me([this,nt.INFO],Te)),this._logHandler.apply(this,me([this,nt.INFO],Te))},Me.prototype.warn=function(){for(var Te=[],Fe=0;Fe<arguments.length;Fe++)Te[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,me([this,nt.WARN],Te)),this._logHandler.apply(this,me([this,nt.WARN],Te))},Me.prototype.error=function(){for(var Te=[],Fe=0;Fe<arguments.length;Fe++)Te[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,me([this,nt.ERROR],Te)),this._logHandler.apply(this,me([this,nt.ERROR],Te))},Me}();function z(Me){ze.forEach(function(Te){Te.setLogLevel(Me)})}function Ee(Me,Te){for(var Fe=function(_t){var yr=null;Te&&Te.level&&(yr=Vt[Te.level]),_t.userLogHandler=null===Me?null:function(Yt,wi){for(var bt=[],Yn=2;Yn<arguments.length;Yn++)bt[Yn-2]=arguments[Yn];var Xe=bt.map(function(Qt){if(null==Qt)return null;if("string"==typeof Qt)return Qt;if("number"==typeof Qt||"boolean"==typeof Qt)return Qt.toString();if(Qt instanceof Error)return Qt.message;try{return JSON.stringify(Qt)}catch{return null}}).filter(function(Qt){return Qt}).join(" ");wi>=(yr??Yt.logLevel)&&Me({level:nt[wi].toLowerCase(),message:Xe,args:bt,type:Yt.name})}},jt=0,Ut=ze;jt<Ut.length;jt++)Fe(Ut[jt])}},492:(Ia,oi,zt)=>{zt.d(oi,{BH:()=>Fe,G6:()=>Ji,LL:()=>le,Mn:()=>Xe,Sg:()=>jt,UG:()=>_t,ZB:()=>Me,ZR:()=>Oe,b$:()=>wi,d:()=>bt,jU:()=>yr,m9:()=>Ao,ne:()=>xn,p$:()=>Ee,r3:()=>Ei,ru:()=>Yt,uI:()=>xt,w1:()=>Yn,z$:()=>Ut});var me=zt(655),Vt=function(W){for(var G=[],Q=0,ne=0;ne<W.length;ne++){var X=W.charCodeAt(ne);X<128?G[Q++]=X:X<2048?(G[Q++]=X>>6|192,G[Q++]=63&X|128):55296==(64512&X)&&ne+1<W.length&&56320==(64512&W.charCodeAt(ne+1))?(X=65536+((1023&X)<<10)+(1023&W.charCodeAt(++ne)),G[Q++]=X>>18|240,G[Q++]=X>>12&63|128,G[Q++]=X>>6&63|128,G[Q++]=63&X|128):(G[Q++]=X>>12|224,G[Q++]=X>>6&63|128,G[Q++]=63&X|128)}return G},Tr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],X=0;X<W.length;X+=3){var Ae=W[X],dt=X+1<W.length,Jt=dt?W[X+1]:0,fn=X+2<W.length,sn=fn?W[X+2]:0,pt=(15&Jt)<<2|sn>>6,ai=63&sn;fn||(ai=64,dt||(pt=64)),ne.push(Q[Ae>>2],Q[(3&Ae)<<4|Jt>>4],Q[pt],Q[ai])}return ne.join("")},encodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(Vt(W),G)},decodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){for(var G=[],Q=0,ne=0;Q<W.length;){var X=W[Q++];if(X<128)G[ne++]=String.fromCharCode(X);else if(X>191&&X<224){var Ae=W[Q++];G[ne++]=String.fromCharCode((31&X)<<6|63&Ae)}else if(X>239&&X<365){var fn=((7&X)<<18|(63&(Ae=W[Q++]))<<12|(63&(dt=W[Q++]))<<6|63&W[Q++])-65536;G[ne++]=String.fromCharCode(55296+(fn>>10)),G[ne++]=String.fromCharCode(56320+(1023&fn))}else{Ae=W[Q++];var dt=W[Q++];G[ne++]=String.fromCharCode((15&X)<<12|(63&Ae)<<6|63&dt)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray:function(W,G){this.init_();for(var Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],X=0;X<W.length;){var Ae=Q[W.charAt(X++)],Jt=X<W.length?Q[W.charAt(X)]:0,sn=++X<W.length?Q[W.charAt(X)]:64,en=++X<W.length?Q[W.charAt(X)]:64;if(++X,null==Ae||null==Jt||null==sn||null==en)throw Error();ne.push(Ae<<2|Jt>>4),64!==sn&&(ne.push(Jt<<4&240|sn>>2),64!==en&&ne.push(sn<<6&192|en))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},se=function(W){return function(W){var G=Vt(W);return Tr.encodeByteArray(G,!0)}(W).replace(/\./g,"")};function Ee(W){return Me(void 0,W)}function Me(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(var ne in G)!G.hasOwnProperty(ne)||!Te(ne)||(W[ne]=Me(W[ne],G[ne]));return W}function Te(W){return"__proto__"!==W}var Fe=function(){function W(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Q,ne){G.resolve=Q,G.reject=ne})}return W.prototype.wrapCallback=function(G){var Q=this;return function(ne,X){ne?Q.reject(ne):Q.resolve(X),"function"==typeof G&&(Q.promise.catch(function(){}),1===G.length?G(ne):G(ne,X))}},W}();function jt(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=G||"demo-project",X=W.iat||0,Ae=W.sub||W.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var dt=(0,me.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:X,exp:X+3600,auth_time:X,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},W);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(dt)),""].join(".")}function Ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function _t(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yr(){return"object"==typeof self&&self.self===self}function Yt(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function wi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bt(){return Ut().indexOf("Electron/")>=0}function Yn(){var W=Ut();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Xe(){return Ut().indexOf("MSAppHost/")>=0}function Ji(){return!_t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Oe=function(W){function G(Q,ne,X){var Ae=W.call(this,ne)||this;return Ae.code=Q,Ae.customData=X,Ae.name="FirebaseError",Object.setPrototypeOf(Ae,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ae,le.prototype.create),Ae}return(0,me.ZT)(G,W),G}(Error),le=function(){function W(G,Q,ne){this.service=G,this.serviceName=Q,this.errors=ne}return W.prototype.create=function(G){for(var Q=[],ne=1;ne<arguments.length;ne++)Q[ne-1]=arguments[ne];var X=Q[0]||{},Ae=this.service+"/"+G,dt=this.errors[G],Jt=dt?ct(dt,X):"Error",fn=this.serviceName+": "+Jt+" ("+Ae+").",sn=new Oe(Ae,fn,X);return sn},W}();function ct(W,G){return W.replace(Ct,function(Q,ne){var X=G[ne];return null!=X?String(X):"<"+ne+"?>"})}var Ct=/\{\$([^}]+)}/g;function Ei(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function xn(W,G){var Q=new Nn(W,G);return Q.subscribe.bind(Q)}!function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(G,Q){Q||(Q=0);var ne=this.W_;if("string"==typeof G)for(var X=0;X<16;X++)ne[X]=G.charCodeAt(Q)<<24|G.charCodeAt(Q+1)<<16|G.charCodeAt(Q+2)<<8|G.charCodeAt(Q+3),Q+=4;else for(X=0;X<16;X++)ne[X]=G[Q]<<24|G[Q+1]<<16|G[Q+2]<<8|G[Q+3],Q+=4;for(X=16;X<80;X++)ne[X]=4294967295&((Ae=ne[X-3]^ne[X-8]^ne[X-14]^ne[X-16])<<1|Ae>>>31);var en,pt,dt=this.chain_[0],Jt=this.chain_[1],fn=this.chain_[2],sn=this.chain_[3],Mr=this.chain_[4];for(X=0;X<80;X++){X<40?X<20?(en=sn^Jt&(fn^sn),pt=1518500249):(en=Jt^fn^sn,pt=1859775393):X<60?(en=Jt&fn|sn&(Jt|fn),pt=2400959708):(en=Jt^fn^sn,pt=3395469782);var Ae=(dt<<5|dt>>>27)+en+Mr+pt+ne[X]&4294967295;Mr=sn,sn=fn,fn=4294967295&(Jt<<30|Jt>>>2),Jt=dt,dt=Ae}this.chain_[0]=this.chain_[0]+dt&4294967295,this.chain_[1]=this.chain_[1]+Jt&4294967295,this.chain_[2]=this.chain_[2]+fn&4294967295,this.chain_[3]=this.chain_[3]+sn&4294967295,this.chain_[4]=this.chain_[4]+Mr&4294967295},W.prototype.update=function(G,Q){if(null!=G){void 0===Q&&(Q=G.length);for(var ne=Q-this.blockSize,X=0,Ae=this.buf_,dt=this.inbuf_;X<Q;){if(0===dt)for(;X<=ne;)this.compress_(G,X),X+=this.blockSize;if("string"==typeof G){for(;X<Q;)if(Ae[dt]=G.charCodeAt(X),++X,++dt===this.blockSize){this.compress_(Ae),dt=0;break}}else for(;X<Q;)if(Ae[dt]=G[X],++X,++dt===this.blockSize){this.compress_(Ae),dt=0;break}}this.inbuf_=dt,this.total_+=Q}},W.prototype.digest=function(){var G=[],Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&Q,Q/=256;this.compress_(this.buf_);var X=0;for(ne=0;ne<5;ne++)for(var Ae=24;Ae>=0;Ae-=8)G[X]=this.chain_[ne]>>Ae&255,++X;return G}}();var Nn=function(){function W(G,Q){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(function(){G(ne)}).catch(function(X){ne.error(X)})}return W.prototype.next=function(G){this.forEachObserver(function(Q){Q.next(G)})},W.prototype.error=function(G){this.forEachObserver(function(Q){Q.error(G)}),this.close(G)},W.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},W.prototype.subscribe=function(G,Q,ne){var Ae,X=this;if(void 0===G&&void 0===Q&&void 0===ne)throw new Error("Missing Observer.");Ae=function gn(W,G){if("object"!=typeof W||null===W)return!1;for(var Q=0,ne=G;Q<ne.length;Q++){var X=ne[Q];if(X in W&&"function"==typeof W[X])return!0}return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:ne},void 0===Ae.next&&(Ae.next=Hn),void 0===Ae.error&&(Ae.error=Hn),void 0===Ae.complete&&(Ae.complete=Hn);var dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{X.finalError?Ae.error(X.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),dt},W.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(G){if(!this.finalized)for(var Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)},W.prototype.sendOne=function(G,Q){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[G])try{Q(ne.observers[G])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})},W.prototype.close=function(G){var Q=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){Q.observers=void 0,Q.onNoObservers=void 0}))},W}();function Hn(){}function Ao(W){return W&&W._delegate?W._delegate:W}},6:(Ia,oi,zt)=>{function me(i){return"function"==typeof i}function I(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ze=I(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,c)=>`${c+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function nt(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class Vt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const h of t)h.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(me(o))try{o()}catch(h){e=h instanceof ze?h.errors:[h]}const{_finalizers:c}=this;if(c){this._finalizers=null;for(const h of c)try{bi(h)}catch(p){e=e??[],p instanceof ze?e=[...e,...p.errors]:e.push(p)}}if(e)throw new ze(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bi(e);else{if(e instanceof Vt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&nt(t,e)}remove(e){const{_finalizers:t}=this;t&&nt(t,e),e instanceof Vt&&e._removeParent(this)}}Vt.EMPTY=(()=>{const i=new Vt;return i.closed=!0,i})();const Zi=Vt.EMPTY;function Tr(i){return i instanceof Vt||i&&"closed"in i&&me(i.remove)&&me(i.add)&&me(i.unsubscribe)}function bi(i){me(i)?i():i.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},z={setTimeout(i,e,...t){const{delegate:o}=z;return o?.setTimeout?o.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){const{delegate:e}=z;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Ee(i){z.setTimeout(()=>{const{onUnhandledError:e}=se;if(!e)throw i;e(i)})}function Me(){}const Te=Ut("C",void 0,void 0);function Ut(i,e,t){return{kind:i,value:e,error:t}}let xt=null;function _t(i){if(se.useDeprecatedSynchronousErrorHandling){const e=!xt;if(e&&(xt={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:o}=xt;if(xt=null,t)throw o}}else i()}class Yt extends Vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tr(e)&&e.add(this)):this.destination=de}static create(e,t,o){return new Xe(e,t,o)}next(e){this.isStopped?ft(function jt(i){return Ut("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ft(function Fe(i){return Ut("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ft(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wi=Function.prototype.bind;function bt(i,e){return wi.call(i,e)}class Yn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(o){Qt(o)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(o){Qt(o)}else Qt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qt(t)}}}class Xe extends Yt{constructor(e,t,o){let c;if(super(),me(e)||!e)c={next:e??void 0,error:t??void 0,complete:o??void 0};else{let h;this&&se.useDeprecatedNextContext?(h=Object.create(e),h.unsubscribe=()=>this.unsubscribe(),c={next:e.next&&bt(e.next,h),error:e.error&&bt(e.error,h),complete:e.complete&&bt(e.complete,h)}):c=e}this.destination=new Yn(c)}}function Qt(i){se.useDeprecatedSynchronousErrorHandling?function yr(i){se.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=i)}(i):Ee(i)}function ft(i,e){const{onStoppedNotification:t}=se;t&&z.setTimeout(()=>t(i,e))}const de={closed:!0,next:Me,error:function Ji(i){throw i},complete:Me},B="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(i){return i}function Oe(i){return 0===i.length?ve:1===i.length?i[0]:function(t){return i.reduce((o,c)=>c(o),t)}}let le=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,c){const h=function lr(i){return i&&i instanceof Yt||function Ct(i){return i&&me(i.next)&&me(i.error)&&me(i.complete)}(i)&&Tr(i)}(t)?t:new Xe(t,o,c);return _t(()=>{const{operator:p,source:m}=this;h.add(p?p.call(h,m):m?this._subscribe(h):this._trySubscribe(h))}),h}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=ct(o))((c,h)=>{const p=new Xe({next:m=>{try{t(m)}catch(_){h(_),p.unsubscribe()}},error:h,complete:c});this.subscribe(p)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[B](){return this}pipe(...t){return Oe(t)(this)}toPromise(t){return new(t=ct(t))((o,c)=>{let h;this.subscribe(p=>h=p,p=>c(p),()=>o(h))})}}return i.create=e=>new i(e),i})();function ct(i){var e;return null!==(e=i??se.Promise)&&void 0!==e?e:Promise}const et=I(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class i extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new $e(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new et}next(t){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(t)}})}error(t){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:c,observers:h}=this;return o||c?Zi:(this.currentObservers=null,h.push(t),new Vt(()=>{this.currentObservers=null,nt(h,t)}))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:c,isStopped:h}=this;o?t.error(c):h&&t.complete()}asObservable(){const t=new le;return t.source=this,t}}return i.create=(e,t)=>new $e(e,t),i})();class $e extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)}error(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:Zi}}function rt(i){return me(i?.lift)}function ht(i){return e=>{if(rt(e))return e.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(i,e,t,o,c){return new Ei(i,e,t,o,c)}class Ei extends Yt{constructor(e,t,o,c,h,p){super(e),this.onFinalize=h,this.shouldUnsubscribe=p,this._next=t?function(m){try{t(m)}catch(_){e.error(_)}}:super._next,this._error=c?function(m){try{c(m)}catch(_){e.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function st(i,e){return ht((t,o)=>{let c=0;t.subscribe(Ze(o,h=>{o.next(i.call(e,h,c++))}))})}var Kr=zt(655);const Ho=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function bn(i){return me(i?.then)}function _r(i){return me(i[B])}function Du(i){return Symbol.asyncIterator&&me(i?.[Symbol.asyncIterator])}function $t(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const si=function Zt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xn(i){return me(i?.[si])}function Nn(i){return(0,Kr.FC)(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:c}=yield(0,Kr.qq)(t.read());if(c)return yield(0,Kr.qq)(void 0);yield yield(0,Kr.qq)(o)}}finally{t.releaseLock()}})}function Un(i){return me(i?.getReader)}function gn(i){if(i instanceof le)return i;if(null!=i){if(_r(i))return function Hn(i){return new le(e=>{const t=i[B]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Ho(i))return function Cs(i){return new le(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(bn(i))return function eo(i){return new le(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ee)})}(i);if(Du(i))return Ar(i);if(xn(i))return function oh(i){return new le(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(Un(i))return function qo(i){return Ar(Nn(i))}(i)}throw $t(i)}function Ar(i){return new le(e=>{(function Td(i,e){var t,o,c,h;return(0,Kr.mG)(this,void 0,void 0,function*(){try{for(t=(0,Kr.KL)(i);!(o=yield t.next()).done;)if(e.next(o.value),e.closed)return}catch(p){c={error:p}}finally{try{o&&!o.done&&(h=t.return)&&(yield h.call(t))}finally{if(c)throw c.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function Ci(i,e,t,o=0,c=!1){const h=e.schedule(function(){t(),c?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(h),!c)return h}function Dt(i,e,t=1/0){return me(e)?Dt((o,c)=>st((h,p)=>e(o,h,c,p))(gn(i(o,c))),t):("number"==typeof e&&(t=e),ht((o,c)=>function sh(i,e,t,o,c,h,p,m){const _=[];let E=0,S=0,k=!1;const F=()=>{k&&!_.length&&!E&&e.complete()},V=Y=>E<o?$(Y):_.push(Y),$=Y=>{h&&e.next(Y),E++;let ae=!1;gn(t(Y,S++)).subscribe(Ze(e,pe=>{c?.(pe),h?V(pe):e.next(pe)},()=>{ae=!0},void 0,()=>{if(ae)try{for(E--;_.length&&E<o;){const pe=_.shift();p?Ci(e,p,()=>$(pe)):$(pe)}F()}catch(pe){e.error(pe)}}))};return i.subscribe(Ze(e,V,()=>{k=!0,F()})),()=>{m?.()}}(o,c,i,t)))}function Bi(i=1/0){return Dt(ve,i)}const br=new le(i=>i.complete());function Pn(i){return i&&me(i.schedule)}function Ao(i){return i[i.length-1]}function W(i){return me(Ao(i))?i.pop():void 0}function G(i){return Pn(Ao(i))?i.pop():void 0}function ne(i,e=0){return ht((t,o)=>{t.subscribe(Ze(o,c=>Ci(o,i,()=>o.next(c),e),()=>Ci(o,i,()=>o.complete(),e),c=>Ci(o,i,()=>o.error(c),e)))})}function X(i,e=0){return ht((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),e))})}function sn(i,e){if(!i)throw new Error("Iterable cannot be null");return new le(t=>{Ci(t,e,()=>{const o=i[Symbol.asyncIterator]();Ci(t,e,()=>{o.next().then(c=>{c.done?t.complete():t.next(c.value)})},0,!0)})})}function pt(i,e){return e?function en(i,e){if(null!=i){if(_r(i))return function Ae(i,e){return gn(i).pipe(X(e),ne(e))}(i,e);if(Ho(i))return function Jt(i,e){return new le(t=>{let o=0;return e.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,e);if(bn(i))return function dt(i,e){return gn(i).pipe(X(e),ne(e))}(i,e);if(Du(i))return sn(i,e);if(xn(i))return function fn(i,e){return new le(t=>{let o;return Ci(t,e,()=>{o=i[si](),Ci(t,e,()=>{let c,h;try{({value:c,done:h}=o.next())}catch(p){return void t.error(p)}h?t.complete():t.next(c)},0,!0)}),()=>me(o?.return)&&o.return()})}(i,e);if(Un(i))return function Mr(i,e){return sn(Nn(i),e)}(i,e)}throw $t(i)}(i,e):gn(i)}function ai(...i){const e=G(i),t=function Q(i,e){return"number"==typeof Ao(i)?i.pop():e}(i,1/0),o=i;return o.length?1===o.length?gn(o[0]):Bi(t)(pt(o,e)):br}function zs(i={}){const{connector:e=(()=>new ke),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=i;return h=>{let p,m,_,E=0,S=!1,k=!1;const F=()=>{m?.unsubscribe(),m=void 0},V=()=>{F(),p=_=void 0,S=k=!1},$=()=>{const Y=p;V(),Y?.unsubscribe()};return ht((Y,ae)=>{E++,!k&&!S&&F();const pe=_=_??e();ae.add(()=>{E--,0===E&&!k&&!S&&(m=ah($,c))}),pe.subscribe(ae),!p&&E>0&&(p=new Xe({next:Re=>pe.next(Re),error:Re=>{k=!0,F(),m=ah(V,t,Re),pe.error(Re)},complete:()=>{S=!0,F(),m=ah(V,o),pe.complete()}}),gn(Y).subscribe(p))})(h)}}function ah(i,e,...t){if(!0===e)return void i();if(!1===e)return;const o=new Xe({next:()=>{o.unsubscribe(),i()}});return e(...t).subscribe(o)}function An(i){for(let e in i)if(i[e]===An)return e;throw Error("Could not find renamed property on target object.")}function to(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function gt(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(gt).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function zo(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const uh=An({__forward_ref__:An});function Iu(i){return i.__forward_ref__=Iu,i.toString=function(){return gt(this())},i}function it(i){return function $o(i){return"function"==typeof i&&i.hasOwnProperty(uh)&&i.__forward_ref__===Iu}(i)?i():i}class Ce extends Error{constructor(e,t){super(function Ds(i,e){return`NG0${Math.abs(i)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function lt(i){return"string"==typeof i?i:null==i?"":String(i)}function Go(i,e){throw new Ce(-201,!1)}function Yr(i,e){null==i&&function It(i,e,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${e} <=Actual]`))}(e,i,null,"!=")}function xe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function wn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ru(i){return Ss(i,Is)||Ss(i,ph)}function Ss(i,e){return i.hasOwnProperty(e)?i[e]:null}function Gs(i){return i&&(i.hasOwnProperty(Ko)||i.hasOwnProperty(Uc))?i[Ko]:null}const Is=An({\u0275prov:An}),Ko=An({\u0275inj:An}),ph=An({ngInjectableDef:An}),Uc=An({ngInjectorDef:An});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let xa;function Di(i){const e=xa;return xa=i,e}function Hc(i,e,t){const o=Ru(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&Je.Optional?null:void 0!==e?e:void Go(gt(i))}function ui(i){return{toString:i}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),Xr=(()=>{return(i=Xr||(Xr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Xr;var i})();const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yo={},R=[],M=An({\u0275cmp:An}),L=An({\u0275dir:An}),H=An({\u0275pipe:An}),K=An({\u0275mod:An}),te=An({\u0275fac:An}),_e=An({__NG_ELEMENT_ID__:An});let je=0;function be(i){return ui(()=>{const t=!0===i.standalone,o={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||R,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Xr.Emulated,id:"c"+je++,styles:i.styles||R,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.dependencies,p=i.features;return c.inputs=mn(i.inputs,o),c.outputs=mn(i.outputs),p&&p.forEach(m=>m(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(mt).filter(vt):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(Fn).filter(vt):null,c})}function mt(i){return Gt(i)||Dn(i)}function vt(i){return null!==i}function Tt(i){return ui(()=>({type:i.type,bootstrap:i.bootstrap||R,declarations:i.declarations||R,imports:i.imports||R,exports:i.exports||R,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function mn(i,e){if(null==i)return Yo;const t={};for(const o in i)if(i.hasOwnProperty(o)){let c=i[o],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),t[c]=o,e&&(e[c]=h)}return t}const wt=be;function Gt(i){return i[M]||null}function Dn(i){return i[L]||null}function Fn(i){return i[H]||null}function nr(i,e){const t=i[K]||null;if(!t&&!0===e)throw new Error(`Type ${gt(i)} does not have '\u0275mod' property.`);return t}function Si(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ii(i){return Array.isArray(i)&&!0===i[1]}function xd(i){return 0!=(8&i.flags)}function mh(i){return 2==(2&i.flags)}function vh(i){return 1==(1&i.flags)}function ci(i){return null!==i.template}function Od(i){return 0!=(256&i[2])}function li(i,e){return i.hasOwnProperty(te)?i[te]:null}class Bd{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Vd(i){return i.type.prototype.ngOnChanges&&(i.setInput=sm),Nu}function Nu(){const i=_h(this),e=i?.current;if(e){const t=i.previous;if(t===Yo)i.previous=e;else for(let o in e)t[o]=e[o];i.current=null,this.ngOnChanges(e)}}function sm(i,e,t,o){const c=_h(i)||function ji(i,e){return i[jd]=e}(i,{previous:Yo,current:null}),h=c.current||(c.current={}),p=c.previous,m=this.declaredInputs[t],_=p[m];h[m]=new Bd(_&&_.currentValue,e,p===Yo),i[o]=e}const jd="__ngSimpleChanges__";function _h(i){return i[jd]||null}function ar(i){for(;Array.isArray(i);)i=i[0];return i}function Eh(i,e){return ar(e[i])}function Qo(i,e){return ar(e[i.index])}function Jr(i,e){return i.data[e]}function ge(i,e){const t=e[i];return Si(t)?t:t[0]}function ro(i){return 4==(4&i[2])}function Ai(i){return 64==(64&i[2])}function Ln(i,e){return null==e?null:i[e]}function Jc(i){i[18]=0}function Fu(i,e){i[5]+=e;let t=i,o=i[3];for(;null!==o&&(1===e&&1===t[5]||-1===e&&0===t[5]);)o[5]+=e,t=o,o=o[3]}const we={lFrame:Uu(null),bindingsEnabled:!0};function Zs(){return we.bindingsEnabled}function re(){return we.lFrame.lView}function Wt(){return we.lFrame.tView}function xr(i){return we.lFrame.contextLView=i,i[8]}function ko(i){return we.lFrame.contextLView=null,i}function Zn(){let i=Kt();for(;null!==i&&64===i.type;)i=i.parent;return i}function Kt(){return we.lFrame.currentTNode}function Cr(i,e){const t=we.lFrame;t.currentTNode=i,t.isParent=e}function Ui(){return we.lFrame.isParent}function Vr(){we.lFrame.isParent=!1}function di(){const i=we.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function io(){return we.lFrame.bindingIndex++}function Mi(i,e){const t=we.lFrame;t.bindingIndex=t.bindingRootIndex=i,Lu(e)}function Lu(i){we.lFrame.currentDirectiveIndex=i}function Ms(i){const e=we.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function Ch(){return we.lFrame.currentQueryIndex}function Bu(i){we.lFrame.currentQueryIndex=i}function Ud(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function Vu(i,e,t){if(t&Je.SkipSelf){let c=e,h=i;for(;!(c=c.parent,null!==c||t&Je.Host||(c=Ud(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;e=c,i=h}const o=we.lFrame=nl();return o.currentTNode=e,o.lView=i,!0}function ju(i){const e=nl(),t=i[1];we.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nl(){const i=we.lFrame,e=null===i?null:i.child;return null===e?Uu(i):e}function Uu(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function xp(){const i=we.lFrame;return we.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Hu=xp;function Rs(){const i=xp();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Sn(){return we.lFrame.selectedIndex}function Ha(i){we.lFrame.selectedIndex=i}function ur(){const i=we.lFrame;return Jr(i.tView,i.selectedIndex)}function il(i,e){for(let t=e.directiveStart,o=e.directiveEnd;t<o;t++){const h=i.data[t].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:E,ngOnDestroy:S}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-t,p),m&&((i.contentHooks||(i.contentHooks=[])).push(t,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,m)),_&&(i.viewHooks||(i.viewHooks=[])).push(-t,_),E&&((i.viewHooks||(i.viewHooks=[])).push(t,E),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,E)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(t,S)}}function ol(i,e,t){cm(i,e,3,t)}function Sh(i,e,t,o){(3&i[2])===t&&cm(i,e,t,o)}function Op(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function cm(i,e,t,o){const h=o??-1,p=e.length-1;let m=0;for(let _=void 0!==o?65535&i[18]:0;_<p;_++)if("number"==typeof e[_+1]){if(m=e[_],null!=o&&m>=o)break}else e[_]<0&&(i[18]+=65536),(m<h||-1==h)&&(lm(i,t,e,_),i[18]=(4294901760&i[18])+_+2),_++}function lm(i,e,t,o){const c=t[o]<0,h=t[o+1],m=i[c?-t[o]:t[o]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class qa{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function za(i,e,t){let o=0;for(;o<t.length;){const c=t[o];if("number"==typeof c){if(0!==c)break;o++;const h=t[o++],p=t[o++],m=t[o++];i.setAttribute(e,p,m,h)}else{const h=c,p=t[++o];Mh(h)?i.setProperty(e,h,p):i.setAttribute(e,h,p),o++}}return o}function Ah(i){return 3===i||4===i||6===i}function Mh(i){return 64===i.charCodeAt(0)}function ea(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let o=0;o<e.length;o++){const c=e[o];"number"==typeof c?t=c:0===t||$u(i,t,c,null,-1===t||2===t?e[++o]:null)}}return i}function $u(i,e,t,o,c){let h=0,p=i.length;if(-1===e)p=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===e){p=-1;break}if(m>e){p=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===t){if(null===o)return void(null!==c&&(i[h+1]=c));if(o===i[h+1])return void(i[h+2]=c)}h++,null!==o&&h++,null!==c&&h++}-1!==p&&(i.splice(p,0,e),h=p+1),i.splice(h++,0,t),null!==o&&i.splice(h++,0,o),null!==c&&i.splice(h++,0,c)}function pi(i){return-1!==i}function Gu(i){return 32767&i}function Wu(i,e){let t=function Rh(i){return i>>16}(i),o=e;for(;t>0;)o=o[15],t--;return o}let $a=!0;function es(i){const e=$a;return $a=i,e}let $d=0;const go={};function Ku(i,e){const t=al(i,e);if(-1!==t)return t;const o=e[1];o.firstCreatePass&&(i.injectorIndex=e.length,Gd(o.data,i),Gd(e,null),Gd(o.blueprint,null));const c=ti(i,e),h=i.injectorIndex;if(pi(c)){const p=Gu(c),m=Wu(c,e),_=m[1].data;for(let E=0;E<8;E++)e[h+E]=m[p+E]|_[p+E]}return e[h+8]=c,h}function Gd(i,e){i.push(0,0,0,0,0,0,0,0,e)}function al(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function ti(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,c=e;for(;null!==c;){if(o=Xu(c),null===o)return-1;if(t++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function ts(i,e,t){!function kh(i,e,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(_e)&&(o=t[_e]),null==o&&(o=t[_e]=$d++);const c=255&o;e.data[i+(c>>5)]|=1<<c}(i,e,t)}function ta(i,e,t){if(t&Je.Optional)return i;Go()}function Wd(i,e,t,o){if(t&Je.Optional&&void 0===o&&(o=null),0==(t&(Je.Self|Je.Host))){const c=i[9],h=Di(void 0);try{return c?c.get(e,o,t&Je.Optional):Hc(e,o,t&Je.Optional)}finally{Di(h)}}return ta(o,0,t)}function Ga(i,e,t,o=Je.Default,c){if(null!==i){if(1024&e[2]){const p=function Wa(i,e,t,o,c){let h=i,p=e;for(;null!==h&&null!==p&&1024&p[2]&&!(256&p[2]);){const m=ul(h,p,t,o|Je.Self,go);if(m!==go)return m;let _=h.parent;if(!_){const E=p[21];if(E){const S=E.get(t,go,o);if(S!==go)return S}_=Xu(p),p=p[15]}h=_}return c}(i,e,t,o,go);if(p!==go)return p}const h=ul(i,e,t,o,go);if(h!==go)return h}return Wd(e,t,o,c)}function ul(i,e,t,o,c){const h=function Dr(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(_e)?i[_e]:void 0;return"number"==typeof e?e>=0?255&e:is:e}(t);if("function"==typeof h){if(!Vu(e,i,o))return o&Je.Host?ta(c,0,o):Wd(e,t,o,c);try{const p=h(o);if(null!=p||o&Je.Optional)return p;Go()}finally{Hu()}}else if("number"==typeof h){let p=null,m=al(i,e),_=-1,E=o&Je.Host?e[16][6]:null;for((-1===m||o&Je.SkipSelf)&&(_=-1===m?ti(i,e):e[m+8],-1!==_&&Yu(o,!1)?(p=e[1],m=Gu(_),e=Wu(_,e)):m=-1);-1!==m;){const S=e[1];if(rs(h,m,S.data)){const k=cl(m,e,t,p,o,E);if(k!==go)return k}_=e[m+8],-1!==_&&Yu(o,e[1].data[m+8]===E)&&rs(h,m,e)?(p=S,m=Gu(_),e=Wu(_,e)):m=-1}}return c}function cl(i,e,t,o,c,h){const p=e[1],m=p.data[i+8],S=ns(m,p,t,null==o?mh(m)&&$a:o!=p&&0!=(3&m.type),c&Je.Host&&h===m);return null!==S?ks(e,p,S,m):go}function ns(i,e,t,o,c){const h=i.providerIndexes,p=e.data,m=1048575&h,_=i.directiveStart,S=h>>20,F=c?m+S:i.directiveEnd;for(let V=o?m:m+S;V<F;V++){const $=p[V];if(V<_&&t===$||V>=_&&$.type===t)return V}if(c){const V=p[_];if(V&&ci(V)&&V.type===t)return _}return null}function ks(i,e,t,o){let c=i[t];const h=e.data;if(function qu(i){return i instanceof qa}(c)){const p=c;p.resolving&&function lh(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${i}${t}`)}(function un(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():lt(i)}(h[t]));const m=es(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?Di(p.injectImpl):null;Vu(i,o,Je.Default);try{c=i[t]=p.factory(void 0,h,i,o),e.firstCreatePass&&t>=o.directiveStart&&function Wv(i,e,t){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=e.type.prototype;if(o){const p=Vd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,p),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,p)}c&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,c),h&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,h),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,h))}(t,h[t],e)}finally{null!==_&&Di(_),es(m),p.resolving=!1,Hu()}}return c}function rs(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function Yu(i,e){return!(i&Je.Self||i&Je.Host&&e)}class ll{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,o){return Ga(this._tNode,this._lView,e,o,t)}}function is(){return new ll(Zn(),re())}function Xu(i){const e=i[1],t=e.type;return 2===t?e.declTNode:1===t?i[6]:null}function Jn(i){return function Fp(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const o=t.length;let c=0;for(;c<o;){const h=t[c];if(Ah(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof t[c];)c++;else{if(h===e)return t[c+1];c+=2}}}return null}(Zn(),i)}const Ka="__parameters__";function os(i,e,t){return ui(()=>{const o=function Lt(i){return function(...t){if(i){const o=i(...t);for(const c in o)this[c]=o[c]}}}(e);function c(...h){if(this instanceof c)return o.apply(this,h),this;const p=new c(...h);return m.annotation=p,m;function m(_,E,S){const k=_.hasOwnProperty(Ka)?_[Ka]:Object.defineProperty(_,Ka,{value:[]})[Ka];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(p),_}}return t&&(c.prototype=Object.create(t.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Le{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ri(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let o=i[t];Array.isArray(o)?(e===i&&(e=i.slice(0,t)),Ri(o,e)):e!==i&&e.push(o)}return e}function yo(i,e){i.forEach(t=>Array.isArray(t)?yo(t,e):e(t))}function Ya(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function xs(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Os(i,e){const t=[];for(let o=0;o<i;o++)t.push(e);return t}function Hi(i,e,t){let o=Ns(i,e);return o>=0?i[1|o]=t:(o=~o,function ef(i,e,t,o){let c=i.length;if(c==e)i.push(t,o);else if(1===c)i.push(o,i[0]),i[0]=t;else{for(c--,i.push(i[c-1],i[c]);c>e;)i[c]=i[c-2],c--;i[e]=t,i[e+1]=o}}(i,o,e,t)),o}function xh(i,e){const t=Ns(i,e);if(t>=0)return i[1|t]}function Ns(i,e){return function dl(i,e,t){let o=0,c=i.length>>t;for(;c!==o;){const h=o+(c-o>>1),p=i[h<<t];if(e===p)return h<<t;p>e?c=h:o=h+1}return~(c<<t)}(i,e,1)}const ra={},Ju="__NG_DI_FLAG__",ia="ngTempTokenPath",fl=/\n/gm,ec="__source";let tc;function nc(i){const e=tc;return tc=i,e}function gm(i,e=Je.Default){if(void 0===tc)throw new Ce(-203,!1);return null===tc?Hc(i,void 0,e):tc.get(i,e&Je.Optional?null:void 0,e)}function oe(i,e=Je.Default){return(function Oa(){return xa}()||gm)(it(i),e)}function Rn(i,e=Je.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),oe(i,e)}function oa(i){const e=[];for(let t=0;t<i.length;t++){const o=it(i[t]);if(Array.isArray(o)){if(0===o.length)throw new Ce(900,!1);let c,h=Je.Default;for(let p=0;p<o.length;p++){const m=o[p],_=vm(m);"number"==typeof _?-1===_?c=m.token:h|=_:c=m}e.push(oe(c,h))}else e.push(oe(o))}return e}function gl(i,e){return i[Ju]=e,i.prototype[Ju]=e,i}function vm(i){return i[Ju]}const as=gl(os("Optional"),8),pr=gl(os("SkipSelf"),4);let ac,_o;function aa(i){return function yl(){if(void 0===_o&&(_o=null,Xt.trustedTypes))try{_o=Xt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return _o}()?.createHTML(i)||i}class ua{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bm extends ua{getTypeName(){return"HTML"}}class qr extends ua{getTypeName(){return"Style"}}class Qa extends ua{getTypeName(){return"Script"}}class bl extends ua{getTypeName(){return"URL"}}class Fh extends ua{getTypeName(){return"ResourceURL"}}function co(i){return i instanceof ua?i.changingThisBreaksApplicationSecurity:i}function bo(i,e){const t=function Zv(i){return i instanceof ua&&i.getTypeName()||null}(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class lf{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(aa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Po{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const o=this.inertDocument.createElement("body");t.appendChild(o)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=aa(e),t;const o=this.inertDocument.createElement("body");return o.innerHTML=aa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(e){const t=e.attributes;for(let c=t.length-1;0<c;c--){const p=t.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&e.removeAttribute(p)}let o=e.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const hf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fo(i){return(i=String(i)).match(hf)||i.match(Cm)?i:"unsafe:"+i}function cs(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function Za(...i){const e={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(e[o]=!0);return e}const Dm=cs("area,br,col,hr,img,wbr"),lc=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yp=cs("rp,rt"),Xp=Za(Dm,Za(lc,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Za(Yp,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Za(Yp,lc)),Qp=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zp=cs("srcset"),Ja=Za(Qp,Zp,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eg=cs("script,style,template");class ey{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let c=this.checkClobberedElement(t,t.nextSibling);if(c){t=c;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Xp.hasOwnProperty(t))return this.sanitizedSomething=!0,!eg.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let c=0;c<o.length;c++){const h=o.item(c),p=h.name,m=p.toLowerCase();if(!Ja.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=h.value;Qp[m]&&(_=Fo(_)),Zp[m]&&(i=_,_=(i=String(i)).split(",").map(e=>Fo(e.trim())).join(", ")),this.buf.push(" ",p,'="',ca(_),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Xp.hasOwnProperty(t)&&!Dm.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ca(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ty=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sm=/([^\#-~ |!])/g;function ca(i){return i.replace(/&/g,"&amp;").replace(ty,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Sm,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dc;function Im(i,e){let t=null;try{dc=dc||function Lh(i){const e=new Po(i);return function Em(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch{return!1}}()?new lf(e):e}(i);let o=e?String(e):"";t=dc.getInertBodyElement(o);let c=5,h=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=h,h=t.innerHTML,t=dc.getInertBodyElement(o)}while(o!==h);return aa((new ey).sanitizeChildren(df(t)||t))}finally{if(t){const o=df(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function df(i){return"content"in i&&function ff(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function El(i){const e=function Cl(){const i=re();return i&&i[12]}();return e?e.sanitize(In.URL,i)||"":bo(i,"URL")?co(i):Fo(lt(i))}const rg=new Le("ENVIRONMENT_INITIALIZER"),Dl=new Le("INJECTOR",-1),Mm=new Le("INJECTOR_DEF_TYPES");class eu{get(e,t=ra){if(t===ra){const o=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw o.name="NullInjectorError",o}return t}}function tu(...i){return{\u0275providers:fc(0,i)}}function fc(i,...e){const t=[],o=new Set;let c;return yo(e,h=>{const p=h;Vh(p,t,[],o)&&(c||(c=[]),c.push(p))}),void 0!==c&&gf(c,t),t}function gf(i,e){for(let t=0;t<i.length;t++){const{providers:c}=i[t];yo(c,h=>{e.push(h)})}}function Vh(i,e,t,o){if(!(i=it(i)))return!1;let c=null,h=Gs(i);const p=!h&&Gt(i);if(h||p){if(p&&!p.standalone)return!1;c=i}else{const _=i.ngModule;if(h=Gs(_),!h)return!1;c=_}const m=o.has(c);if(p){if(m)return!1;if(o.add(c),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const E of _)Vh(E,e,t,o)}}else{if(!h)return!1;{if(null!=h.imports&&!m){let E;o.add(c);try{yo(h.imports,S=>{Vh(S,e,t,o)&&(E||(E=[]),E.push(S))})}finally{}void 0!==E&&gf(E,e)}if(!m){const E=li(c)||(()=>new c);e.push({provide:c,useFactory:E,deps:R},{provide:Mm,useValue:c,multi:!0},{provide:rg,useValue:()=>oe(c),multi:!0})}const _=h.providers;null==_||m||yo(_,S=>{e.push(S)})}}return c!==i&&void 0!==i.providers}const Rm=An({provide:String,useValue:An});function pc(i){return null!==i&&"object"==typeof i&&Rm in i}function tr(i){return"function"==typeof i}const vf=new Le("Set Injector scope."),yf={},Om={};let _f;function jh(){return void 0===_f&&(_f=new eu),_f}class la{}class Nr extends la{constructor(e,t,o,c){super(),this.parent=t,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ha(e,p=>this.processProvider(p)),this.records.set(Dl,Ls(void 0,this)),c.has("environment")&&this.records.set(la,Ls(void 0,this));const h=this.records.get(vf);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Mm.multi,R,Je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=nc(this),o=Di(void 0);try{return e()}finally{nc(t),Di(o)}}get(e,t=ra,o=Je.Default){this.assertNotDestroyed();const c=nc(this),h=Di(void 0);try{if(!(o&Je.SkipSelf)){let m=this.records.get(e);if(void 0===m){const _=function gc(i){return"function"==typeof i||"object"==typeof i&&i instanceof Le}(e)&&Ru(e);m=_&&this.injectableDefInScope(_)?Ls(Uh(e),yf):null,this.records.set(e,m)}if(null!=m)return this.hydrate(e,m)}return(o&Je.Self?jh():this.parent).get(e,t=o&Je.Optional&&t===ra?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[ia]=p[ia]||[]).unshift(gt(e)),c)throw p;return function nf(i,e,t,o){const c=i[ia];throw e[ec]&&c.unshift(e[ec]),i.message=function Hp(i,e,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=gt(e);if(Array.isArray(e))c=e.map(gt).join(" -> ");else if("object"==typeof e){let h=[];for(let p in e)if(e.hasOwnProperty(p)){let m=e[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):gt(m)))}c=`{${h.join(", ")}}`}return`${t}${o?"("+o+")":""}[${c}]: ${i.replace(fl,"\n  ")}`}("\n"+i.message,c,t,o),i.ngTokenPath=c,i[ia]=null,i}(p,e,"R3InjectorError",this.source)}throw p}finally{Di(h),nc(c)}}resolveInjectorInitializers(){const e=nc(this),t=Di(void 0);try{const o=this.get(rg.multi,R,Je.Self);for(const c of o)c()}finally{nc(e),Di(t)}}toString(){const e=[],t=this.records;for(const o of t.keys())e.push(gt(o));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(e){let t=tr(e=it(e))?e:it(e&&e.provide);const o=function ig(i){return pc(i)?Ls(void 0,i.useValue):Ls(function wf(i,e,t){let o;if(tr(i)){const c=it(i);return li(c)||Uh(c)}if(pc(i))o=()=>it(i.useValue);else if(function mf(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...oa(i.deps||[]));else if(function km(i){return!(!i||!i.useExisting)}(i))o=()=>oe(it(i.useExisting));else{const c=it(i&&(i.useClass||i.provide));if(!function Hh(i){return!!i.deps}(i))return li(c)||Uh(c);o=()=>new c(...oa(i.deps))}return o}(i),yf)}(e);if(tr(e)||!0!==e.multi)this.records.get(t);else{let c=this.records.get(t);c||(c=Ls(void 0,yf,!0),c.factory=()=>oa(c.multi),this.records.set(t,c)),t=e,c.multi.push(e)}this.records.set(t,o)}hydrate(e,t){return t.value===yf&&(t.value=Om,t.value=t.factory()),"object"==typeof t.value&&t.value&&function og(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=it(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Uh(i){const e=Ru(i),t=null!==e?e.factory:li(i);if(null!==t)return t;if(i instanceof Le)throw new Ce(204,!1);if(i instanceof Function)return function bf(i){const e=i.length;if(e>0)throw Os(e,"?"),new Ce(204,!1);const t=function fh(i){const e=i&&(i[Is]||i[ph]);if(e){const t=function ka(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Ce(204,!1)}function Ls(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function mc(i){return!!i.\u0275providers}function ha(i,e){for(const t of i)Array.isArray(t)?ha(t,e):mc(t)?ha(t.\u0275providers,e):e(t)}class Ef{}class Sl{resolveComponentFactory(e){throw function oy(i){const e=Error(`No component factory found for ${gt(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let wo=(()=>{class i{}return i.NULL=new Sl,i})();function Il(){return nu(Zn(),re())}function nu(i,e){return new Ir(Qo(i,e))}let Ir=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=Il,i})();function ag(i){return i instanceof Ir?i.nativeElement:i}class qh{}let Cf=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ug(){const i=re(),t=ge(Zn().index,i);return(Si(t)?t:i)[11]}(),i})(),zh=(()=>{class i{}return i.\u0275prov=xe({token:i,providedIn:"root",factory:()=>null}),i})();class ls{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Df=new ls("14.1.2"),vc={};function iu(i){return i.ngOriginalError}class mi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&iu(e);for(;t&&iu(t);)t=iu(t);return t||null}}const ou=new Map;let cy=0;const xf="__ngContext__";function zr(i,e){Si(e)?(i[xf]=e[20],function dg(i){ou.set(i[20],i)}(e)):i[xf]=e}function Jh(i){const e=i[xf];return"number"==typeof e?function Qh(i){return ou.get(i)||null}(e):e||null}function Rl(i){const e=Jh(i);return e?Si(e)?e:e.lView:null}const zm=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Xt))();function Co(i){return i instanceof Function?i():i}var lo=(()=>((lo=lo||{})[lo.Important=1]="Important",lo[lo.DashCase=2]="DashCase",lo))();function mg(i,e){return undefined(i,e)}function rd(i){const e=i[3];return Ii(e)?e[3]:e}function xl(i){return _g(i[13])}function _c(i){return _g(i[4])}function _g(i){for(;null!==i&&!Ii(i);)i=i[4];return i}function bc(i,e,t,o,c){if(null!=o){let h,p=!1;Ii(o)?h=o:Si(o)&&(p=!0,o=o[0]);const m=ar(o);0===i&&null!==t?null==c?qf(e,t,m):Pr(e,t,m,c||null,!0):1===i&&null!==t?Pr(e,t,m,c||null,!0):2===i?function ln(i,e,t){const o=Dc(i,e);o&&function zf(i,e,t,o){i.removeChild(e,t,o)}(i,o,e,t)}(e,m,p):3===i&&e.destroyNode(m),null!=h&&function vi(i,e,t,o,c){const h=t[7];h!==ar(t)&&bc(e,i,o,h,c);for(let m=10;m<t.length;m++){const _=t[m];au(_[1],_,i,e,o,h)}}(e,i,h,t,c)}}function ds(i,e,t){return i.createElement(e,t)}function Nl(i,e){const t=i[9],o=t.indexOf(e),c=e[3];512&e[2]&&(e[2]&=-513,Fu(c,-1)),t.splice(o,1)}function wc(i,e){if(i.length<=10)return;const t=10+e,o=i[t];if(o){const c=o[17];null!==c&&c!==i&&Nl(c,o),e>0&&(i[t-1][4]=o[4]);const h=xs(i,10+e);!function Eg(i,e){au(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(o[1],o);const p=h[19];null!==p&&p.detachView(h[1]),o[3]=null,o[4]=null,o[2]&=-65}return o}function Hf(i,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&au(i,e,t,3,null,null),function Cg(i){let e=i[13];if(!e)return id(i[1],i);for(;e;){let t=null;if(Si(e))t=e[13];else{const o=e[10];o&&(t=o)}if(!t){for(;e&&!e[4]&&e!==i;)Si(e)&&id(e[1],e),e=e[3];null===e&&(e=i),Si(e)&&id(e[1],e),t=e&&e[4]}e=t}}(e)}}function id(i,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Pl(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const c=e[t[o]];if(!(c instanceof qa)){const h=t[o+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=c[h[p]],_=h[p+1];try{_.call(m)}finally{}}else try{h.call(c)}finally{}}}}(i,e),function Xm(i,e){const t=i.cleanup,o=e[7];let c=-1;if(null!==t)for(let h=0;h<t.length-1;h+=2)if("string"==typeof t[h]){const p=t[h+1],m="function"==typeof p?p(e):ar(e[p]),_=o[c=t[h+2]],E=t[h+3];"boolean"==typeof E?m.removeEventListener(t[h],_,E):E>=0?o[c=E]():o[c=-E].unsubscribe(),h+=2}else{const p=o[c=t[h+1]];t[h].call(p)}if(null!==o){for(let h=c+1;h<o.length;h++)(0,o[h])();e[7]=null}}(i,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ii(e[3])){t!==e[3]&&Nl(t,e);const o=e[19];null!==o&&o.detachView(i)}!function Vm(i){ou.delete(i[20])}(e)}}function Ec(i,e,t){return function Dg(i,e,t){let o=e;for(;null!==o&&40&o.type;)o=(e=o).parent;if(null===o)return t[0];if(2&o.flags){const c=i.data[o.directiveStart].encapsulation;if(c===Xr.None||c===Xr.Emulated)return null}return Qo(o,t)}(i,e.parent,t)}function Pr(i,e,t,o,c){i.insertBefore(e,t,o,c)}function qf(i,e,t){i.appendChild(e,t)}function Cc(i,e,t,o,c){null!==o?Pr(i,e,t,o,c):qf(i,e,t)}function Dc(i,e){return i.parentNode(e)}function Qm(i,e,t){return $f(i,e,t)}let $f=function Ig(i,e,t){return 40&i.type?Qo(i,t):null};function fs(i,e,t,o){const c=Ec(i,o,e),h=e[11],m=Qm(o.parent||e[6],o,e);if(null!=c)if(Array.isArray(t))for(let _=0;_<t.length;_++)Cc(h,c,t[_],m,!1);else Cc(h,c,t,m,!1)}function da(i,e){if(null!==e){const t=e.type;if(3&t)return Qo(e,i);if(4&t)return Ic(-1,i[e.index]);if(8&t){const o=e.child;if(null!==o)return da(i,o);{const c=i[e.index];return Ii(c)?Ic(-1,c):ar(c)}}if(32&t)return mg(e,i)()||ar(i[e.index]);{const o=Wf(i,e);return null!==o?Array.isArray(o)?o[0]:da(rd(i[16]),o):da(i,e.next)}}return null}function Wf(i,e){return null!==e?i[16][6].projection[e.projection]:null}function Ic(i,e){const t=10+i+1;if(t<e.length){const o=e[t],c=o[1].firstChild;if(null!==c)return da(o,c)}return e[7]}function Fl(i,e,t,o,c,h,p){for(;null!=t;){const m=o[t.index],_=t.type;if(p&&0===e&&(m&&zr(ar(m),o),t.flags|=4),64!=(64&t.flags))if(8&_)Fl(i,e,t.child,o,c,h,!1),bc(e,i,c,m,h);else if(32&_){const E=mg(t,o);let S;for(;S=E();)bc(e,i,c,S,h);bc(e,i,c,m,h)}else 16&_?Tn(i,e,o,t,c,h):bc(e,i,c,m,h);t=p?t.projectionNext:t.next}}function au(i,e,t,o,c,h){Fl(t,o,i.firstChild,e,c,h,!1)}function Tn(i,e,t,o,c,h){const p=t[16],_=p[6].projection[o.projection];if(Array.isArray(_))for(let E=0;E<_.length;E++)bc(e,i,c,_[E],h);else Fl(i,e,_,p[3],c,h,!0)}function Lo(i,e,t){i.setAttribute(e,"style",t)}function Bl(i,e,t){""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function Tg(i,e,t){let o=i.length;for(;;){const c=i.indexOf(e,t);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=e.length;if(c+h===o||i.charCodeAt(c+h)<=32)return c}t=c+1}}const Vl="ng-template";function Tc(i,e,t){let o=0;for(;o<i.length;){let c=i[o++];if(t&&"class"===c){if(c=i[o],-1!==Tg(c.toLowerCase(),e,0))return!0}else if(1===c){for(;o<i.length&&"string"==typeof(c=i[o++]);)if(c.toLowerCase()===e)return!0;return!1}}return!1}function Ag(i){return 4===i.type&&i.value!==Vl}function Zm(i,e,t){return e===(4!==i.type||t?i.value:Vl)}function gr(i,e,t){let o=4;const c=i.attrs||[],h=function js(i){for(let e=0;e<i.length;e++)if(Ah(i[e]))return e;return i.length}(c);let p=!1;for(let m=0;m<e.length;m++){const _=e[m];if("number"!=typeof _){if(!p)if(4&o){if(o=2|1&o,""!==_&&!Zm(i,_,t)||""===_&&1===e.length){if(At(o))return!1;p=!0}}else{const E=8&o?_:e[++m];if(8&o&&null!==i.attrs){if(!Tc(i.attrs,E,t)){if(At(o))return!1;p=!0}continue}const k=Jm(8&o?"class":_,c,Ag(i),t);if(-1===k){if(At(o))return!1;p=!0;continue}if(""!==E){let F;F=k>h?"":c[k+1].toLowerCase();const V=8&o?F:null;if(V&&-1!==Tg(V,E,0)||2&o&&E!==F){if(At(o))return!1;p=!0}}}}else{if(!p&&!At(o)&&!At(_))return!1;if(p&&At(_))continue;p=!1,o=_|1&o}}return At(o)||p}function At(i){return 0==(1&i)}function Jm(i,e,t,o){if(null===e)return-1;let c=0;if(o||!t){let h=!1;for(;c<e.length;){const p=e[c];if(p===i)return c;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=e[++c];for(;"string"==typeof m;)m=e[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=h?1:2}return-1}return function Ac(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===e)return t;t++}return-1}(e,i)}function Yf(i,e,t=!1){for(let o=0;o<e.length;o++)if(gr(i,e[o],t))return!0;return!1}function fa(i,e){e:for(let t=0;t<e.length;t++){const o=e[t];if(i.length===o.length){for(let c=0;c<i.length;c++)if(i[c]!==o[c])continue e;return!0}}return!1}function jl(i,e){return i?":not("+e.trim()+")":e}function dy(i){let e=i[0],t=1,o=2,c="",h=!1;for(;t<i.length;){let p=i[t];if("string"==typeof p)if(2&o){const m=i[++t];c+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?c+="."+p:4&o&&(c+=" "+p);else""!==c&&!At(p)&&(e+=jl(h,c),c=""),o=p,h=h||!At(o);t++}return""!==c&&(e+=jl(h,c)),e}const Mt={};function ir(i){ps(Wt(),re(),Sn()+i,!1)}function ps(i,e,t,o){if(!o)if(3==(3&e[2])){const h=i.preOrderCheckHooks;null!==h&&ol(e,h,t)}else{const h=i.preOrderHooks;null!==h&&Sh(e,h,0,t)}Ha(t)}function Jf(i,e=null,t=null,o){const c=kg(i,e,t,o);return c.resolveInjectorInitializers(),c}function kg(i,e=null,t=null,o,c=new Set){const h=[t||R,tu(i)];return o=o||("object"==typeof i?void 0:gt(i)),new Nr(h,e||jh(),o||null,c)}let qn=(()=>{class i{static create(t,o){if(Array.isArray(t))return Jf({name:""},o,t,"");{const c=t.name??"";return Jf({name:c},t.parent,t.providers,c)}}}return i.THROW_IF_NOT_FOUND=ra,i.NULL=new eu,i.\u0275prov=xe({token:i,providedIn:"any",factory:()=>oe(Dl)}),i.__NG_ELEMENT_ID__=-1,i})();function fe(i,e=Je.Default){const t=re();return null===t?oe(i,e):Ga(Zn(),t,it(i),e)}function op(){throw new Error("invalid")}function Hs(i,e){return i<<17|e<<2}function ho(i){return i>>17&32767}function hu(i){return 2|i}function Vo(i){return(131068&i)>>2}function qe(i,e){return-131069&i|e<<2}function cr(i){return 1|i}function ut(i,e){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const c=t[o],h=t[o+1];if(-1!==h){const p=i.data[h];Bu(c),p.contentQueries(2,e[h],h)}}}function hn(i,e,t,o,c,h,p,m,_,E,S){const k=e.blueprint.slice();return k[0]=c,k[2]=76|o,(null!==S||i&&1024&i[2])&&(k[2]|=1024),Jc(k),k[3]=k[15]=i,k[8]=t,k[10]=p||i&&i[10],k[11]=m||i&&i[11],k[12]=_||i&&i[12]||null,k[9]=E||i&&i[9]||null,k[6]=h,k[20]=function ly(){return cy++}(),k[21]=S,k[16]=2==e.type?i[16]:k,k}function En(i,e,t,o,c){let h=i.data[e];if(null===h)h=function yi(i,e,t,o,c){const h=Kt(),p=Ui(),_=i.data[e]=function $R(i,e,t,o,c,h){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,t,e,o,c);return null===i.firstChild&&(i.firstChild=_),null!==h&&(p?null==h.child&&null!==_.parent&&(h.child=_):null===h.next&&(h.next=_)),_}(i,e,t,o,c),function Ge(){return we.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=t,h.value=o,h.attrs=c;const p=function tl(){const i=we.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return Cr(h,!0),h}function Wl(i,e,t,o){if(0===t)return-1;const c=e.length;for(let h=0;h<t;h++)e.push(o),i.blueprint.push(o),i.data.push(null);return c}function Kl(i,e,t){ju(e);try{const o=i.viewQuery;null!==o&&Sw(1,o,t);const c=i.template;null!==c&&RC(i,e,c,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ut(i,e),i.staticViewQueries&&Sw(2,i.viewQuery,t);const h=i.components;null!==h&&function an(i,e){for(let t=0;t<e.length;t++)ak(i,e[t])}(e,h)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{e[2]&=-5,Rs()}}function up(i,e,t,o){const c=e[2];if(128!=(128&c)){ju(e);try{Jc(e),function Ua(i){return we.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&RC(i,e,t,2,o);const p=3==(3&c);if(p){const E=i.preOrderCheckHooks;null!==E&&ol(e,E,null)}else{const E=i.preOrderHooks;null!==E&&Sh(e,E,0,null),Op(e,0)}if(function ok(i){for(let e=xl(i);null!==e;e=_c(e)){if(!e[2])continue;const t=e[9];for(let o=0;o<t.length;o++){const c=t[o],h=c[3];0==(512&c[2])&&Fu(h,1),c[2]|=512}}}(e),function ik(i){for(let e=xl(i);null!==e;e=_c(e))for(let t=10;t<e.length;t++){const o=e[t],c=o[1];Ai(o)&&up(c,o,c.template,o[8])}}(e),null!==i.contentQueries&&ut(i,e),p){const E=i.contentCheckHooks;null!==E&&ol(e,E)}else{const E=i.contentHooks;null!==E&&Sh(e,E,1),Op(e,1)}!function Pe(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const c=t[o];if(c<0)Ha(~c);else{const h=c,p=t[++o],m=t[++o];Mi(p,h),m(2,e[h])}}}finally{Ha(-1)}}(i,e);const m=i.components;null!==m&&function yt(i,e){for(let t=0;t<e.length;t++)sk(i,e[t])}(e,m);const _=i.viewQuery;if(null!==_&&Sw(2,_,o),p){const E=i.viewCheckHooks;null!==E&&ol(e,E)}else{const E=i.viewHooks;null!==E&&Sh(e,E,2),Op(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Fu(e[3],-1))}finally{Rs()}}}function b_(i,e,t,o){const c=e[10],p=ro(e);try{!p&&c.begin&&c.begin(),p&&Kl(i,e,o),up(i,e,t,o)}finally{!p&&c.end&&c.end()}}function RC(i,e,t,o,c){const h=Sn(),p=2&o;try{Ha(-1),p&&e.length>22&&ps(i,e,22,!1),t(o,c)}finally{Ha(h)}}function vw(i,e,t){!Zs()||(function XR(i,e,t,o){const c=t.directiveStart,h=t.directiveEnd;i.firstCreatePass||Ku(t,e),zr(o,e);const p=t.initialInputs;for(let m=c;m<h;m++){const _=i.data[m],E=ci(_);E&&tk(e,t,_);const S=ks(e,i,m,t);zr(S,e),null!==p&&nk(0,m-c,S,_,0,p),E&&(ge(t.index,e)[8]=S)}}(i,e,t,Qo(t,e)),128==(128&t.flags)&&function QR(i,e,t){const o=t.directiveStart,c=t.directiveEnd,h=t.index,p=function As(){return we.lFrame.currentDirectiveIndex}();try{Ha(h);for(let m=o;m<c;m++){const _=i.data[m],E=e[m];Lu(m),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&BC(_,E)}}finally{Ha(-1),Lu(p)}}(i,e,t))}function yw(i,e,t=Qo){const o=e.localNames;if(null!==o){let c=e.index+1;for(let h=0;h<o.length;h+=2){const p=o[h+1],m=-1===p?t(e,i):i[p];i[c++]=m}}}function xC(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=_w(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function _w(i,e,t,o,c,h,p,m,_,E){const S=22+o,k=S+c,F=function qR(i,e){const t=[];for(let o=0;o<e;o++)t.push(o<i?null:Mt);return t}(S,k),V="function"==typeof E?E():E;return F[1]={type:i,blueprint:F,template:t,queries:null,viewQuery:m,declTNode:e,data:F.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:V,incompleteFirstPass:!1}}function OC(i,e,t,o){const c=$C(e);null===t?c.push(o):(c.push(t),i.firstCreatePass&&GC(i).push(o,c.length-1))}function NC(i,e,t){for(let o in i)if(i.hasOwnProperty(o)){const c=i[o];(t=null===t?{}:t).hasOwnProperty(o)?t[o].push(e,c):t[o]=[e,c]}return t}function PC(i,e){const o=e.directiveEnd,c=i.data,h=e.attrs,p=[];let m=null,_=null;for(let E=e.directiveStart;E<o;E++){const S=c[E],k=S.inputs,F=null===h||Ag(e)?null:rk(k,h);p.push(F),m=NC(k,E,m),_=NC(S.outputs,E,_)}null!==m&&(m.hasOwnProperty("class")&&(e.flags|=16),m.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=p,e.inputs=m,e.outputs=_}function ga(i,e,t,o,c,h,p,m){const _=Qo(e,t);let S,E=e.inputs;!m&&null!=E&&(S=E[o])?(Iw(i,t,S,o,c),mh(e)&&FC(t,e.index)):3&e.type&&(o=function GR(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),c=null!=p?p(c,e.value||"",o):c,h.setProperty(_,o,c))}function FC(i,e){const t=ge(e,i);16&t[2]||(t[2]|=32)}function bw(i,e,t,o){let c=!1;if(Zs()){const h=function ZR(i,e,t){const o=i.directiveRegistry;let c=null;if(o)for(let h=0;h<o.length;h++){const p=o[h];Yf(t,p.selectors,!1)&&(c||(c=[]),ts(Ku(t,e),i,p.type),ci(p)?(VC(i,t),c.unshift(p)):c.push(p))}return c}(i,e,t),p=null===o?null:{"":-1};if(null!==h){c=!0,jC(t,i.data.length,h.length);for(let S=0;S<h.length;S++){const k=h[S];k.providersResolver&&k.providersResolver(k)}let m=!1,_=!1,E=Wl(i,e,h.length,null);for(let S=0;S<h.length;S++){const k=h[S];t.mergedAttrs=ea(t.mergedAttrs,k.hostAttrs),UC(i,t,e,E,k),ek(E,k,p),null!==k.contentQueries&&(t.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(t.flags|=128);const F=k.type.prototype;!m&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),m=!0),!_&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),_=!0),E++}PC(i,t)}p&&function JR(i,e,t){if(e){const o=i.localNames=[];for(let c=0;c<e.length;c+=2){const h=t[e[c+1]];if(null==h)throw new Ce(-301,!1);o.push(e[c],h)}}}(t,o,p)}return t.mergedAttrs=ea(t.mergedAttrs,t.attrs),c}function LC(i,e,t,o,c,h){const p=h.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const _=~e.index;(function YR(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(m)!=_&&m.push(_),m.push(o,c,p)}}function BC(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function VC(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function ek(i,e,t){if(t){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)t[e.exportAs[o]]=i;ci(e)&&(t[""]=i)}}function jC(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function UC(i,e,t,o,c){i.data[o]=c;const h=c.factory||(c.factory=li(c.type)),p=new qa(h,ci(c),fe);i.blueprint[o]=p,t[o]=p,LC(i,e,0,o,Wl(i,t,c.hostVars,Mt),c)}function tk(i,e,t){const o=Qo(e,i),c=xC(t),h=i[10],p=w_(i,hn(i,c,null,t.onPush?32:16,o,e,h,h.createRenderer(o,t),null,null,null));i[e.index]=p}function Yl(i,e,t,o,c,h){const p=Qo(i,e);!function ww(i,e,t,o,c,h,p){if(null==h)i.removeAttribute(e,c,t);else{const m=null==p?lt(h):p(h,o||"",c);i.setAttribute(e,c,m,t)}}(e[11],p,h,i.value,t,o,c)}function nk(i,e,t,o,c,h){const p=h[e];if(null!==p){const m=o.setInput;for(let _=0;_<p.length;){const E=p[_++],S=p[_++],k=p[_++];null!==m?o.setInput(t,k,E,S):t[S]=k}}}function rk(i,e){let t=null,o=0;for(;o<e.length;){const c=e[o];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===t&&(t=[]),t.push(c,i[c],e[o+1])),o+=2}else o+=2;else o+=4}return t}function HC(i,e,t,o){return new Array(i,!0,!1,e,null,0,o,t,null,null)}function sk(i,e){const t=ge(e,i);if(Ai(t)){const o=t[1];48&t[2]?up(o,t,o.template,t[8]):t[5]>0&&Ew(t)}}function Ew(i){for(let o=xl(i);null!==o;o=_c(o))for(let c=10;c<o.length;c++){const h=o[c];if(Ai(h))if(512&h[2]){const p=h[1];up(p,h,p.template,h[8])}else h[5]>0&&Ew(h)}const t=i[1].components;if(null!==t)for(let o=0;o<t.length;o++){const c=ge(t[o],i);Ai(c)&&c[5]>0&&Ew(c)}}function ak(i,e){const t=ge(e,i),o=t[1];(function uk(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(o,t),Kl(o,t,t[8])}function w_(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Cw(i){for(;i;){i[2]|=32;const e=rd(i);if(Od(i)&&!e)return i;i=e}return null}function zC(i){!function qC(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],o=Rl(t);if(null!==o){const c=o[1];b_(c,o,c.template,t)}}}(i[8])}function Sw(i,e,t){Bu(0),e(i,t)}const lk=(()=>Promise.resolve(null))();function $C(i){return i[7]||(i[7]=[])}function GC(i){return i.cleanup||(i.cleanup=[])}function WC(i,e,t){return(null===i||ci(i))&&(t=function Va(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function KC(i,e){const t=i[9],o=t?t.get(mi,null):null;o&&o.handleError(e)}function Iw(i,e,t,o,c){for(let h=0;h<t.length;){const p=t[h++],m=t[h++],_=e[p],E=i.data[p];null!==E.setInput?E.setInput(_,c,o,m):_[m]=c}}function E_(i,e,t){let o=t?i.styles:null,c=t?i.classes:null,h=0;if(null!==e)for(let p=0;p<e.length;p++){const m=e[p];"number"==typeof m?h=m:1==h?c=zo(c,m):2==h&&(o=zo(o,m+": "+e[++p]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=c:i.classesWithoutHost=c}function C_(i,e,t,o,c=!1){for(;null!==t;){const h=e[t.index];if(null!==h&&o.push(ar(h)),Ii(h))for(let m=10;m<h.length;m++){const _=h[m],E=_[1].firstChild;null!==E&&C_(_[1],_,E,o)}const p=t.type;if(8&p)C_(i,e,t.child,o);else if(32&p){const m=mg(t,e);let _;for(;_=m();)o.push(_)}else if(16&p){const m=Wf(e,t);if(Array.isArray(m))o.push(...m);else{const _=rd(e[16]);C_(_[1],_,m,o,!0)}}t=c?t.projectionNext:t.next}return o}class py{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return C_(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ii(e)){const t=e[8],o=t?t.indexOf(this):-1;o>-1&&(wc(e,o),xs(t,o))}this._attachedToViewContainer=!1}Hf(this._lView[1],this._lView)}onDestroy(e){OC(this._lView[1],this._lView,null,e)}markForCheck(){Cw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Dw(i,e,t){const o=e[10];o.begin&&o.begin();try{up(i,e,i.template,t)}catch(c){throw KC(e,c),c}finally{o.end&&o.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jf(i,e){au(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=e}}class hk extends py{constructor(e){super(e),this._view=e}detectChanges(){zC(this._view)}checkNoChanges(){}get context(){return null}}class Tw extends wo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Gt(e);return new gy(t,this.ngModule)}}function YC(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}class fk{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,o){const c=this.injector.get(e,vc,o);return c!==vc||t===vc?c:this.parentInjector.get(e,t,o)}}class gy extends Ef{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Mg(i){return i.map(dy).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return YC(this.componentDef.inputs)}get outputs(){return YC(this.componentDef.outputs)}create(e,t,o,c){let h=(c=c||this.ngModule)instanceof la?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const p=h?new fk(e,h):e,m=p.get(qh,null);if(null===m)throw new Ce(407,!1);const _=p.get(zh,null),E=m.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=o?function zR(i,e,t){return i.selectRootElement(e,t===Xr.ShadowDom)}(E,o,this.componentDef.encapsulation):ds(m.createRenderer(null,this.componentDef),S,function dk(i){const e=i.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(S)),F=this.componentDef.onPush?288:272,V=function yk(i,e){return{components:[],scheduler:i||zm,clean:lk,playerHandler:e||null,flags:0}}(),$=_w(0,null,null,1,0,null,null,null,null,null),Y=hn(null,$,V,F,null,null,m,E,_,p,null);let ae,pe;ju(Y);try{const Re=function mk(i,e,t,o,c,h){const p=t[1];t[22]=i;const _=En(p,22,2,"#host",null),E=_.mergedAttrs=e.hostAttrs;null!==E&&(E_(_,E,!0),null!==i&&(za(c,i,E),null!==_.classes&&Bl(c,i,_.classes),null!==_.styles&&Lo(c,i,_.styles)));const S=o.createRenderer(i,e),k=hn(t,xC(e),null,e.onPush?32:16,t[22],_,o,S,h||null,null,null);return p.firstCreatePass&&(ts(Ku(_,t),p,e.type),VC(p,_),jC(_,t.length,1)),w_(t,k),t[22]=k}(k,this.componentDef,Y,m,E);if(k)if(o)za(E,k,["ng-version",Df.full]);else{const{attrs:he,classes:Ve}=function Xf(i){const e=[],t=[];let o=1,c=2;for(;o<i.length;){let h=i[o];if("string"==typeof h)2===c?""!==h&&e.push(h,i[++o]):8===c&&t.push(h);else{if(!At(c))break;c=h}o++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);he&&za(E,k,he),Ve&&Ve.length>0&&Bl(E,k,Ve.join(" "))}if(pe=Jr($,22),void 0!==t){const he=pe.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const Bt=t[Ve];he.push(null!=Bt?Array.from(Bt):null)}}ae=function vk(i,e,t,o,c){const h=t[1],p=function KR(i,e,t){const o=Zn();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),UC(i,o,e,Wl(i,e,1,null),t),PC(i,o));const c=ks(e,i,o.directiveStart,o);zr(c,e);const h=Qo(o,e);return h&&zr(h,e),c}(h,t,e);if(o.components.push(p),i[8]=p,null!==c)for(const _ of c)_(p,e);if(e.contentQueries){const _=Zn();e.contentQueries(1,p,_.directiveStart)}const m=Zn();return!h.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ha(m.index),LC(t[1],m,0,m.directiveStart,m.directiveEnd,e),BC(e,p)),p}(Re,this.componentDef,Y,V,[_k]),Kl($,Y,null)}finally{Rs()}return new gk(this.componentType,ae,nu(pe,Y),Y,pe)}}class gk extends class Nm{}{constructor(e,t,o,c,h){super(),this.location=o,this._rootLView=c,this._tNode=h,this.instance=t,this.hostView=this.changeDetectorRef=new hk(c),this.componentType=e}setInput(e,t){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[e])){const h=this._rootLView;Iw(h[1],h,c,e,t),FC(h,this._tNode.index)}}get injector(){return new ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function _k(){const i=Zn();il(re()[1],i)}function md(i){let e=function XC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;e;){let c;if(ci(i))c=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ce(903,!1);c=e.\u0275dir}if(c){if(t){o.push(c);const p=i;p.inputs=Aw(i.inputs),p.declaredInputs=Aw(i.declaredInputs),p.outputs=Aw(i.outputs);const m=c.hostBindings;m&&Ck(i,m);const _=c.viewQuery,E=c.contentQueries;if(_&&wk(i,_),E&&Ek(i,E),to(i.inputs,c.inputs),to(i.declaredInputs,c.declaredInputs),to(i.outputs,c.outputs),ci(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let p=0;p<h.length;p++){const m=h[p];m&&m.ngInherit&&m(i),m===md&&(t=!1)}}e=Object.getPrototypeOf(e)}!function bk(i){let e=0,t=null;for(let o=i.length-1;o>=0;o--){const c=i[o];c.hostVars=e+=c.hostVars,c.hostAttrs=ea(c.hostAttrs,t=ea(t,c.hostAttrs))}}(o)}function Aw(i){return i===Yo?{}:i===R?[]:i}function wk(i,e){const t=i.viewQuery;i.viewQuery=t?(o,c)=>{e(o,c),t(o,c)}:e}function Ek(i,e){const t=i.contentQueries;i.contentQueries=t?(o,c,h)=>{e(o,c,h),t(o,c,h)}:e}function Ck(i,e){const t=i.hostBindings;i.hostBindings=t?(o,c)=>{e(o,c),t(o,c)}:e}let D_=null;function Lg(){if(!D_){const i=Xt.Symbol;if(i&&i.iterator)D_=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const o=e[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(D_=o)}}}return D_}function my(i){return!!Mw(i)&&(Array.isArray(i)||!(i instanceof Map)&&Lg()in i)}function Mw(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Xl(i,e,t){return i[e]=t}function jo(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function cp(i,e,t,o){const c=re();return jo(c,io(),e)&&(Wt(),Yl(ur(),c,i,e,t,o)),cp}function uv(i,e,t,o){return jo(i,io(),t)?e+lt(t)+o:Mt}function ma(i,e,t,o,c,h,p,m){const _=re(),E=Wt(),S=i+22,k=E.firstCreatePass?function xk(i,e,t,o,c,h,p,m,_){const E=e.consts,S=En(e,i,4,p||null,Ln(E,m));bw(e,t,S,Ln(E,_)),il(e,S);const k=S.tViews=_w(2,S,o,c,h,e.directiveRegistry,e.pipeRegistry,null,e.schemas,E);return null!==e.queries&&(e.queries.template(e,S),k.queries=e.queries.embeddedTView(S)),S}(S,E,_,e,t,o,c,h,p):E.data[S];Cr(k,!1);const F=_[11].createComment("");fs(E,_,F,k),zr(F,_),w_(_,_[S]=HC(F,_,F,k)),vh(k)&&vw(E,_,k),null!=p&&yw(_,k,m)}function pu(i){return function ie(i,e){return i[e]}(function xo(){return we.lFrame.contextLView}(),22+i)}function Do(i,e,t){const o=re();return jo(o,io(),e)&&ga(Wt(),ur(),o,i,e,o[11],t,!1),Do}function Rw(i,e,t,o,c){const p=c?"class":"style";Iw(i,t,e.inputs[p],p,o)}function Ot(i,e,t,o){const c=re(),h=Wt(),p=22+i,m=c[11],_=c[p]=ds(m,e,function Gv(){return we.lFrame.currentNamespace}()),E=h.firstCreatePass?function Nk(i,e,t,o,c,h,p){const m=e.consts,E=En(e,i,2,c,Ln(m,h));return bw(e,t,E,Ln(m,p)),null!==E.attrs&&E_(E,E.attrs,!1),null!==E.mergedAttrs&&E_(E,E.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,E),E}(p,h,c,0,e,t,o):h.data[p];Cr(E,!0);const S=E.mergedAttrs;null!==S&&za(m,_,S);const k=E.classes;null!==k&&Bl(m,_,k);const F=E.styles;return null!==F&&Lo(m,_,F),64!=(64&E.flags)&&fs(h,c,_,E),0===function el(){return we.lFrame.elementDepthCount}()&&zr(_,c),function ei(){we.lFrame.elementDepthCount++}(),vh(E)&&(vw(h,c,E),function kC(i,e,t){if(xd(e)){const c=e.directiveEnd;for(let h=e.directiveStart;h<c;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,t[h],h)}}}(h,E,c)),null!==o&&yw(c,E),Ot}function qt(){let i=Zn();Ui()?Vr():(i=i.parent,Cr(i,!1));const e=i;!function Qe(){we.lFrame.elementDepthCount--}();const t=Wt();return t.firstCreatePass&&(il(t,i),xd(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function Jo(i){return 0!=(16&i.flags)}(e)&&Rw(t,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Np(i){return 0!=(32&i.flags)}(e)&&Rw(t,e,re(),e.stylesWithoutHost,!1),qt}function _s(i,e,t,o){return Ot(i,e,t,o),qt(),_s}function vd(){return re()}function I_(i){return!!i&&"function"==typeof i.then}const uD=function aD(i){return!!i&&"function"==typeof i.subscribe};function Ni(i,e,t,o){const c=re(),h=Wt(),p=Zn();return cD(h,c,c[11],p,i,e,0,o),Ni}function T_(i,e){const t=Zn(),o=re(),c=Wt();return cD(c,o,WC(Ms(c.data),t,o),t,i,e),T_}function cD(i,e,t,o,c,h,p,m){const _=vh(o),S=i.firstCreatePass&&GC(i),k=e[8],F=$C(e);let V=!0;if(3&o.type||m){const ae=Qo(o,e),pe=m?m(ae):ae,Re=F.length,he=m?Bt=>m(ar(Bt[o.index])):o.index;let Ve=null;if(!m&&_&&(Ve=function Fk(i,e,t,o){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const p=c[h];if(p===t&&c[h+1]===o){const m=e[7],_=c[h+2];return m.length>_?m[_]:null}"string"==typeof p&&(h+=2)}return null}(i,e,c,o.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=h,Ve.__ngLastListenerFn__=h,V=!1;else{h=hD(o,e,k,h,!1);const Bt=t.listen(pe,c,h);F.push(h,Bt),S&&S.push(c,he,Re,Re+1)}}else h=hD(o,e,k,h,!1);const $=o.outputs;let Y;if(V&&null!==$&&(Y=$[c])){const ae=Y.length;if(ae)for(let pe=0;pe<ae;pe+=2){const Cn=e[Y[pe]][Y[pe+1]].subscribe(h),Gr=F.length;F.push(h,Cn),S&&S.push(c,o.index,Gr,-(Gr+1))}}}function lD(i,e,t,o){try{return!1!==t(o)}catch(c){return KC(i,c),!1}}function hD(i,e,t,o,c){return function h(p){if(p===Function)return o;Cw(2&i.flags?ge(i.index,e):e);let _=lD(e,0,o,p),E=h.__ngNextListenerFn__;for(;E;)_=lD(e,0,E,p)&&_,E=E.__ngNextListenerFn__;return c&&!1===_&&(p.preventDefault(),p.returnValue=!1),_}}function lp(i=1){return function fi(i){return(we.lFrame.contextLView=function um(i,e){for(;i>0;)e=e[15],i--;return e}(i,we.lFrame.contextLView))[8]}(i)}function Lk(i,e){let t=null;const o=function ev(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let c=0;c<e.length;c++){const h=e[c];if("*"!==h){if(null===o?Yf(i,h,!0):fa(o,h))return c}else t=c}return t}function yy(i){const e=re()[16][6];if(!e.projection){const o=e.projection=Os(i?i.length:1,null),c=o.slice();let h=e.child;for(;null!==h;){const p=i?Lk(h,i):0;null!==p&&(c[p]?c[p].projectionNext=h:o[p]=h,c[p]=h),h=h.next}}}function hp(i,e=0,t){const o=re(),c=Wt(),h=En(c,22+i,16,null,t||null);null===h.projection&&(h.projection=e),Vr(),64!=(64&h.flags)&&function Ll(i,e,t){Tn(e[11],0,e,t,Ec(i,t,e),Qm(t.parent||e[6],t,e))}(c,o,h)}function Ow(i,e,t){return Nw(i,"",e,"",t),Ow}function Nw(i,e,t,o,c){const h=re(),p=uv(h,e,t,o);return p!==Mt&&ga(Wt(),ur(),h,i,p,h[11],c,!1),Nw}function bD(i,e,t,o,c){const h=i[t+1],p=null===e;let m=o?ho(h):Vo(h),_=!1;for(;0!==m&&(!1===_||p);){const S=i[m+1];jk(i[m],e)&&(_=!0,i[m+1]=o?cr(S):hu(S)),m=o?ho(S):Vo(S)}_&&(i[t+1]=o?hu(h):cr(h))}function jk(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&Ns(i,e)>=0}function dp(i,e){return function xc(i,e,t,o){const c=re(),h=Wt(),p=function oo(i){const e=we.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}(2);h.firstUpdatePass&&function MD(i,e,t,o){const c=i.data;if(null===c[t+1]){const h=c[Sn()],p=function AD(i,e){return e>=i.expandoStartIndex}(i,t);(function OD(i,e){return 0!=(i.flags&(e?16:32))})(h,o)&&null===e&&!p&&(e=!1),e=function Yk(i,e,t,o){const c=Ms(i);let h=o?e.residualClasses:e.residualStyles;if(null===c)0===(o?e.classBindings:e.styleBindings)&&(t=_y(t=Pw(null,i,e,t,o),e.attrs,o),h=null);else{const p=e.directiveStylingLast;if(-1===p||i[p]!==c)if(t=Pw(c,i,e,t,o),null===h){let _=function Xk(i,e,t){const o=t?e.classBindings:e.styleBindings;if(0!==Vo(o))return i[ho(o)]}(i,e,o);void 0!==_&&Array.isArray(_)&&(_=Pw(null,i,e,_[1],o),_=_y(_,e.attrs,o),function Qk(i,e,t,o){i[ho(t?e.classBindings:e.styleBindings)]=o}(i,e,o,_))}else h=function Zk(i,e,t){let o;const c=e.directiveEnd;for(let h=1+e.directiveStylingLast;h<c;h++)o=_y(o,i[h].hostAttrs,t);return _y(o,e.attrs,t)}(i,e,o)}return void 0!==h&&(o?e.residualClasses=h:e.residualStyles=h),t}(c,h,e,o),function Bk(i,e,t,o,c,h){let p=h?e.classBindings:e.styleBindings,m=ho(p),_=Vo(p);i[o]=t;let S,E=!1;if(Array.isArray(t)){const k=t;S=k[1],(null===S||Ns(k,S)>0)&&(E=!0)}else S=t;if(c)if(0!==_){const F=ho(i[m+1]);i[o+1]=Hs(F,m),0!==F&&(i[F+1]=qe(i[F+1],o)),i[m+1]=function sp(i,e){return 131071&i|e<<17}(i[m+1],o)}else i[o+1]=Hs(m,0),0!==m&&(i[m+1]=qe(i[m+1],o)),m=o;else i[o+1]=Hs(_,0),0===m?m=o:i[_+1]=qe(i[_+1],o),_=o;E&&(i[o+1]=hu(i[o+1])),bD(i,S,o,!0),bD(i,S,o,!1),function Vk(i,e,t,o,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof e&&Ns(h,e)>=0&&(t[o+1]=cr(t[o+1]))}(e,S,i,o,h),p=Hs(m,_),h?e.classBindings=p:e.styleBindings=p}(c,h,e,t,p,o)}}(h,i,p,o),e!==Mt&&jo(c,p,e)&&function kD(i,e,t,o,c,h,p,m){if(!(3&e.type))return;const _=i.data,E=_[m+1];A_(function dd(i){return 1==(1&i)}(E)?xD(_,e,t,c,Vo(E),p):void 0)||(A_(h)||function $l(i){return 2==(2&i)}(E)&&(h=xD(_,null,t,c,m,p)),function Vs(i,e,t,o,c){if(e)c?i.addClass(t,o):i.removeClass(t,o);else{let h=-1===o.indexOf("-")?void 0:lo.DashCase;null==c?i.removeStyle(t,o,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=lo.Important),i.setStyle(t,o,c,h))}}(o,p,Eh(Sn(),t),c,h))}(h,h.data[Sn()],c,c[11],i,c[p+1]=function tx(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=gt(co(i)))),i}(e,t),o,p)}(i,e,null,!0),dp}function Pw(i,e,t,o,c){let h=null;const p=t.directiveEnd;let m=t.directiveStylingLast;for(-1===m?m=t.directiveStart:m++;m<p&&(h=e[m],o=_y(o,h.hostAttrs,c),h!==i);)m++;return null!==i&&(t.directiveStylingLast=m),o}function _y(i,e,t){const o=t?1:2;let c=-1;if(null!==e)for(let h=0;h<e.length;h++){const p=e[h];"number"==typeof p?c=p:c===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Hi(i,p,!!t||e[++h]))}return void 0===i?null:i}function xD(i,e,t,o,c,h){const p=null===e;let m;for(;c>0;){const _=i[c],E=Array.isArray(_),S=E?_[1]:_,k=null===S;let F=t[c+1];F===Mt&&(F=k?R:void 0);let V=k?xh(F,o):S===o?F:void 0;if(E&&!A_(V)&&(V=xh(_,o)),A_(V)&&(m=V,p))return m;const $=i[c+1];c=p?ho($):Vo($)}if(null!==e){let _=h?e.residualClasses:e.residualStyles;null!=_&&(m=xh(_,o))}return m}function A_(i){return void 0!==i}function jn(i,e=""){const t=re(),o=Wt(),c=i+22,h=o.firstCreatePass?En(o,c,1,e,null):o.data[c],p=t[c]=function bg(i,e){return i.createText(e)}(t[11],e);fs(o,t,p,h),Cr(h,!1)}function Vg(i){return by("",i,""),Vg}function by(i,e,t){const o=re(),c=uv(o,i,e,t);return c!==Mt&&function gd(i,e,t){const o=Eh(e,i);!function Ol(i,e,t){i.setValue(e,t)}(i[11],o,t)}(o,Sn(),c),by}function Fw(i,e,t){const o=re();return jo(o,io(),e)&&ga(Wt(),ur(),o,i,e,o[11],t,!0),Fw}function M_(i,e,t){const o=re();if(jo(o,io(),e)){const h=Wt(),p=ur();ga(h,p,o,i,e,WC(Ms(h.data),p,o),t,!0)}return M_}const yv="en-US";let JD=yv;class Ug{}class SS{}class IS extends Ug{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tw(this);const o=nr(e);this._bootstrapComponents=Co(o.bootstrap),this._r3Injector=kg(e,t,[{provide:Ug,useValue:this},{provide:wo,useValue:this.componentFactoryResolver}],gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qw extends SS{constructor(e){super(),this.moduleType=e}create(e){return new IS(this.moduleType,e)}}class EO extends Ug{constructor(e,t,o){super(),this.componentFactoryResolver=new Tw(this),this.instance=null;const c=new Nr([...e,{provide:Ug,useValue:this},{provide:wo,useValue:this.componentFactoryResolver}],t||jh(),o,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function N_(i,e,t=null){return new EO(i,e,t).injector}function $w(i,e,t,o){return function NS(i,e,t,o,c,h){const p=e+t;return jo(i,p,c)?Xl(i,p+1,h?o.call(h,c):o(c)):Sy(i,p+1)}(re(),di(),i,e,t,o)}function OS(i,e,t,o,c){return function PS(i,e,t,o,c,h,p){const m=e+t;return function Bg(i,e,t,o){const c=jo(i,e,t);return jo(i,e+1,o)||c}(i,m,c,h)?Xl(i,m+2,p?o.call(p,c,h):o(c,h)):Sy(i,m+2)}(re(),di(),i,e,t,o,c)}function Sy(i,e){const t=i[e];return t===Mt?void 0:t}function Gw(i){return e=>{setTimeout(i,void 0,e)}}const Ki=class KO extends ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){let c=e,h=t||(()=>null),p=o;if(e&&"object"==typeof e){const _=e;c=_.next?.bind(_),h=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(h=Gw(h),c&&(c=Gw(c)),p&&(p=Gw(p)));const m=super.subscribe({next:c,error:h,complete:p});return e instanceof Vt&&e.add(m),m}};function YO(){return this._results[Lg()]()}class Ww{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Lg(),o=Ww.prototype;o[t]||(o[t]=YO)}get changes(){return this._changes||(this._changes=new Ki)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const o=this;o.dirty=!1;const c=Ri(e);(this._changesDetected=!function Bp(i,e,t){if(i.length!==e.length)return!1;for(let o=0;o<i.length;o++){let c=i[o],h=e[o];if(t&&(c=t(c),h=t(h)),h!==c)return!1}return!0}(o._results,c,t))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jl=(()=>{class i{}return i.__NG_ELEMENT_ID__=ZO,i})();const XO=Jl,QO=class extends XO{constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(e,t){const o=this._declarationTContainer.tViews,c=hn(this._declarationLView,o,e,16,null,o.declTNode,null,null,null,null,t||null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(o)),Kl(o,c,e),new py(c)}};function ZO(){return P_(Zn(),re())}function P_(i,e){return 4&i.type?new QO(e,i,nu(i,e)):null}let gu=(()=>{class i{}return i.__NG_ELEMENT_ID__=JO,i})();function JO(){return US(Zn(),re())}const e1=gu,VS=class extends e1{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new ll(this._hostTNode,this._hostLView)}get parentInjector(){const e=ti(this._hostTNode,this._hostLView);if(pi(e)){const t=Wu(e,this._hostLView),o=Gu(e);return new ll(t[1].data[o+8],t)}return new ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=jS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,o){let c,h;"number"==typeof o?c=o:null!=o&&(c=o.index,h=o.injector);const p=e.createEmbeddedView(t||{},h);return this.insert(p,c),p}createComponent(e,t,o,c,h){const p=e&&!function hl(i){return"function"==typeof i}(e);let m;if(p)m=t;else{const k=t||{};m=k.index,o=k.injector,c=k.projectableNodes,h=k.environmentInjector||k.ngModuleRef}const _=p?e:new gy(Gt(e)),E=o||this.parentInjector;if(!h&&null==_.ngModule){const F=(p?E:this.parentInjector).get(la,null);F&&(h=F)}const S=_.create(E,c,void 0,h);return this.insert(S.hostView,m),S}insert(e,t){const o=e._lView,c=o[1];if(function Se(i){return Ii(i[3])}(o)){const S=this.indexOf(e);if(-1!==S)this.detach(S);else{const k=o[3],F=new VS(k,k[6],k[3]);F.detach(F.indexOf(e))}}const h=this._adjustIndex(t),p=this._lContainer;!function Ym(i,e,t,o){const c=10+o,h=t.length;o>0&&(t[c-1][4]=e),o<h-10?(e[4]=t[c],Ya(t,10+o,e)):(t.push(e),e[4]=null),e[3]=t;const p=e[17];null!==p&&t!==p&&function Uf(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(p,e);const m=e[19];null!==m&&m.insertView(i),e[2]|=64}(c,o,p,h);const m=Ic(h,p),_=o[11],E=Dc(_,p[7]);return null!==E&&function hy(i,e,t,o,c,h){o[0]=c,o[6]=e,au(i,o,t,1,c,h)}(c,p[6],_,o,E,m),e.attachToViewContainerRef(),Ya(Kw(p),h,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=jS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=wc(this._lContainer,t);o&&(xs(Kw(this._lContainer),t),Hf(o[1],o))}detach(e){const t=this._adjustIndex(e,-1),o=wc(this._lContainer,t);return o&&null!=xs(Kw(this._lContainer),t)?new py(o):null}_adjustIndex(e,t=0){return e??this.length+t}};function jS(i){return i[8]}function Kw(i){return i[8]||(i[8]=[])}function US(i,e){let t;const o=e[i.index];if(Ii(o))t=o;else{let c;if(8&i.type)c=ar(o);else{const h=e[11];c=h.createComment("");const p=Qo(i,e);Pr(h,Dc(h,p),c,function Sg(i,e){return i.nextSibling(e)}(h,p),!1)}e[i.index]=t=HC(o,e,c,i),w_(e,t)}return new VS(t,i,e)}class Yw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Yw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,c=[];for(let h=0;h<o;h++){const p=t.getByIndex(h);c.push(this.queries[p.indexInDeclarationView].clone())}return new Xw(c)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==GS(e,t).matches&&this.queries[t].setDirty()}}class HS{constructor(e,t,o=null){this.predicate=e,this.flags=t,this.read=o}}class Qw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const c=null!==t?t.length:0,h=this.getByIndex(o).embeddedTView(e,c);h&&(h.indexInDeclarationView=o,null!==t?t.push(h):t=[h])}return null!==t?new Qw(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Zw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Zw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(e,t,r1(t,h)),this.matchTNodeWithReadOption(e,t,ns(t,e,h,!1,!1))}else o===Jl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ns(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Ir||c===gu||c===Jl&&4&t.type)this.addMatch(t.index,-2);else{const h=ns(t,e,c,!1,!1);null!==h&&this.addMatch(t.index,h)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function r1(i,e){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===e)return t[o+1];return null}function s1(i,e,t,o){return-1===t?function o1(i,e){return 11&i.type?nu(i,e):4&i.type?P_(i,e):null}(e,i):-2===t?function a1(i,e,t){return t===Ir?nu(e,i):t===Jl?P_(e,i):t===gu?US(e,i):void 0}(i,e,o):ks(i,i[1],t,e)}function qS(i,e,t,o){const c=e[19].queries[o];if(null===c.matches){const h=i.data,p=t.matches,m=[];for(let _=0;_<p.length;_+=2){const E=p[_];m.push(E<0?null:s1(e,h[E],p[_+1],t.metadata.read))}c.matches=m}return c.matches}function Jw(i,e,t,o){const c=i.queries.getByIndex(t),h=c.matches;if(null!==h){const p=qS(i,e,c,t);for(let m=0;m<h.length;m+=2){const _=h[m];if(_>0)o.push(p[m/2]);else{const E=h[m+1],S=e[-_];for(let k=10;k<S.length;k++){const F=S[k];F[17]===F[3]&&Jw(F[1],F,E,o)}if(null!==S[9]){const k=S[9];for(let F=0;F<k.length;F++){const V=k[F];Jw(V[1],V,E,o)}}}}}return o}function Ty(i){const e=re(),t=Wt(),o=Ch();Bu(o+1);const c=GS(t,o);if(i.dirty&&ro(e)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?Jw(t,e,o,[]):qS(t,e,c,o);i.reset(h,ag),i.notifyOnChanges()}return!0}return!1}function e0(i,e,t){const o=Wt();o.firstCreatePass&&(function $S(i,e,t){null===i.queries&&(i.queries=new Qw),i.queries.track(new Zw(e,t))}(o,new HS(i,e,t),-1),2==(2&e)&&(o.staticViewQueries=!0)),function zS(i,e,t){const o=new Ww(4==(4&t));OC(i,e,o,o.destroy),null===e[19]&&(e[19]=new Xw),e[19].queries.push(new Yw(o))}(o,re(),e)}function Ay(){return function u1(i,e){return i[19].queries[e].queryList}(re(),Ch())}function GS(i,e){return i.queries.getByIndex(e)}function L_(...i){}const B_=new Le("Application Initializer");let V_=(()=>{class i{constructor(t){this.appInits=t,this.resolve=L_,this.reject=L_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const t=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(I_(h))t.push(h);else if(uD(h)){const p=new Promise((m,_)=>{h.subscribe({complete:m,error:_})});t.push(p)}}Promise.all(t).then(()=>{o()}).catch(c=>{this.reject(c)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(oe(B_,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ry=new Le("AppId",{providedIn:"root",factory:function hI(){return`${a0()}${a0()}${a0()}`}});function a0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dI=new Le("Platform Initializer"),u0=new Le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fI=new Le("appBootstrapListener"),Hg=new Le("AnimationModuleType");let R1=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const eh=new Le("LocaleId",{providedIn:"root",factory:()=>Rn(eh,Je.Optional|Je.SkipSelf)||function k1(){return typeof $localize<"u"&&$localize.locale||yv}()});class O1{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let c0=(()=>{class i{compileModuleSync(t){return new qw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),h=Co(nr(t).declarations).reduce((p,m)=>{const _=Gt(m);return _&&p.push(new gy(_)),p},[]);return new O1(o,h)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const F1=(()=>Promise.resolve(0))();function l0(i){typeof Zone>"u"?F1.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class yn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&t,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function L1(){let i=Xt.requestAnimationFrame,e=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function j1(i){const e=()=>{!function V1(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,d0(i),i.isCheckStableRunning=!0,h0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),d0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,c,h,p,m)=>{try{return mI(i),t.invokeTask(c,h,p,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&e(),vI(i)}},onInvoke:(t,o,c,h,p,m,_)=>{try{return mI(i),t.invoke(c,h,p,m,_)}finally{i.shouldCoalesceRunChangeDetection&&e(),vI(i)}},onHasTask:(t,o,c,h)=>{t.hasTask(c,h),o===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,d0(i),h0(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(t,o,c,h)=>(t.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yn.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(yn.isInAngularZone())throw new Ce(909,!1)}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,c){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+c,e,B1,L_,L_);try{return h.runTask(p,t,o)}finally{h.cancelTask(p)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const B1={};function h0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function d0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function mI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function vI(i){i._nesting--,h0(i)}class U1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,c){return e.apply(t,o)}}const yI=new Le(""),j_=new Le("");let g0,f0=(()=>{class i{constructor(t,o,c){this._ngZone=t,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g0||(function H1(i){g0=i}(c),c.addToWindow(o)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yn.assertNotInAngularZone(),l0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:h,updateCb:c})}whenStable(t,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,o,c){return[]}}return i.\u0275fac=function(t){return new(t||i)(oe(yn),oe(p0),oe(j_))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),p0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return g0?.findTestabilityInTree(this,t,o)??null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),fp=null;const _I=new Le("AllowMultipleToken"),m0=new Le("PlatformDestroyListeners");class bI{constructor(e,t){this.name=e,this.token=t}}function EI(i,e,t=[]){const o=`Platform: ${e}`,c=new Le(o);return(h=[])=>{let p=v0();if(!p||p.injector.get(_I,!1)){const m=[...t,...h,{provide:c,useValue:!0}];i?i(m):function $1(i){if(fp&&!fp.get(_I,!1))throw new Ce(400,!1);fp=i;const e=i.get(DI);(function wI(i){const e=i.get(dI,null);e&&e.forEach(t=>t())})(i)}(function CI(i=[],e){return qn.create({name:e,providers:[{provide:vf,useValue:"platform"},{provide:m0,useValue:new Set([()=>fp=null])},...i]})}(m,o))}return function W1(i){const e=v0();if(!e)throw new Ce(401,!1);return e}()}}function v0(){return fp?.get(DI)??null}let DI=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const c=function K1(i,e){let t;return t="noop"===i?new U1:("zone.js"===i?void 0:i)||new yn(e),t}(o?.ngZone,function SI(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(o)),h=[{provide:yn,useValue:c}];return c.run(()=>{const p=qn.create({providers:h,parent:this.injector,name:t.moduleType.name}),m=t.create(p),_=m.injector.get(mi,null);if(!_)throw new Ce(402,!1);return c.runOutsideAngular(()=>{const E=c.onError.subscribe({next:S=>{_.handleError(S)}});m.onDestroy(()=>{U_(this._modules,m),E.unsubscribe()})}),function II(i,e,t){try{const o=t();return I_(o)?o.catch(c=>{throw e.runOutsideAngular(()=>i.handleError(c)),c}):o}catch(o){throw e.runOutsideAngular(()=>i.handleError(o)),o}}(_,c,()=>{const E=m.injector.get(V_);return E.runInitializers(),E.donePromise.then(()=>(function eS(i){Yr(i,"Expected localeId to be defined"),"string"==typeof i&&(JD=i.toLowerCase().replace(/_/g,"-"))}(m.injector.get(eh,yv)||yv),this._moduleDoBootstrap(m),m))})})}bootstrapModule(t,o=[]){const c=TI({},o);return function q1(i,e,t){const o=new qw(t);return Promise.resolve(o)}(0,0,t).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(t){const o=t.injector.get(Cv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new Ce(403,!1);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const t=this._injector.get(m0,null);t&&(t.forEach(o=>o()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(oe(qn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function TI(i,e){return Array.isArray(e)?e.reduce(TI,i):{...i,...e}}let Cv=(()=>{class i{constructor(t,o,c){this._zone=t,this._injector=o,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new le(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),p=new le(m=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{yn.assertNotInAngularZone(),l0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{yn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),E.unsubscribe()}});this.isStable=ai(h,p.pipe(zs()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){const c=t instanceof Ef;if(!this._injector.get(V_).done)throw!c&&function wv(i){const e=Gt(i)||Dn(i)||Fn(i);return null!==e&&e.standalone}(t),new Ce(405,false);let p;p=c?t:this._injector.get(wo).resolveComponentFactory(t),this.componentTypes.push(p.componentType);const m=function z1(i){return i.isBoundToModule}(p)?void 0:this._injector.get(Ug),E=p.create(qn.NULL,[],o||p.selector,m),S=E.location.nativeElement,k=E.injector.get(yI,null);return k?.registerApplication(S),E.onDestroy(()=>{this.detachView(E.hostView),U_(this.components,E),k?.unregisterApplication(S)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;U_(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fI,[]).concat(this._bootstrapListeners).forEach(c=>c(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>U_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ce(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(t){return new(t||i)(oe(yn),oe(la),oe(mi))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function U_(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let MI=!0,ky=(()=>{class i{}return i.__NG_ELEMENT_ID__=Q1,i})();function Q1(i){return function Z1(i,e,t){if(mh(i)&&!t){const o=ge(i.index,e);return new py(o,o)}return 47&i.type?new py(e[16],e):null}(Zn(),re(),16==(16&i))}class NI{constructor(){}supports(e){return my(e)}create(e){return new iN(e)}}const rN=(i,e)=>e;class iN{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rN}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,c=0,h=null;for(;t||o;){const p=!o||t&&t.currentIndex<FI(o,c,h)?t:o,m=FI(p,c,h),_=p.currentIndex;if(p===o)c--,o=o._nextRemoved;else if(t=t._next,null==p.previousIndex)c++;else{h||(h=[]);const E=m-c,S=_-c;if(E!=S){for(let F=0;F<E;F++){const V=F<h.length?h[F]:h[F]=0,$=V+F;S<=$&&$<E&&(h[F]=V+1)}h[p.previousIndex]=S-E}}m!==_&&e(p,m,_)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!my(e))throw new Ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let c,h,p,t=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let m=0;m<this.length;m++)h=e[m],p=this._trackByFn(m,h),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,h,p,m)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,p,m),o=!0),t=t._next}else c=0,function Ak(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[Lg()]();let o;for(;!(o=t.next()).done;)e(o.value)}}(e,m=>{p=this._trackByFn(c,m),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,m,p,c)),Object.is(t.item,m)||this._addIdentityChange(t,m)):(t=this._mismatch(t,m,p,c),o=!0),t=t._next,c++}),this.length=c;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,c){let h;return null===e?h=this._itTail:(h=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,h,c)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,h,c)):e=this._addAfter(new oN(t,o),h,c),e}_verifyReinsertion(e,t,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?e=this._reinsertAfter(h,e._prev,c):e.currentIndex!=c&&(e.currentIndex=c,this._addToMoves(e,c)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const c=e._prevRemoved,h=e._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const c=null===t?this._itHead:t._next;return e._next=c,e._prev=t,null===c?this._itTail=e:c._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new PI),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oN{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sN{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class PI{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new sN,this.map.set(t,o)),o.add(e)}get(e,t){const c=this.map.get(e);return c?c.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FI(i,e,t){const o=i.previousIndex;if(null===o)return o;let c=0;return t&&o<t.length&&(c=t[o]),o+e+c}class LI{constructor(){}supports(e){return e instanceof Map||Mw(e)}create(){return new aN}}class aN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Mw(e)))throw new Ce(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(o,c)=>{if(t&&t.key===c)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const h=this._getOrCreateRecordForKey(c,o);t=this._insertBeforeOrAppend(t,h)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const c=this._records.get(e);this._maybeAddToChanges(c,t);const h=c._prev,p=c._next;return h&&(h._next=p),p&&(p._prev=h),c._next=null,c._prev=null,c}const o=new uN(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class uN{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BI(){return new z_([new NI])}let z_=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||BI()),deps:[[i,new pr,new as]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(null!=o)return o;throw new Ce(901,!1)}}return i.\u0275prov=xe({token:i,providedIn:"root",factory:BI}),i})();function VI(){return new xy([new LI])}let xy=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||VI()),deps:[[i,new pr,new as]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(o)return o;throw new Ce(901,!1)}}return i.\u0275prov=xe({token:i,providedIn:"root",factory:VI}),i})();const hN=EI(null,"core",[]);let dN=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(oe(Cv))},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({}),i})(),$_=null;function pp(){return $_}const rn=new Le("DocumentToken");let E0=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return function mN(){return oe(jI)}()},providedIn:"platform"}),i})();const vN=new Le("Location Initialized");let jI=(()=>{class i extends E0{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pp().getBaseHref(this._doc)}onPopState(t){const o=pp().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=pp().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,c){UI()?this._history.pushState(t,o,c):this.location.hash=c}replaceState(t,o,c){UI()?this._history.replaceState(t,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:function(){return function yN(){return new jI(oe(rn))}()},providedIn:"platform"}),i})();function UI(){return!!window.history.pushState}function C0(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function HI(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function _d(i){return i&&"?"!==i[0]?"?"+i:i}let zg=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return Rn(zI)},providedIn:"root"}),i})();const qI=new Le("appBaseHref");let zI=(()=>{class i extends zg{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??Rn(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return C0(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+_d(this._platformLocation.search),c=this._platformLocation.hash;return c&&t?`${o}${c}`:o}pushState(t,o,c,h){const p=this.prepareExternalUrl(c+_d(h));this._platformLocation.pushState(t,o,p)}replaceState(t,o,c,h){const p=this.prepareExternalUrl(c+_d(h));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return i.\u0275fac=function(t){return new(t||i)(oe(E0),oe(qI,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_N=(()=>{class i extends zg{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=C0(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,c,h){let p=this.prepareExternalUrl(c+_d(h));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,c,h){let p=this.prepareExternalUrl(c+_d(h));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return i.\u0275fac=function(t){return new(t||i)(oe(E0),oe(qI,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),Oy=(()=>{class i{constructor(t){this._subject=new Ki,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=HI($I(o)),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+_d(o))}normalize(t){return i.stripTrailingSlash(function wN(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,$I(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",c=null){this._locationStrategy.pushState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_d(o)),c)}replaceState(t,o="",c=null){this._locationStrategy.replaceState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_d(o)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(c=>c(t,o))}subscribe(t,o,c){return this._subject.subscribe({next:t,error:o,complete:c})}}return i.normalizeQueryParams=_d,i.joinWithSlash=C0,i.stripTrailingSlash=HI,i.\u0275fac=function(t){return new(t||i)(oe(zg))},i.\u0275prov=xe({token:i,factory:function(){return function bN(){return new Oy(oe(zg))}()},providedIn:"root"}),i})();function $I(i){return i.replace(/\/index.html$/,"")}let O0=(()=>{class i{constructor(t,o,c,h){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=c,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(my(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${gt(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return i.\u0275fac=function(t){return new(t||i)(fe(z_),fe(xy),fe(Ir),fe(Cf))},i.\u0275dir=wt({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class sP{constructor(e,t,o,c){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N0=(()=>{class i{constructor(t,o,c){this._viewContainer=t,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((c,h,p)=>{if(null==c.previousIndex)o.createEmbeddedView(this._template,new sP(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===h?void 0:h);else if(null!==h){const m=o.get(h);o.move(m,p),nT(m,c)}});for(let c=0,h=o.length;c<h;c++){const m=o.get(c).context;m.index=c,m.count=h,m.ngForOf=this._ngForOf}t.forEachIdentityChange(c=>{nT(o.get(c.currentIndex),c)})}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(fe(gu),fe(Jl),fe(z_))},i.\u0275dir=wt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function nT(i,e){i.context.$implicit=e.item}let tb=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new uP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(fe(gu),fe(Jl))},i.\u0275dir=wt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class uP{constructor(){this.$implicit=null,this.ngIf=null}}function rT(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${gt(e)}'.`)}let PP=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({}),i})();const sT="browser";let jP=(()=>{class i{}return i.\u0275prov=xe({token:i,providedIn:"root",factory:()=>new UP(oe(rn),window)}),i})();class UP{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function HP(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const h=c.shadowRoot;if(h){const p=h.getElementById(e)||h.querySelector(`[name="${e}"]`);if(p)return p}c=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,c=t.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],c-h[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=aT(this.window.history)||aT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function aT(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class V0 extends class zP extends class gN{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pN(i){$_||($_=i)}(new V0)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $P(){return Fy=Fy||document.querySelector("base"),Fy?Fy.getAttribute("href"):null}();return null==t?null:function GP(i){nb=nb||document.createElement("a"),nb.setAttribute("href",i);const e=nb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fy=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function iP(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[c,h]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(c.trim()===e)return decodeURIComponent(h)}return null}(document.cookie,e)}}let nb,Fy=null;const uT=new Le("TRANSITION_ID"),KP=[{provide:B_,useFactory:function WP(i,e,t){return()=>{t.get(V_).donePromise.then(()=>{const o=pp(),c=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<c.length;h++)o.remove(c[h])})}},deps:[uT,rn,qn],multi:!0}];let XP=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const rb=new Le("EventManagerPlugins");let ib=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(c=>c.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,c){return this._findPluginFor(o).addEventListener(t,o,c)}addGlobalEventListener(t,o,c){return this._findPluginFor(o).addGlobalEventListener(t,o,c)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const c=this._plugins;for(let h=0;h<c.length;h++){const p=c[h];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(oe(rb),oe(yn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class cT{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const c=pp().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${t}`);return this.addEventListener(c,t,o)}}let lT=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),Ly=(()=>{class i extends lT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,c){t.forEach(h=>{const p=this._doc.createElement("style");p.textContent=h,c.push(o.appendChild(p))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(hT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(t,c,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(hT))}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();function hT(i){pp().remove(i)}const j0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},U0=/%COMP%/g;function ob(i,e,t){for(let o=0;o<e.length;o++){let c=e[o];Array.isArray(c)?ob(i,c,t):(c=c.replace(U0,i),t.push(c))}return t}function pT(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let sb=(()=>{class i{constructor(t,o,c){this.eventManager=t,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new H0(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case Xr.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new nF(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(t),c}case 1:case Xr.ShadowDom:return new rF(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const c=ob(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(oe(ib),oe(Ly),oe(Ry))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class H0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(j0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(mT(e)?e.content:e).appendChild(t)}insertBefore(e,t,o){e&&(mT(e)?e.content:e).insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,c){if(c){t=c+":"+t;const h=j0[c];h?e.setAttributeNS(h,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const c=j0[o];c?e.removeAttributeNS(c,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,c){c&(lo.DashCase|lo.Important)?e.style.setProperty(t,o,c&lo.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&lo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pT(o)):this.eventManager.addEventListener(e,t,pT(o))}}function mT(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class nF extends H0{constructor(e,t,o,c){super(e),this.component=o;const h=ob(c+"-"+o.id,o.styles,[]);t.addStyles(h),this.contentAttr=function JP(i){return"_ngcontent-%COMP%".replace(U0,i)}(c+"-"+o.id),this.hostAttr=function eF(i){return"_nghost-%COMP%".replace(U0,i)}(c+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class rF extends H0{constructor(e,t,o,c){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=ob(c.id,c.styles,[]);for(let p=0;p<h.length;p++){const m=document.createElement("style");m.textContent=h[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let iF=(()=>{class i extends cT{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,c){return t.addEventListener(o,c,!1),()=>this.removeEventListener(t,o,c)}removeEventListener(t,o,c){return t.removeEventListener(o,c)}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const vT=["alt","control","meta","shift"],sF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},aF={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let uF=(()=>{class i extends cT{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,c){const h=i.parseEventName(o),p=i.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pp().onAndCancel(t,h.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const h=i._normalizeKey(o.pop());let p="";if(vT.forEach(_=>{const E=o.indexOf(_);E>-1&&(o.splice(E,1),p+=_+".")}),p+=h,0!=o.length||0===h.length)return null;const m={};return m.domEventName=c,m.fullKey=p,m}static getEventFullKey(t){let o="",c=function cF(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&yT.hasOwnProperty(e)&&(e=yT[e]))}return sF[e]||e}(t);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),vT.forEach(h=>{h!=c&&(0,aF[h])(t)&&(o+=h+".")}),o+=c,o}static eventCallback(t,o,c){return h=>{i.getEventFullKey(h)===t&&c.runGuarded(()=>o(h))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const fF=EI(hN,"browser",[{provide:u0,useValue:sT},{provide:dI,useValue:function lF(){V0.makeCurrent()},multi:!0},{provide:rn,useFactory:function dF(){return function uc(i){ac=i}(document),document},deps:[]}]),bT=new Le(""),wT=[{provide:j_,useClass:class YP{addToWindow(e){Xt.getAngularTestability=(o,c=!0)=>{const h=e.findTestabilityInTree(o,c);if(null==h)throw new Error("Could not find testability for element.");return h},Xt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xt.getAllAngularRootElements=()=>e.getAllRootElements(),Xt.frameworkStabilizers||(Xt.frameworkStabilizers=[]),Xt.frameworkStabilizers.push(o=>{const c=Xt.getAllAngularTestabilities();let h=c.length,p=!1;const m=function(_){p=p||_,h--,0==h&&o(p)};c.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,o){return null==t?null:e.getTestability(t)??(o?pp().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:yI,useClass:f0,deps:[yn,p0,j_]},{provide:f0,useClass:f0,deps:[yn,p0,j_]}],ET=[{provide:vf,useValue:"root"},{provide:mi,useFactory:function hF(){return new mi},deps:[]},{provide:rb,useClass:iF,multi:!0,deps:[rn,yn,u0]},{provide:rb,useClass:uF,multi:!0,deps:[rn]},{provide:sb,useClass:sb,deps:[ib,Ly,Ry]},{provide:qh,useExisting:sb},{provide:lT,useExisting:Ly},{provide:Ly,useClass:Ly,deps:[rn]},{provide:ib,useClass:ib,deps:[rb,yn]},{provide:class qP{},useClass:XP,deps:[]},[]];let CT=(()=>{class i{constructor(t){}static withServerTransition(t){return{ngModule:i,providers:[{provide:Ry,useValue:t.appId},{provide:uT,useExisting:Ry},KP]}}}return i.\u0275fac=function(t){return new(t||i)(oe(bT,12))},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({providers:[...ET,...wT],imports:[PP,dN]}),i})(),DT=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:function(t){let o=null;return o=t?new t:function gF(){return new DT(oe(rn))}(),o},providedIn:"root"}),i})();typeof window<"u"&&window;let $0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(t){let o=null;return o=t?new(t||i):oe(TT),o},providedIn:"root"}),i})(),TT=(()=>{class i extends $0{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case In.NONE:return o;case In.HTML:return bo(o,"HTML")?co(o):Im(this._doc,String(o)).toString();case In.STYLE:return bo(o,"Style")?co(o):o;case In.SCRIPT:if(bo(o,"Script"))return co(o);throw new Error("unsafe value used in a script context");case In.URL:return bo(o,"URL")?co(o):Fo(String(o));case In.RESOURCE_URL:if(bo(o,"ResourceURL"))return co(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function wm(i){return new bm(i)}(t)}bypassSecurityTrustStyle(t){return function uf(i){return new qr(i)}(t)}bypassSecurityTrustScript(t){return function Wp(i){return new Qa(i)}(t)}bypassSecurityTrustUrl(t){return function cf(i){return new bl(i)}(t)}bypassSecurityTrustResourceUrl(t){return function Kp(i){return new Fh(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:function(t){let o=null;return o=t?new t:function EF(i){return new TT(i.get(rn))}(oe(qn)),o},providedIn:"root"}),i})();function ot(...i){return pt(i,G(i))}class yu extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}const ab=I(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:CF}=Array,{getPrototypeOf:DF,prototype:SF,keys:IF}=Object;function AT(i){if(1===i.length){const e=i[0];if(CF(e))return{args:e,keys:null};if(function TF(i){return i&&"object"==typeof i&&DF(i)===SF}(e)){const t=IF(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:i,keys:null}}const{isArray:AF}=Array;function G0(i){return st(e=>function MF(i,e){return AF(e)?i(...e):i(e)}(i,e))}function MT(i,e){return i.reduce((t,o,c)=>(t[o]=e[c],t),{})}function W0(...i){const e=G(i),t=W(i),{args:o,keys:c}=AT(i);if(0===o.length)return pt([],e);const h=new le(function RF(i,e,t=ve){return o=>{RT(e,()=>{const{length:c}=i,h=new Array(c);let p=c,m=c;for(let _=0;_<c;_++)RT(e,()=>{const E=pt(i[_],e);let S=!1;E.subscribe(Ze(o,k=>{h[_]=k,S||(S=!0,m--),m||o.next(t(h.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,e,c?p=>MT(c,p):ve));return t?h.pipe(G0(t)):h}function RT(i,e,t){i?Ci(t,i,e):e()}function ub(...i){return function kF(){return Bi(1)}()(pt(i,G(i)))}function cb(i){return new le(e=>{gn(i()).subscribe(e)})}function Sv(i,e){const t=me(i)?i:()=>i,o=c=>c.error(t());return new le(e?c=>e.schedule(o,0,c):o)}function K0(){return ht((i,e)=>{let t=null;i._refCount++;const o=Ze(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const c=i._connection,h=t;t=null,c&&(!h||c===h)&&c.unsubscribe(),e.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})}class kT extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vt;const t=this.getSubject();e.add(this.source.subscribe(Ze(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vt.EMPTY)}return e}refCount(){return K0()(this)}}function th(i,e){return ht((t,o)=>{let c=null,h=0,p=!1;const m=()=>p&&!c&&o.complete();t.subscribe(Ze(o,_=>{c?.unsubscribe();let E=0;const S=h++;gn(i(_,S)).subscribe(c=Ze(o,k=>o.next(e?e(_,k,S,E++):k),()=>{c=null,m()}))},()=>{p=!0,m()}))})}function Es(i){return i<=0?()=>br:ht((e,t)=>{let o=0;e.subscribe(Ze(t,c=>{++o<=i&&(t.next(c),i<=o&&t.complete())}))})}function lb(...i){const e=G(i);return ht((t,o)=>{(e?ub(i,t,e):ub(i,t)).subscribe(o)})}function Xi(i,e){return ht((t,o)=>{let c=0;t.subscribe(Ze(o,h=>i.call(e,h,c++)&&o.next(h)))})}function hb(i){return ht((e,t)=>{let o=!1;e.subscribe(Ze(t,c=>{o=!0,t.next(c)},()=>{o||t.next(i),t.complete()}))})}function xT(i=xF){return ht((e,t)=>{let o=!1;e.subscribe(Ze(t,c=>{o=!0,t.next(c)},()=>o?t.complete():t.error(i())))})}function xF(){return new ab}function mp(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Xi((c,h)=>i(c,h,o)):ve,Es(1),t?hb(e):xT(()=>new ab))}function vp(i,e){return me(e)?Dt(i,e,1):Dt(i,1)}function Qi(i,e,t){const o=me(i)||e||t?{next:i,error:e,complete:t}:i;return o?ht((c,h)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let m=!0;c.subscribe(Ze(h,_=>{var E;null===(E=o.next)||void 0===E||E.call(o,_),h.next(_)},()=>{var _;m=!1,null===(_=o.complete)||void 0===_||_.call(o),h.complete()},_=>{var E;m=!1,null===(E=o.error)||void 0===E||E.call(o,_),h.error(_)},()=>{var _,E;m&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(E=o.finalize)||void 0===E||E.call(o)}))}):ve}function wd(i){return ht((e,t)=>{let h,o=null,c=!1;o=e.subscribe(Ze(t,void 0,void 0,p=>{h=gn(i(p,wd(i)(e))),o?(o.unsubscribe(),o=null,h.subscribe(t)):c=!0})),c&&(o.unsubscribe(),o=null,h.subscribe(t))})}function OF(i,e,t,o,c){return(h,p)=>{let m=t,_=e,E=0;h.subscribe(Ze(p,S=>{const k=E++;_=m?i(_,S,k):(m=!0,S),o&&p.next(_)},c&&(()=>{m&&p.next(_),p.complete()})))}}function OT(i,e){return ht(OF(i,e,arguments.length>=2,!0))}function Y0(i){return i<=0?()=>br:ht((e,t)=>{let o=[];e.subscribe(Ze(t,c=>{o.push(c),i<o.length&&o.shift()},()=>{for(const c of o)t.next(c);t.complete()},void 0,()=>{o=null}))})}function NT(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Xi((c,h)=>i(c,h,o)):ve,Y0(1),t?hb(e):xT(()=>new ab))}function db(i){return ht((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}const dn="primary";class FF{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Iv(i){return new FF(i)}function LF(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const c={};for(let h=0;h<o.length;h++){const p=o[h],m=i[h];if(p.startsWith(":"))c[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:c}}function nh(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let c;for(let h=0;h<t.length;h++)if(c=t[h],!PT(i[c],e[c]))return!1;return!0}function PT(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((c,h)=>o[h]===c)}return i===e}function FT(i){return Array.prototype.concat.apply([],i)}function LT(i){return i.length>0?i[i.length-1]:null}function So(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function Ed(i){return uD(i)?i:I_(i)?pt(Promise.resolve(i)):ot(i)}const jF={exact:function jT(i,e,t){if(!Gg(i.segments,e.segments)||!fb(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!jT(i.children[o],e.children[o],t))return!1;return!0},subset:UT},BT={exact:function UF(i,e){return nh(i,e)},subset:function HF(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>PT(i[t],e[t]))},ignored:()=>!0};function VT(i,e,t){return jF[t.paths](i.root,e.root,t.matrixParams)&&BT[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function UT(i,e,t){return HT(i,e,e.segments,t)}function HT(i,e,t,o){if(i.segments.length>t.length){const c=i.segments.slice(0,t.length);return!(!Gg(c,t)||e.hasChildren()||!fb(c,t,o))}if(i.segments.length===t.length){if(!Gg(i.segments,t)||!fb(i.segments,t,o))return!1;for(const c in e.children)if(!i.children[c]||!UT(i.children[c],e.children[c],o))return!1;return!0}{const c=t.slice(0,i.segments.length),h=t.slice(i.segments.length);return!!(Gg(i.segments,c)&&fb(i.segments,c,o)&&i.children[dn])&&HT(i.children[dn],e,h,o)}}function fb(i,e,t){return e.every((o,c)=>BT[t](i[c].parameters,o.parameters))}class $g{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return $F.serialize(this)}}class pn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,So(t,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pb(this)}}class By{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return GT(this)}}function Gg(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}let qT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return new Q0},providedIn:"root"}),i})();class Q0{parse(e){const t=new eL(e);return new $g(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vy(e.root,!0)}`,o=function KF(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(c=>`${gb(t)}=${gb(c)}`).join("&"):`${gb(t)}=${gb(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${o}${"string"==typeof e.fragment?`#${function GF(i){return encodeURI(i)}(e.fragment)}`:""}`}}const $F=new Q0;function pb(i){return i.segments.map(e=>GT(e)).join("/")}function Vy(i,e){if(!i.hasChildren())return pb(i);if(e){const t=i.children[dn]?Vy(i.children[dn],!1):"",o=[];return So(i.children,(c,h)=>{h!==dn&&o.push(`${h}:${Vy(c,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function zF(i,e){let t=[];return So(i.children,(o,c)=>{c===dn&&(t=t.concat(e(o,c)))}),So(i.children,(o,c)=>{c!==dn&&(t=t.concat(e(o,c)))}),t}(i,(o,c)=>c===dn?[Vy(i.children[dn],!1)]:[`${c}:${Vy(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[dn]?`${pb(i)}/${t[0]}`:`${pb(i)}/(${t.join("//")})`}}function zT(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gb(i){return zT(i).replace(/%3B/gi,";")}function Z0(i){return zT(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mb(i){return decodeURIComponent(i)}function $T(i){return mb(i.replace(/\+/g,"%20"))}function GT(i){return`${Z0(i.path)}${function WF(i){return Object.keys(i).map(e=>`;${Z0(e)}=${Z0(i[e])}`).join("")}(i.parameters)}`}const YF=/^[^\/()?;=#]+/;function vb(i){const e=i.match(YF);return e?e[0]:""}const XF=/^[^=?&#]+/,ZF=/^[^&#]+/;class eL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[dn]=new pn(e,t)),o}parseSegment(){const e=vb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ce(4009,!1);return this.capture(e),new By(mb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vb(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const c=vb(this.remaining);c&&(o=c,this.capture(o))}e[mb(t)]=mb(o)}parseQueryParam(e){const t=function QF(i){const e=i.match(XF);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function JF(i){const e=i.match(ZF);return e?e[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const c=$T(t),h=$T(o);if(e.hasOwnProperty(c)){let p=e[c];Array.isArray(p)||(p=[p],e[c]=p),p.push(h)}else e[c]=h}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=vb(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Ce(4010,!1);let h;o.indexOf(":")>-1?(h=o.slice(0,o.indexOf(":")),this.capture(h),this.capture(":")):e&&(h=dn);const p=this.parseChildren();t[h]=1===Object.keys(p).length?p[dn]:new pn([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ce(4011,!1)}}function J0(i){return i.segments.length>0?new pn([],{[dn]:i}):i}function yb(i){const e={};for(const o of Object.keys(i.children)){const h=yb(i.children[o]);(h.segments.length>0||h.hasChildren())&&(e[o]=h)}return function tL(i){if(1===i.numberOfChildren&&i.children[dn]){const e=i.children[dn];return new pn(i.segments.concat(e.segments),e.children)}return i}(new pn(i.segments,e))}function Wg(i){return i instanceof $g}function iL(i,e,t,o,c){if(0===t.length)return Tv(e.root,e.root,e.root,o,c);const h=function YT(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new KT(!0,0,i);let e=0,t=!1;const o=i.reduce((c,h,p)=>{if("object"==typeof h&&null!=h){if(h.outlets){const m={};return So(h.outlets,(_,E)=>{m[E]="string"==typeof _?_.split("/"):_}),[...c,{outlets:m}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===p?(h.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&c.push(m))}),c):[...c,h]},[]);return new KT(t,e,o)}(t);return h.toRoot()?Tv(e.root,e.root,new pn([],{}),o,c):function p(_){const E=function sL(i,e,t,o){if(i.isAbsolute)return new Av(e.root,!0,0);if(-1===o)return new Av(t,t===e.root,0);return function XT(i,e,t){let o=i,c=e,h=t;for(;h>c;){if(h-=c,o=o.parent,!o)throw new Ce(4005,!1);c=o.segments.length}return new Av(o,!1,c-h)}(t,o+(jy(i.commands[0])?0:1),i.numberOfDoubleDots)}(h,e,i.snapshot?._urlSegment,_),S=E.processChildren?Hy(E.segmentGroup,E.index,h.commands):tE(E.segmentGroup,E.index,h.commands);return Tv(e.root,E.segmentGroup,S,o,c)}(i.snapshot?._lastPathIndex)}function jy(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Uy(i){return"object"==typeof i&&null!=i&&i.outlets}function Tv(i,e,t,o,c){let p,h={};o&&So(o,(_,E)=>{h[E]=Array.isArray(_)?_.map(S=>`${S}`):`${_}`}),p=i===e?t:WT(i,e,t);const m=J0(yb(p));return new $g(m,h,c)}function WT(i,e,t){const o={};return So(i.children,(c,h)=>{o[h]=c===e?t:WT(c,e,t)}),new pn(i.segments,o)}class KT{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&jy(o[0]))throw new Ce(4003,!1);const c=o.find(Uy);if(c&&c!==LT(o))throw new Ce(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Av{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function tE(i,e,t){if(i||(i=new pn([],{})),0===i.segments.length&&i.hasChildren())return Hy(i,e,t);const o=function uL(i,e,t){let o=0,c=e;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(o>=t.length)return h;const p=i.segments[c],m=t[o];if(Uy(m))break;const _=`${m}`,E=o<t.length-1?t[o+1]:null;if(c>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!ZT(_,E,p))return h;o+=2}else{if(!ZT(_,{},p))return h;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(i,e,t),c=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const h=new pn(i.segments.slice(0,o.pathIndex),{});return h.children[dn]=new pn(i.segments.slice(o.pathIndex),i.children),Hy(h,0,c)}return o.match&&0===c.length?new pn(i.segments,{}):o.match&&!i.hasChildren()?nE(i,e,t):o.match?Hy(i,0,c):nE(i,e,t)}function Hy(i,e,t){if(0===t.length)return new pn(i.segments,{});{const o=function aL(i){return Uy(i[0])?i[0].outlets:{[dn]:i}}(t),c={};return So(o,(h,p)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[p]=tE(i.children[p],e,h))}),So(i.children,(h,p)=>{void 0===o[p]&&(c[p]=h)}),new pn(i.segments,c)}}function nE(i,e,t){const o=i.segments.slice(0,e);let c=0;for(;c<t.length;){const h=t[c];if(Uy(h)){const _=cL(h.outlets);return new pn(o,_)}if(0===c&&jy(t[0])){o.push(new By(i.segments[e].path,QT(t[0]))),c++;continue}const p=Uy(h)?h.outlets[dn]:`${h}`,m=c<t.length-1?t[c+1]:null;p&&m&&jy(m)?(o.push(new By(p,QT(m))),c+=2):(o.push(new By(p,{})),c++)}return new pn(o,{})}function cL(i){const e={};return So(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=nE(new pn([],{}),0,t))}),e}function QT(i){const e={};return So(i,(t,o)=>e[o]=`${t}`),e}function ZT(i,e,t){return i==t.path&&nh(e,t.parameters)}class Cd{constructor(e,t){this.id=e,this.url=t}}class rE extends Cd{constructor(e,t,o="imperative",c=null){super(e,t),this.type=0,this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kg extends Cd{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _b extends Cd{constructor(e,t,o,c){super(e,t),this.reason=o,this.code=c,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JT extends Cd{constructor(e,t,o,c){super(e,t),this.error=o,this.target=c,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lL extends Cd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hL extends Cd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dL extends Cd{constructor(e,t,o,c,h){super(e,t),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=h,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fL extends Cd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pL extends Cd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gL{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vL{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eA{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iE(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=iE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return oE(e,this._root).map(t=>t.value)}}function iE(i,e){if(i===e.value)return e;for(const t of e.children){const o=iE(i,t);if(o)return o}return null}function oE(i,e){if(i===e.value)return[e];for(const t of e.children){const o=oE(i,t);if(o.length)return o.unshift(e),o}return[]}class Dd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mv(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class nA extends tA{constructor(e,t){super(e),this.snapshot=t,sE(this,e)}toString(){return this.snapshot.toString()}}function rA(i,e){const t=function EL(i,e){const p=new bb([],{},{},"",{},dn,e,null,i.root,-1,{});return new oA("",new Dd(p,[]))}(i,e),o=new yu([new By("",{})]),c=new yu({}),h=new yu({}),p=new yu({}),m=new yu(""),_=new Rv(o,c,p,m,h,dn,e,t.root);return _.snapshot=t.root,new nA(new Dd(_,[]),t)}class Rv{constructor(e,t,o,c,h,p,m,_){this.url=e,this.params=t,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=p,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(st(e=>Iv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(st(e=>Iv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iA(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const c=t[o],h=t[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(h.component)break;o--}}return function CL(i){return i.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class bb{constructor(e,t,o,c,h,p,m,_,E,S,k,F){this.url=e,this.params=t,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=p,this.component=m,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=S,this._correctedLastPathIndex=F??S,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oA extends tA{constructor(e,t){super(t),this.url=e,sE(this,t)}toString(){return sA(this._root)}}function sE(i,e){e.value._routerState=i,e.children.forEach(t=>sE(i,t))}function sA(i){const e=i.children.length>0?` { ${i.children.map(sA).join(", ")} } `:"";return`${i.value}${e}`}function aE(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,nh(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),nh(e.params,t.params)||i.params.next(t.params),function BF(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!nh(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),nh(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function uE(i,e){const t=nh(i.params,e.params)&&function qF(i,e){return Gg(i,e)&&i.every((t,o)=>nh(t.parameters,e[o].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||uE(i.parent,e.parent))}function qy(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const c=function SL(i,e,t){return e.children.map(o=>{for(const c of t.children)if(i.shouldReuseRoute(o.value,c.value.snapshot))return qy(i,o,c);return qy(i,o)})}(i,e,t);return new Dd(o,c)}{if(i.shouldAttach(e.value)){const h=i.retrieve(e.value);if(null!==h){const p=h.route;return p.value._futureSnapshot=e.value,p.children=e.children.map(m=>qy(i,m)),p}}const o=function IL(i){return new Rv(new yu(i.url),new yu(i.params),new yu(i.queryParams),new yu(i.fragment),new yu(i.data),i.outlet,i.component,i)}(e.value),c=e.children.map(h=>qy(i,h));return new Dd(o,c)}}const cE="ngNavigationCancelingError";function aA(i,e){const{redirectTo:t,navigationBehaviorOptions:o}=Wg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,c=uA(!1,0,e);return c.url=t,c.navigationBehaviorOptions=o,c}function uA(i,e,t){const o=new Error("NavigationCancelingError: "+(i||""));return o[cE]=!0,o.cancellationCode=e,t&&(o.url=t),o}function cA(i){return lA(i)&&Wg(i.url)}function lA(i){return i&&i[cE]}class TL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zy,this.attachRef=null}}let zy=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const c=this.getOrCreateContext(t);c.outlet=o,this.contexts.set(t,c)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new TL,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wb=!1;let lE=(()=>{class i{constructor(t,o,c,h,p){this.parentContexts=t,this.location=o,this.changeDetector=h,this.environmentInjector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ki,this.deactivateEvents=new Ki,this.attachEvents=new Ki,this.detachEvents=new Ki,this.name=c||dn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ce(4012,wb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ce(4012,wb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ce(4012,wb);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Ce(4013,wb);this._activatedRoute=t;const c=this.location,p=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new AL(t,m,c.injector);if(o&&function ML(i){return!!i.resolveComponentFactory}(o)){const E=o.resolveComponentFactory(p);this.activated=c.createComponent(E,c.length,_)}else this.activated=c.createComponent(p,{index:c.length,injector:_,environmentInjector:o??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(fe(zy),fe(gu),Jn("name"),fe(ky),fe(la))},i.\u0275dir=wt({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class AL{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===Rv?this.route:e===zy?this.childContexts:this.parent.get(e,t)}}let hA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=be({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&_s(0,"router-outlet")},dependencies:[lE],encapsulation:2}),i})();function dA(i,e){return i.providers&&!i._injector&&(i._injector=N_(i.providers,e,`Route: ${i.path}`)),i._injector??e}function dE(i){const e=i.children&&i.children.map(dE),t=e?{...i,children:e}:{...i};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dn&&(t.component=hA),t}function _u(i){return i.outlet||dn}function fA(i,e){const t=i.filter(o=>_u(o)===e);return t.push(...i.filter(o=>_u(o)!==e)),t}function pA(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class NL{constructor(e,t,o,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=c}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),aE(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const c=Mv(t);e.children.forEach(h=>{const p=h.value.outlet;this.deactivateRoutes(h,c[p],o),delete c[p]}),So(c,(h,p)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(e,t,o){const c=e.value,h=t?t.value:null;if(c===h)if(c.component){const p=o.getContext(c.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,o);else h&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet),c=o&&e.value.component?o.children:t,h=Mv(e);for(const p of Object.keys(h))this.deactivateRouteAndItsChildren(h[p],c);if(o&&o.outlet){const p=o.outlet.detach(),m=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:p,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),c=o&&e.value.component?o.children:t,h=Mv(e);for(const p of Object.keys(h))this.deactivateRouteAndItsChildren(h[p],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const c=Mv(t);e.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],o),this.forwardEvent(new bL(h.value.snapshot))}),e.children.length&&this.forwardEvent(new yL(e.value.snapshot))}activateRoutes(e,t,o){const c=e.value,h=t?t.value:null;if(aE(c),c===h)if(c.component){const p=o.getOrCreateContext(c.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,o);else if(c.component){const p=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const m=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),aE(m.route.value),this.activateChildRoutes(e,null,p.children)}else{const m=pA(c.snapshot),_=m?.get(wo)??null;p.attachRef=null,p.route=c,p.resolver=_,p.injector=m,p.outlet&&p.outlet.activateWith(c,p.injector),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,o)}}class gA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eb{constructor(e,t){this.component=e,this.route=t}}function PL(i,e,t){const o=i._root;return $y(o,e?e._root:null,t,[o.value])}function Cb(i,e,t){return(pA(e)??t).get(i)}function $y(i,e,t,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=Mv(e);return i.children.forEach(p=>{(function LL(i,e,t,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,p=e?e.value:null,m=t?t.getContext(i.value.outlet):null;if(p&&h.routeConfig===p.routeConfig){const _=function BL(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!Gg(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Gg(i.url,e.url)||!nh(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uE(i,e)||!nh(i.queryParams,e.queryParams);default:return!uE(i,e)}}(p,h,h.routeConfig.runGuardsAndResolvers);_?c.canActivateChecks.push(new gA(o)):(h.data=p.data,h._resolvedData=p._resolvedData),$y(i,e,h.component?m?m.children:null:t,o,c),_&&m&&m.outlet&&m.outlet.isActivated&&c.canDeactivateChecks.push(new Eb(m.outlet.component,p))}else p&&Gy(e,m,c),c.canActivateChecks.push(new gA(o)),$y(i,null,h.component?m?m.children:null:t,o,c)})(p,h[p.value.outlet],t,o.concat([p.value]),c),delete h[p.value.outlet]}),So(h,(p,m)=>Gy(p,t.getContext(m),c)),c}function Gy(i,e,t){const o=Mv(i),c=i.value;So(o,(h,p)=>{Gy(h,c.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new Eb(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}function Wy(i){return"function"==typeof i}function fE(i){return i instanceof ab||"EmptyError"===i?.name}const Db=Symbol("INITIAL_VALUE");function kv(){return th(i=>W0(i.map(e=>e.pipe(Es(1),lb(Db)))).pipe(st(e=>{for(const t of e)if(!0!==t){if(t===Db)return Db;if(!1===t||t instanceof $g)return t}return!0}),Xi(e=>e!==Db),Es(1)))}function mA(i){return function ye(...i){return Oe(i)}(Qi(e=>{if(Wg(e))throw aA(0,e)}),st(e=>!0===e))}const pE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vA(i,e,t,o,c){const h=gE(i,e,t);return h.matched?function t2(i,e,t,o){const c=e.canMatch;return c&&0!==c.length?ot(c.map(p=>{const m=i.get(p),_=function zL(i){return i&&Wy(i.canMatch)}(m)?m.canMatch(e,t):m(e,t);return Ed(_)})).pipe(kv(),mA()):ot(!0)}(o=dA(e,o),e,t).pipe(st(p=>!0===p?h:{...pE})):ot(h)}function gE(i,e,t){if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?{...pE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const c=(e.matcher||LF)(t,i,e);if(!c)return{...pE};const h={};So(c.posParams,(m,_)=>{h[_]=m.path});const p=c.consumed.length>0?{...h,...c.consumed[c.consumed.length-1].parameters}:h;return{matched:!0,consumedSegments:c.consumed,remainingSegments:t.slice(c.consumed.length),parameters:p,positionalParamSegments:c.posParams??{}}}function Sb(i,e,t,o,c="corrected"){if(t.length>0&&function o2(i,e,t){return t.some(o=>Ib(i,e,o)&&_u(o)!==dn)}(i,t,o)){const p=new pn(e,function r2(i,e,t,o){const c={};c[dn]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const h of t)if(""===h.path&&_u(h)!==dn){const p=new pn([],{});p._sourceSegment=i,p._segmentIndexShift=e.length,c[_u(h)]=p}return c}(i,e,o,new pn(t,i.children)));return p._sourceSegment=i,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function s2(i,e,t){return t.some(o=>Ib(i,e,o))}(i,t,o)){const p=new pn(i.segments,function n2(i,e,t,o,c,h){const p={};for(const m of o)if(Ib(i,t,m)&&!c[_u(m)]){const _=new pn([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===h?i.segments.length:e.length,p[_u(m)]=_}return{...c,...p}}(i,e,t,o,i.children,c));return p._sourceSegment=i,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const h=new pn(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}function Ib(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yA(i,e,t,o){return!!(_u(i)===o||o!==dn&&Ib(e,t,i))&&("**"===i.path||gE(e,i,t).matched)}function _A(i,e,t){return 0===e.length&&!i.children[t]}const Tb=!1;class Ab{constructor(e){this.segmentGroup=e||null}}class bA{constructor(e){this.urlTree=e}}function Ky(i){return Sv(new Ab(i))}function wA(i){return Sv(new bA(i))}class l2{constructor(e,t,o,c,h){this.injector=e,this.configLoader=t,this.urlSerializer=o,this.urlTree=c,this.config=h,this.allowRedirects=!0}apply(){const e=Sb(this.urlTree.root,[],[],this.config).segmentGroup,t=new pn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,dn).pipe(st(h=>this.createUrlTree(yb(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wd(h=>{if(h instanceof bA)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Ab?this.noMatchError(h):h}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,dn).pipe(st(c=>this.createUrlTree(yb(c),e.queryParams,e.fragment))).pipe(wd(c=>{throw c instanceof Ab?this.noMatchError(c):c}))}noMatchError(e){return new Ce(4002,Tb)}createUrlTree(e,t,o){const c=J0(e);return new $g(c,t,o)}expandSegmentGroup(e,t,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe(st(h=>new pn([],h))):this.expandSegment(e,o,t,o.segments,c,!0)}expandChildren(e,t,o){const c=[];for(const h of Object.keys(o.children))"primary"===h?c.unshift(h):c.push(h);return pt(c).pipe(vp(h=>{const p=o.children[h],m=fA(t,h);return this.expandSegmentGroup(e,m,p,h).pipe(st(_=>({segment:_,outlet:h})))}),OT((h,p)=>(h[p.outlet]=p.segment,h),{}),NT())}expandSegment(e,t,o,c,h,p){return pt(o).pipe(vp(m=>this.expandSegmentAgainstRoute(e,t,o,m,c,h,p).pipe(wd(E=>{if(E instanceof Ab)return ot(null);throw E}))),mp(m=>!!m),wd((m,_)=>{if(fE(m))return _A(t,c,h)?ot(new pn([],{})):Ky(t);throw m}))}expandSegmentAgainstRoute(e,t,o,c,h,p,m){return yA(c,t,h,p)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,t,c,h,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p):Ky(t):Ky(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,c,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,c){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?wA(h):this.lineralizeSegments(o,h).pipe(Dt(p=>{const m=new pn(p,{});return this.expandSegment(e,m,t,p,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p){const{matched:m,consumedSegments:_,remainingSegments:E,positionalParamSegments:S}=gE(t,c,h);if(!m)return Ky(t);const k=this.applyRedirectCommands(_,c.redirectTo,S);return c.redirectTo.startsWith("/")?wA(k):this.lineralizeSegments(c,k).pipe(Dt(F=>this.expandSegment(e,t,o,F.concat(E),p,!1)))}matchSegmentAgainstRoute(e,t,o,c,h){return"**"===o.path?(e=dA(o,e),o.loadChildren?(o._loadedRoutes?ot({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(e,o)).pipe(st(m=>(o._loadedRoutes=m.routes,o._loadedInjector=m.injector,new pn(c,{})))):ot(new pn(c,{}))):vA(t,o,c,e).pipe(th(({matched:p,consumedSegments:m,remainingSegments:_})=>p?this.getChildConfig(e=o._injector??e,o,c).pipe(Dt(S=>{const k=S.injector??e,F=S.routes,{segmentGroup:V,slicedSegments:$}=Sb(t,m,_,F),Y=new pn(V.segments,V.children);if(0===$.length&&Y.hasChildren())return this.expandChildren(k,F,Y).pipe(st(he=>new pn(m,he)));if(0===F.length&&0===$.length)return ot(new pn(m,{}));const ae=_u(o)===h;return this.expandSegment(k,Y,F,$,ae?dn:h,!0).pipe(st(Re=>new pn(m.concat(Re.segments),Re.children)))})):Ky(t)))}getChildConfig(e,t,o){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function e2(i,e,t,o){const c=e.canLoad;return void 0===c||0===c.length?ot(!0):ot(c.map(p=>{const m=i.get(p),_=function jL(i){return i&&Wy(i.canLoad)}(m)?m.canLoad(e,t):m(e,t);return Ed(_)})).pipe(kv(),mA())}(e,t,o).pipe(Dt(c=>c?this.configLoader.loadChildren(e,t).pipe(Qi(h=>{t._loadedRoutes=h.routes,t._loadedInjector=h.injector})):function u2(i){return Sv(uA(Tb,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let o=[],c=t.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return ot(o);if(c.numberOfChildren>1||!c.children[dn])return Sv(new Ce(4e3,Tb));c=c.children[dn]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreateUrlTree(e,t,o,c){const h=this.createSegmentGroup(e,t.root,o,c);return new $g(h,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return So(e,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);o[h]=t[m]}else o[h]=c}),o}createSegmentGroup(e,t,o,c){const h=this.createSegments(e,t.segments,o,c);let p={};return So(t.children,(m,_)=>{p[_]=this.createSegmentGroup(e,m,o,c)}),new pn(h,p)}createSegments(e,t,o,c){return t.map(h=>h.path.startsWith(":")?this.findPosParam(e,h,c):this.findOrReturn(h,o))}findPosParam(e,t,o){const c=o[t.path.substring(1)];if(!c)throw new Ce(4001,Tb);return c}findOrReturn(e,t){let o=0;for(const c of t){if(c.path===e.path)return t.splice(o),c;o++}return e}}class d2{}class g2{constructor(e,t,o,c,h,p,m,_){this.injector=e,this.rootComponentType=t,this.config=o,this.urlTree=c,this.url=h,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=m,this.urlSerializer=_}recognize(){const e=Sb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,dn).pipe(st(t=>{if(null===t)return null;const o=new bb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Dd(o,t),h=new oA(this.url,c);return this.inheritParamsAndData(h._root),h}))}inheritParamsAndData(e){const t=e.value,o=iA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,t,o,c){return 0===o.segments.length&&o.hasChildren()?this.processChildren(e,t,o):this.processSegment(e,t,o,o.segments,c)}processChildren(e,t,o){return pt(Object.keys(o.children)).pipe(vp(c=>{const h=o.children[c],p=fA(t,c);return this.processSegmentGroup(e,p,h,c)}),OT((c,h)=>c&&h?(c.push(...h),c):null),function NF(i,e=!1){return ht((t,o)=>{let c=0;t.subscribe(Ze(o,h=>{const p=i(h,c++);(p||e)&&o.next(h),!p&&o.complete()}))})}(c=>null!==c),hb(null),NT(),st(c=>{if(null===c)return null;const h=EA(c);return function m2(i){i.sort((e,t)=>e.value.outlet===dn?-1:t.value.outlet===dn?1:e.value.outlet.localeCompare(t.value.outlet))}(h),h}))}processSegment(e,t,o,c,h){return pt(t).pipe(vp(p=>this.processSegmentAgainstRoute(p._injector??e,p,o,c,h)),mp(p=>!!p),wd(p=>{if(fE(p))return _A(o,c,h)?ot([]):ot(null);throw p}))}processSegmentAgainstRoute(e,t,o,c,h){if(t.redirectTo||!yA(t,o,c,h))return ot(null);let p;if("**"===t.path){const m=c.length>0?LT(c).parameters:{},_=DA(o)+c.length;p=ot({snapshot:new bb(c,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IA(t),_u(t),t.component??t._loadedComponent??null,t,CA(o),_,TA(t),_),consumedSegments:[],remainingSegments:[]})}else p=vA(o,t,c,e).pipe(st(({matched:m,consumedSegments:_,remainingSegments:E,parameters:S})=>{if(!m)return null;const k=DA(o)+_.length;return{snapshot:new bb(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IA(t),_u(t),t.component??t._loadedComponent??null,t,CA(o),k,TA(t),k),consumedSegments:_,remainingSegments:E}}));return p.pipe(th(m=>{if(null===m)return ot(null);const{snapshot:_,consumedSegments:E,remainingSegments:S}=m;e=t._injector??e;const k=t._loadedInjector??e,F=function v2(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:$}=Sb(o,E,S,F.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);if(0===$.length&&V.hasChildren())return this.processChildren(k,F,V).pipe(st(ae=>null===ae?null:[new Dd(_,ae)]));if(0===F.length&&0===$.length)return ot([new Dd(_,[])]);const Y=_u(t)===h;return this.processSegment(k,F,V,$,Y?dn:h).pipe(st(ae=>null===ae?null:[new Dd(_,ae)]))}))}}function y2(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EA(i){const e=[],t=new Set;for(const o of i){if(!y2(o)){e.push(o);continue}const c=e.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...o.children),t.add(c)):e.push(o)}for(const o of t){const c=EA(o.children);e.push(new Dd(o.value,c))}return e.filter(o=>!t.has(o))}function CA(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function DA(i){let e=i,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function IA(i){return i.data||{}}function TA(i){return i.resolve||{}}const mE=Symbol("RouteTitle");function AA(i){return"string"==typeof i.title||null===i.title}function vE(i){return th(e=>{const t=i(e);return t?pt(t).pipe(st(()=>e)):ot(e)})}let MA=(()=>{class i{buildTitle(t){let o,c=t.root;for(;void 0!==c;)o=this.getResolvedTitleForRoute(c)??o,c=c.children.find(h=>h.outlet===dn);return o}getResolvedTitleForRoute(t){return t.data[mE]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return Rn(RA)},providedIn:"root"}),i})(),RA=(()=>{class i extends MA{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return i.\u0275fac=function(t){return new(t||i)(oe(DT))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class I2{}class A2 extends class T2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yE=new Le("",{providedIn:"root",factory:()=>({})}),_E=new Le("ROUTES");let bE=(()=>{class i{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Ed(t.loadComponent()).pipe(Qi(h=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=h}),db(()=>{this.componentLoaders.delete(t)})),c=new kT(o,()=>new ke).pipe(K0());return this.componentLoaders.set(t,c),c}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ot({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const h=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe(st(m=>{this.onLoadEndListener&&this.onLoadEndListener(o);let _,E,S=!1;Array.isArray(m)?E=m:(_=m.create(t).injector,E=FT(_.get(_E,[],Je.Self|Je.Optional)));return{routes:E.map(dE),injector:_}}),db(()=>{this.childrenLoaders.delete(o)})),p=new kT(h,()=>new ke).pipe(K0());return this.childrenLoaders.set(o,p),p}loadModuleFactoryOrRoutes(t){return Ed(t()).pipe(Dt(o=>o instanceof SS||Array.isArray(o)?ot(o):pt(this.compiler.compileModuleAsync(o))))}}return i.\u0275fac=function(t){return new(t||i)(oe(qn),oe(c0))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class R2{}class k2{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function x2(i){throw i}function O2(i,e,t){return e.parse("/")}const N2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function xA(){const i=Rn(qT),e=Rn(zy),t=Rn(Oy),o=Rn(qn),c=Rn(c0),h=Rn(_E,{optional:!0})??[],p=Rn(yE,{optional:!0})??{},m=Rn(RA),_=Rn(MA,{optional:!0}),E=Rn(R2,{optional:!0}),S=Rn(I2,{optional:!0}),k=new Io(null,i,e,t,o,c,FT(h));return E&&(k.urlHandlingStrategy=E),S&&(k.routeReuseStrategy=S),k.titleStrategy=_??m,function F2(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(p,k),k}let Io=(()=>{class i{constructor(t,o,c,h,p,m,_){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=c,this.location=h,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke,this.errorHandler=x2,this.malformedUriErrorHandler=O2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ot(void 0),this.urlHandlingStrategy=new k2,this.routeReuseStrategy=new A2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=p.get(bE),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new mL(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new gL(F)),this.ngModule=p.get(Ug),this.console=p.get(R1);const k=p.get(yn);this.isNgZoneEnabled=k instanceof yn&&yn.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function VF(){return new $g(new pn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rA(this.currentUrlTree,this.rootComponentType),this.transitions=new yu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Xi(c=>0!==c.id),st(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),th(c=>{let h=!1,p=!1;return ot(c).pipe(Qi(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),th(m=>{const _=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return OA(m.source)&&(this.browserUrlTree=m.extractedUrl),ot(m).pipe(th(k=>{const F=this.transitions.getValue();return o.next(new rE(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),F!==this.transitions.getValue()?br:Promise.resolve(k)}),function h2(i,e,t,o){return th(c=>function c2(i,e,t,o,c){return new l2(i,e,t,o,c).apply()}(i,e,t,c.extractedUrl,o).pipe(st(h=>({...c,urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qi(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},c.urlAfterRedirects=k.urlAfterRedirects}),function b2(i,e,t,o,c,h){return Dt(p=>function p2(i,e,t,o,c,h,p="emptyOnly",m="legacy"){return new g2(i,e,t,o,c,p,m,h).recognize().pipe(th(_=>null===_?function f2(i){return new le(e=>e.error(i))}(new d2):ot(_)))}(i,e,t,p.urlAfterRedirects,o.serialize(p.urlAfterRedirects),o,c,h).pipe(st(m=>({...p,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Qi(k=>{if(c.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(V,k)}this.browserUrlTree=k.urlAfterRedirects}const F=new lL(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);o.next(F)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:V,source:$,restoredState:Y,extras:ae}=m,pe=new rE(F,this.serializeUrl(V),$,Y);o.next(pe);const Re=rA(V,this.rootComponentType).snapshot;return ot(c={...m,targetSnapshot:Re,urlAfterRedirects:V,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),br}),Qi(m=>{const _=new hL(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),st(m=>c={...m,guards:PL(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function GL(i,e){return Dt(t=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:p}}=t;return 0===p.length&&0===h.length?ot({...t,guardsResult:!0}):function WL(i,e,t,o){return pt(i).pipe(Dt(c=>function JL(i,e,t,o,c){const h=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return h&&0!==h.length?ot(h.map(m=>{const _=Cb(m,e,c);return Ed(function qL(i){return i&&Wy(i.canDeactivate)}(_)?_.canDeactivate(i,e,t,o):_(i,e,t,o)).pipe(mp())})).pipe(kv()):ot(!0)}(c.component,c.route,t,e,o)),mp(c=>!0!==c,!0))}(p,o,c,i).pipe(Dt(m=>m&&function VL(i){return"boolean"==typeof i}(m)?function KL(i,e,t,o){return pt(e).pipe(vp(c=>ub(function XL(i,e){return null!==i&&e&&e(new vL(i)),ot(!0)}(c.route.parent,o),function YL(i,e){return null!==i&&e&&e(new _L(i)),ot(!0)}(c.route,o),function ZL(i,e,t){const o=e[e.length-1],h=e.slice(0,e.length-1).reverse().map(p=>function FL(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(p)).filter(p=>null!==p).map(p=>cb(()=>ot(p.guards.map(_=>{const E=Cb(_,p.node,t);return Ed(function HL(i){return i&&Wy(i.canActivateChild)}(E)?E.canActivateChild(o,i):E(o,i)).pipe(mp())})).pipe(kv())));return ot(h).pipe(kv())}(i,c.path,t),function QL(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return ot(!0);const c=o.map(h=>cb(()=>{const p=Cb(h,e,t);return Ed(function UL(i){return i&&Wy(i.canActivate)}(p)?p.canActivate(e,i):p(e,i)).pipe(mp())}));return ot(c).pipe(kv())}(i,c.route,t))),mp(c=>!0!==c,!0))}(o,h,i,e):ot(m)),st(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),Qi(m=>{if(c.guardsResult=m.guardsResult,Wg(m.guardsResult))throw aA(0,m.guardsResult);const _=new dL(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),Xi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),vE(m=>{if(m.guards.canActivateChecks.length)return ot(m).pipe(Qi(_=>{const E=new fL(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),th(_=>{let E=!1;return ot(_).pipe(function w2(i,e){return Dt(t=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=t;if(!c.length)return ot(t);let h=0;return pt(c).pipe(vp(p=>function E2(i,e,t,o){const c=i.routeConfig,h=i._resolve;return void 0!==c?.title&&!AA(c)&&(h[mE]=c.title),function C2(i,e,t,o){const c=function D2(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===c.length)return ot({});const h={};return pt(c).pipe(Dt(p=>function S2(i,e,t,o){const c=Cb(i,e,o);return Ed(c.resolve?c.resolve(e,t):c(e,t))}(i[p],e,t,o).pipe(mp(),Qi(m=>{h[p]=m}))),Y0(1),function PF(i){return st(()=>i)}(h),wd(p=>fE(p)?br:Sv(p)))}(h,i,e,o).pipe(st(p=>(i._resolvedData=p,i.data=iA(i,t).resolve,c&&AA(c)&&(i.data[mE]=c.title),null)))}(p.route,o,i,e)),Qi(()=>h++),Y0(1),Dt(p=>h===c.length?ot(t):br))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qi({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),Qi(_=>{const E=new pL(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),vE(m=>{const _=E=>{const S=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(E.routeConfig).pipe(Qi(k=>{E.component=k}),st(()=>{})));for(const k of E.children)S.push(..._(k));return S};return W0(_(m.targetSnapshot.root)).pipe(hb(),Es(1))}),vE(()=>this.afterPreactivation()),st(m=>{const _=function DL(i,e,t){const o=qy(i,e._root,t?t._root:void 0);return new nA(o,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return c={...m,targetRouterState:_}}),Qi(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,e,t)=>st(o=>(new NL(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),Qi({next(){h=!0},complete(){h=!0}}),db(()=>{h||p||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),wd(m=>{if(p=!0,lA(m)){cA(m)||(this.navigated=!0,this.restoreHistory(c,!0));const _=new _b(c.id,this.serializeUrl(c.extractedUrl),m.message,m.cancellationCode);if(o.next(_),cA(m)){const E=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OA(c.source)};this.scheduleNavigation(E,"imperative",null,S,{resolve:c.resolve,reject:c.reject,promise:c.promise})}else c.resolve(!1)}else{this.restoreHistory(c,!0);const _=new JT(c.id,this.serializeUrl(c.extractedUrl),m,c.targetSnapshot??void 0);o.next(_);try{c.resolve(this.errorHandler(m))}catch(E){c.reject(E)}}return br}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{const c={replaceUrl:!0},h=t.state?.navigationId?t.state:null;if(h){const m={...h};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,o,h,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(dE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:c,queryParams:h,fragment:p,queryParamsHandling:m,preserveFragment:_}=o,E=c||this.routerState.root,S=_?this.currentUrlTree.fragment:p;let k=null;switch(m){case"merge":k={...this.currentUrlTree.queryParams,...h};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=h||null}return null!==k&&(k=this.removeEmptyProps(k)),iL(E,this.currentUrlTree,t,k,S??null)}navigateByUrl(t,o={skipLocationChange:!1}){const c=Wg(t)?t:this.parseUrl(t),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function L2(i){for(let e=0;e<i.length;e++){if(null==i[e])throw new Ce(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,t)}return o}isActive(t,o){let c;if(c=!0===o?{...N2}:!1===o?{...P2}:o,Wg(t))return VT(this.currentUrlTree,t,c);const h=this.parseUrl(t);return VT(this.currentUrlTree,h,c)}removeEmptyProps(t){return Object.keys(t).reduce((o,c)=>{const h=t[c];return null!=h&&(o[c]=h),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Kg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,c,h,p){if(this.disposed)return Promise.resolve(!1);let m,_,E;p?(m=p.resolve,_=p.reject,E=p.promise):E=new Promise((F,V)=>{m=F,_=V});const S=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),k=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:S,targetPageId:k,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:h,resolve:m,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(F=>Promise.reject(F))}setBrowserUrl(t,o){const c=this.urlSerializer.serialize(t),h={...o.extras.state,...this.generateNgRouterState(o.id,o.targetPageId)};this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===c?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o,c){const h=new _b(t.id,this.serializeUrl(t.extractedUrl),o,c);this.triggerEvent(h),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){op()},i.\u0275prov=xe({token:i,factory:function(){return xA()},providedIn:"root"}),i})();function OA(i){return"imperative"!==i}class NA{}let PA=(()=>{class i{constructor(t,o,c,h,p){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(t=>t instanceof Kg),vp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const c=[];for(const h of o){h.providers&&!h._injector&&(h._injector=N_(h.providers,t,`Route: ${h.path}`));const p=h._injector??t,m=h._loadedInjector??p;h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent?c.push(this.preloadConfig(p,h)):(h.children||h._loadedRoutes)&&c.push(this.processRoutes(m,h.children??h._loadedRoutes))}return pt(c).pipe(Bi())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let c;c=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):ot(null);const h=c.pipe(Dt(p=>null===p?ot(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));return o.loadComponent&&!o._loadedComponent?pt([h,this.loader.loadComponent(o)]).pipe(Bi()):h})}}return i.\u0275fac=function(t){return new(t||i)(oe(Io),oe(c0),oe(la),oe(NA),oe(bE))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const FA=new Le("");let j2=(()=>{class i{constructor(t,o,c={}){this.router=t,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new eA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){op()},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const LA=new Le("ROUTER_FORROOT_GUARD"),BA=new Le(""),U2=[Oy,{provide:qT,useClass:Q0},{provide:Io,useFactory:xA},zy,{provide:Rv,useFactory:function H2(i){return i.routerState.root},deps:[Io]},bE];function q2(){return new bI("Router",Io)}let VA=(()=>{class i{constructor(t){}static forRoot(t,o){return{ngModule:i,providers:[U2,[],jA(t),{provide:LA,useFactory:W2,deps:[[Io,new as,new pr]]},{provide:yE,useValue:o||{}},o?.useHash?{provide:zg,useClass:_N}:{provide:zg,useClass:zI},{provide:FA,useFactory:()=>{const i=Rn(Io),e=Rn(jP),t=Rn(yE);return t.scrollOffset&&e.setOffset(t.scrollOffset),new j2(i,e,t)}},o?.preloadingStrategy?eB(o.preloadingStrategy):[],{provide:bI,multi:!0,useFactory:q2},o?.initialNavigation?Y2(o):[],[{provide:UA,useFactory:K2},{provide:fI,multi:!0,useExisting:UA}]]}}static forChild(t){return{ngModule:i,providers:[jA(t)]}}}return i.\u0275fac=function(t){return new(t||i)(oe(LA,8))},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({}),i})();function W2(i){return"guarded"}function jA(i){return[{provide:_E,multi:!0,useValue:i}]}function K2(){const i=Rn(qn);return e=>{const t=i.get(Cv);if(e!==t.components[0])return;const o=i.get(Io),c=i.get(HA);1===i.get(CE)&&o.initialNavigation(),i.get(BA,null,Je.Optional)?.setUpPreloading(),i.get(FA,null,Je.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),c.next(),c.complete()}}const UA=new Le("");function Y2(i){return["disabled"===i.initialNavigation?[{provide:B_,multi:!0,useFactory:()=>{const i=Rn(Io);return()=>{i.setUpLocationChangeListener()}}},{provide:CE,useValue:2}]:[],"enabledBlocking"===i.initialNavigation?[{provide:CE,useValue:0},{provide:B_,multi:!0,deps:[qn],useFactory:i=>{const e=i.get(vN,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(c=>{const h=i.get(Io),p=i.get(HA);(function o(c){i.get(Io).events.pipe(Xi(p=>p instanceof Kg||p instanceof _b||p instanceof JT),st(p=>p instanceof Kg||p instanceof _b&&(0===p.code||1===p.code)&&null),Xi(p=>null!==p),Es(1)).subscribe(()=>{c()})})(()=>{c(!0),t=!0}),h.afterPreactivation=()=>(c(!0),t||p.closed?ot(void 0):p),h.initialNavigation()}))}}]:[]]}const HA=new Le("",{factory:()=>new ke}),CE=new Le("",{providedIn:"root",factory:()=>1});function eB(i){return[PA,{provide:BA,useExisting:PA},{provide:NA,useExisting:i}]}const va=zt(867);class ya{static init(e){return va.default.initializeApp(e),[]}static getFirestore(){return va.default.firestore()}static _getFirestore(){return va.default.firestore}static getAuth(){return va.default.auth()}static getStorage(){return va.default.storage()}static getFirestoreTimestamp(){return va.default.firestore.Timestamp.now()}}zt(315);class Yy{constructor(){this.auth=ya.getAuth()}createAccountWith(e){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}signInAnonymously(e){return new Promise((t,o)=>{this.auth.signInAnonymously().then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}signInWith(e){return new Promise((t,o)=>{e.provider?this.auth.signInWithPopup(this.getProvider(e.provider)).then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)}):this.auth.signInWithEmailAndPassword(e.email,e.password).then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}getProvider(e){switch(e.toLowerCase()){case"google":return new va.default.auth.GoogleAuthProvider;case"apple":return new va.default.auth.OAuthProvider("apple.com");case"facebook":return new va.default.auth.FacebookAuthProvider;case"yahoo":return new va.default.auth.OAuthProvider("yahoo.com");case"github":return new va.default.auth.GithubAuthProvider;case"twitter":return new va.default.auth.TwitterAuthProvider;case"microsoft":return new va.default.auth.OAuthProvider("microsoft.com")}}signOut(e){return new Promise((t,o)=>{e?this.auth.signOut().then(()=>{try{e.onComplete()}catch{}t()}).catch(()=>{try{e.onFail()}catch{}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(e){this.auth.onAuthStateChanged(t=>{e(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(e){console.error(`${e} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(e){e.onComplete?this.auth.sendPasswordResetEmail(e.email).then(()=>e.onComplete(`Instructions to reset password was sent to ${e.email}.`)).catch(()=>e.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(e.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(e){console.error(`User must be signed in to use the isEmailVerified() function. \n${e}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(e){let t=this.getAuth().currentUser;try{e.whenChanged(t)}catch{}if(this.isSignedIn()){try{e.whenSignedIn(t)}catch{}if(this.isEmailVerified())try{e.whenSignedInAndEmailVerified(t)}catch{}else try{e.whenSignedInAndEmailNotVerified(t)}catch{}}else try{e.whenSignedOut(t)}catch{}}}let DE;try{DE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{DE=!1}let Xy,Yg,IE,Lc=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function VP(i){return i===sT}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(oe(u0))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function SE(i){return function tB(){if(null==Xy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xy=!0}))}finally{Xy=Xy||!1}return Xy}()?i:!!i.capture}function nB(){if(null==Yg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Yg=!1,Yg;if("scrollBehavior"in document.documentElement.style)Yg=!0;else{const i=Element.prototype.scrollTo;Yg=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Yg}function TE(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Xg(i){return i.composedPath?i.composedPath()[0]:i.target}function AE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function RE(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function zA(i){return Xi((e,t)=>i<=t)}function hB(i,e){return i===e}function kE(i){return ht((e,t)=>{gn(i).subscribe(Ze(t,()=>t.complete(),Me)),!t.closed&&e.subscribe(t)})}function xE(i){return null!=i&&"false"!=`${i}`}function xb(i){return Array.isArray(i)?i:[i]}function Li(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ov(i){return i instanceof Ir?i.nativeElement:i}let fB=(()=>{class i{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({providers:[fB]}),i})();class gB extends Vt{constructor(e,t){super()}schedule(e,t=0){return this}}const Ob={setInterval(i,e,...t){const{delegate:o}=Ob;return o?.setInterval?o.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){const{delegate:e}=Ob;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};class OE extends gB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,o=0){return Ob.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;Ob.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let c,o=!1;try{this.work(e)}catch(h){o=!0,c=h||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,nt(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const $A={now:()=>($A.delegate||Date).now(),delegate:void 0};class Qy{constructor(e,t=Qy.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}Qy.now=$A.now;class NE extends Qy{constructor(e,t=Qy.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const PE=new NE(OE),mB=PE,GA=new Set;let Nv,yB=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function _B(i){if(!GA.has(i))try{Nv||(Nv=document.createElement("style"),Nv.setAttribute("type","text/css"),document.head.appendChild(Nv)),Nv.sheet&&(Nv.sheet.insertRule(`@media ${i} {body{ }}`,0),GA.add(i))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(oe(Lc))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function bB(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let WA=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return KA(xb(t)).some(c=>this._registerQuery(c).mql.matches)}observe(t){let h=W0(KA(xb(t)).map(p=>this._registerQuery(p).observable));return h=ub(h.pipe(Es(1)),h.pipe(zA(1),function vB(i,e=PE){return ht((t,o)=>{let c=null,h=null,p=null;const m=()=>{if(c){c.unsubscribe(),c=null;const E=h;h=null,o.next(E)}};function _(){const E=p+i,S=e.now();if(S<E)return c=this.schedule(void 0,E-S),void o.add(c);m()}t.subscribe(Ze(o,E=>{h=E,p=e.now(),c||(c=e.schedule(_,i),o.add(c))},()=>{m(),o.complete()},void 0,()=>{h=c=null}))})}(0))),h.pipe(st(p=>{const m={matches:!1,breakpoints:{}};return p.forEach(({matches:_,query:E})=>{m.matches=m.matches||_,m.breakpoints[E]=_}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),h={observable:new le(p=>{const m=_=>this._zone.run(()=>p.next(_));return o.addListener(m),()=>{o.removeListener(m)}}).pipe(lb(o),st(({matches:p})=>({query:t,matches:p})),kE(this._destroySubject)),mql:o};return this._queries.set(t,h),h}}return i.\u0275fac=function(t){return new(t||i)(oe(yB),oe(yn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function KA(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Pv_Medium="(min-width: 960px) and (max-width: 1279.98px)",Pv_Large="(min-width: 1280px) and (max-width: 1919.98px)";let Zy=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function DB(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function CB(i){try{return i.frameElement}catch{return null}}(function xB(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===ZA(o)||!this.isVisible(o)))return!1;let c=t.nodeName.toLowerCase(),h=ZA(t);return t.hasAttribute("contenteditable")?-1!==h:!("iframe"===c||"object"===c||this._platform.WEBKIT&&this._platform.IOS&&!function RB(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===c?!!t.hasAttribute("controls")&&-1!==h:"video"===c?-1!==h&&(null!==h||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function kB(i){return!function IB(i){return function AB(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function SB(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function TB(i){return function MB(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||QA(i))}(t)&&!this.isDisabled(t)&&(o?.ignoreVisibility||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(oe(Lc))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function QA(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ZA(i){if(!QA(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class OB{constructor(e,t,o,c,h=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=c,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,h||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return o?.focus(e),!!o}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=0;o<t.length;o++){const c=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(c)return c}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=t.length-1;o>=0;o--){const c=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(c)return c}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Es(1)).subscribe(e)}}let Nb=(()=>{class i{constructor(t,o,c){this._checker=t,this._ngZone=o,this._document=c}create(t,o=!1){return new OB(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(oe(Zy),oe(yn),oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function JA(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function eM(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const NB=new Le("cdk-input-modality-detector-options"),PB={ignoreKeys:[18,17,224,91,16]},Fv=SE({passive:!0,capture:!0});let FB=(()=>{class i{constructor(t,o,c,h){this._platform=t,this._mostRecentTarget=null,this._modality=new yu(null),this._lastTouchMs=0,this._onKeydown=p=>{this._options?.ignoreKeys?.some(m=>m===p.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xg(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(JA(p)?"keyboard":"mouse"),this._mostRecentTarget=Xg(p))},this._onTouchstart=p=>{eM(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xg(p))},this._options={...PB,...h},this.modalityDetected=this._modality.pipe(zA(1)),this.modalityChanged=this.modalityDetected.pipe(function lB(i,e=ve){return i=i??hB,ht((t,o)=>{let c,h=!0;t.subscribe(Ze(o,p=>{const m=e(p);(h||!i(c,m))&&(h=!1,c=m,o.next(p))}))})}()),t.isBrowser&&o.runOutsideAngular(()=>{c.addEventListener("keydown",this._onKeydown,Fv),c.addEventListener("mousedown",this._onMousedown,Fv),c.addEventListener("touchstart",this._onTouchstart,Fv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fv),document.removeEventListener("mousedown",this._onMousedown,Fv),document.removeEventListener("touchstart",this._onTouchstart,Fv))}}return i.\u0275fac=function(t){return new(t||i)(oe(Lc),oe(yn),oe(rn),oe(NB,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const BB=new Le("cdk-focus-monitor-default-options"),Pb=SE({passive:!0,capture:!0});let Jy=(()=>{class i{constructor(t,o,c,h,p){this._ngZone=t,this._platform=o,this._inputModalityDetector=c,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=m=>{for(let E=Xg(m);E;E=E.parentElement)"focus"===m.type?this._onFocus(m,E):this._onBlur(m,E)},this._document=h,this._detectionMode=p?.detectionMode||0}monitor(t,o=!1){const c=Ov(t);if(!this._platform.isBrowser||1!==c.nodeType)return ot(null);const h=function iB(i){if(function rB(){if(null==IE){const i=typeof document<"u"?document.head:null;IE=!(!i||!i.createShadowRoot&&!i.attachShadow)}return IE}()){const e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(c)||this._getDocument(),p=this._elementInfo.get(c);if(p)return o&&(p.checkChildren=!0),p.subject;const m={checkChildren:o,subject:new ke,rootNode:h};return this._elementInfo.set(c,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const o=Ov(t),c=this._elementInfo.get(o);c&&(c.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(c))}focusVia(t,o,c){const h=Ov(t);h===this._getDocument().activeElement?this._getClosestElementsInfo(h).forEach(([m,_])=>this._originChanged(m,o,_)):(this._setOrigin(o),"function"==typeof h.focus&&h.focus(c))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const c=this._elementInfo.get(o),h=Xg(t);!c||!c.checkChildren&&o!==h||this._originChanged(o,this._getFocusOrigin(h),c)}_onBlur(t,o){const c=this._elementInfo.get(o);!c||c.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(c,null))}_emitOrigin(t,o){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,c=this._rootNodeFocusListenerCount.get(o)||0;c||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pb),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pb)}),this._rootNodeFocusListenerCount.set(o,c+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kE(this._stopInputModalityDetector)).subscribe(h=>{this._setOrigin(h,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const c=this._rootNodeFocusListenerCount.get(o);c>1?this._rootNodeFocusListenerCount.set(o,c-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pb),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pb),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,c){this._setClasses(t,o),this._emitOrigin(c,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((c,h)=>{(h===t||c.checkChildren&&h.contains(t))&&o.push([h,c])}),o}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:o,mostRecentModality:c}=this._inputModalityDetector;if("mouse"!==c||!o||o===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const h=t.labels;if(h)for(let p=0;p<h.length;p++)if(h[p].contains(o))return!0;return!1}}return i.\u0275fac=function(t){return new(t||i)(oe(yn),oe(Lc),oe(FB),oe(rn,8),oe(BB,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const nM="cdk-high-contrast-black-on-white",rM="cdk-high-contrast-white-on-black",FE="cdk-high-contrast-active";let iM=(()=>{class i{constructor(t,o){this._platform=t,this._document=o,this._breakpointSubscription=Rn(WA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(t):null,h=(c&&c.backgroundColor||"").replace(/ /g,"");switch(t.remove(),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(FE,nM,rM),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?t.add(FE,nM):2===o&&t.add(FE,rM)}}}return i.\u0275fac=function(t){return new(t||i)(oe(Lc),oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),VB=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(oe(iM))},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[pB]}),i})();const jB=new Le("cdk-dir-doc",{providedIn:"root",factory:function UB(){return Rn(rn)}}),HB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let LE=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new Ki,t){const c=t.documentElement?t.documentElement.dir:null;this.value=function qB(i){const e=i?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?HB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||c||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(oe(jB,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),e_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({}),i})(),aM=(()=>{class i{}return i.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",i.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",i.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",i.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",i})(),uM=(()=>{class i{}return i.COMPLEX="375ms",i.ENTERING="225ms",i.EXITING="195ms",i})();const $B=new Le("mat-sanity-checks",{providedIn:"root",factory:function zB(){return!0}});let bu=(()=>{class i{constructor(t,o,c){this._sanityChecks=o,this._document=c,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!AE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(oe(iM),oe($B,8),oe(rn))},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[e_,e_]}),i})();function GB(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=xE(e)}}}function cM(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function WB(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=xE(e)}}}class YB{constructor(e,t,o,c=!1){this._renderer=e,this.element=t,this.config=o,this._animationForciblyDisabledThroughCss=c,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lM={enterDuration:225,exitDuration:150},BE=SE({passive:!0}),hM=["mousedown","touchstart"],dM=["mouseup","mouseleave","touchend","touchcancel"];class QB{constructor(e,t,o,c){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Ov(o))}fadeInRipple(e,t,o={}){const c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h={...lM,...o.animation};o.centered&&(e=c.left+c.width/2,t=c.top+c.height/2);const p=o.radius||function ZB(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),c=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+c*c)}(e,t,c),m=e-c.left,_=t-c.top,E=h.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-p+"px",S.style.top=_-p+"px",S.style.height=2*p+"px",S.style.width=2*p+"px",null!=o.color&&(S.style.backgroundColor=o.color),S.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(S);const k=window.getComputedStyle(S),V=k.transitionDuration,$="none"===k.transitionProperty||"0s"===V||"0s, 0s"===V,Y=new YB(this,S,o,$);S.style.transform="scale3d(1, 1, 1)",Y.state=0,o.persistent||(this._mostRecentTransientRipple=Y);let ae=null;return!$&&(E||h.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const pe=()=>this._finishRippleTransition(Y),Re=()=>this._destroyRipple(Y);S.addEventListener("transitionend",pe),S.addEventListener("transitioncancel",Re),ae={onTransitionEnd:pe,onTransitionCancel:Re}}),this._activeRipples.set(Y,ae),($||!E)&&this._finishRippleTransition(Y),Y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,o={...lM,...e.config.animation};t.style.transitionDuration=`${o.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ov(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(hM))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dM),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:o}=e.config;e.state=1,!o&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=JA(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!eM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,BE)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(hM.forEach(e=>{this._triggerElement.removeEventListener(e,this,BE)}),this._pointerUpEventsRegistered&&dM.forEach(e=>{this._triggerElement.removeEventListener(e,this,BE)}))}}const JB=new Le("mat-ripple-global-options");let fM=(()=>{class i{constructor(t,o,c,h,p){this._elementRef=t,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new QB(this,o,t,c)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,c){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,{...this.rippleConfig,...c}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(yn),fe(Lc),fe(JB,8),fe(Hg,8))},i.\u0275dir=wt({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&dp("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),eV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[bu,bu]}),i})();const tV=["mat-button",""],nV=["*"],iV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],oV=cM(GB(WB(class{constructor(i){this._elementRef=i}})));let Qg=(()=>{class i extends oV{constructor(t,o,c){super(t),this._focusMonitor=o,this._animationMode=c,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const h of iV)this._hasHostAttributes(h)&&this._getHostElement().classList.add(h);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(Jy),fe(Hg,8))},i.\u0275cmp=be({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&e0(fM,5),2&t){let c;Ty(c=Ay())&&(o.ripple=c.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(cp("disabled",o.disabled||null),dp("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[md],attrs:tV,ngContentSelectors:nV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(yy(),Ot(0,"span",0),hp(1),qt(),_s(2,"span",1)(3,"span",2)),2&t&&(ir(2),dp("mat-button-ripple-round",o.isRoundButton||o.isIconButton),Do("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},dependencies:[fM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),sV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[eV,bu,bu]}),i})(),aV=(()=>{class i{constructor(t){this.router=t,this.auth=new Yy}ngOnInit(){this.auth.isSignedIn()&&!this.auth.getAuth().currentUser.emailVerified?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}}return i.\u0275fac=function(t){return new(t||i)(fe(Io))},i.\u0275cmp=be({type:i,selectors:[["app-email-verification"]],decls:5,vars:0,consts:[["id","email-verification"],["mat-flat-button","",3,"click"]],template:function(t,o){1&t&&(Ot(0,"div",0)(1,"h1"),jn(2,"Your Email is Not Verified"),qt(),Ot(3,"button",1),Ni("click",function(){return o.onResendClick()}),jn(4,"Resend Verification Email"),qt()())},dependencies:[Qg],styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:8em}"]}),i})();const uV=["addListener","removeListener"],cV=["addEventListener","removeEventListener"],lV=["on","off"];function VE(i,e,t,o){if(me(t)&&(o=t,t=void 0),o)return VE(i,e,t).pipe(G0(o));const[c,h]=function fV(i){return me(i.addEventListener)&&me(i.removeEventListener)}(i)?cV.map(p=>m=>i[p](e,m,t)):function hV(i){return me(i.addListener)&&me(i.removeListener)}(i)?uV.map(pM(i,e)):function dV(i){return me(i.on)&&me(i.off)}(i)?lV.map(pM(i,e)):[];if(!c&&Ho(i))return Dt(p=>VE(p,e,t))(gn(i));if(!c)throw new TypeError("Invalid event target");return new le(p=>{const m=(..._)=>p.next(1<_.length?_:_[0]);return c(m),()=>h(m)})}function pM(i,e){return t=>o=>i[t](e,o)}const n_={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=n_;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const c=e(h=>{t=void 0,i(h)});return new Vt(()=>t?.(c))},requestAnimationFrame(...i){const{delegate:e}=n_;return(e?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=n_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};new class gV extends NE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let c;e=e||o.shift();do{if(c=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,c){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw c}}}(class pV extends OE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=n_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);e.actions.some(c=>c.id===t)||(n_.cancelAnimationFrame(t),e._scheduled=void 0)}});let jE,vV=1;const Fb={};function gM(i){return i in Fb&&(delete Fb[i],!0)}const yV={setImmediate(i){const e=vV++;return Fb[e]=!0,jE||(jE=Promise.resolve()),jE.then(()=>gM(e)&&i()),e},clearImmediate(i){gM(i)}},{setImmediate:_V,clearImmediate:bV}=yV,Lb={setImmediate(...i){const{delegate:e}=Lb;return(e?.setImmediate||_V)(...i)},clearImmediate(i){const{delegate:e}=Lb;return(e?.clearImmediate||bV)(i)},delegate:void 0};new class EV extends NE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let c;e=e||o.shift();do{if(c=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,c){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw c}}}(class wV extends OE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=Lb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);e.actions.some(c=>c.id===t)||(Lb.clearImmediate(t),e._scheduled=void 0)}});function mM(i,e=PE){return function DV(i){return ht((e,t)=>{let o=!1,c=null,h=null,p=!1;const m=()=>{if(h?.unsubscribe(),h=null,o){o=!1;const E=c;c=null,t.next(E)}p&&t.complete()},_=()=>{h=null,p&&t.complete()};e.subscribe(Ze(t,E=>{o=!0,c=E,h||gn(i(E)).subscribe(h=Ze(t,m,_))},()=>{p=!0,(!o||!h||h.closed)&&t.complete()}))})}(()=>function IV(i=0,e,t=mB){let o=-1;return null!=e&&(Pn(e)?t=e:o=e),new le(c=>{let h=function SV(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;h<0&&(h=0);let p=0;return t.schedule(function(){c.closed||(c.next(p++),0<=o?this.schedule(void 0,o):c.complete())},h)})}(i,e))}let AV=(()=>{class i{constructor(t,o,c){this._ngZone=t,this._platform=o,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new le(o=>{this._globalSubscription||this._addGlobalListener();const c=t>0?this._scrolled.pipe(mM(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const c=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Xi(h=>!h||c.indexOf(h)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((c,h)=>{this._scrollableContainsElement(h,t)&&o.push(h)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let c=Ov(o),h=t.getElementRef().nativeElement;do{if(c==h)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>VE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(oe(yn),oe(Lc),oe(rn,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vM=(()=>{class i{constructor(t,o,c){this._platform=t,this._change=new ke,this._changeListener=h=>{this._change.next(h)},this._document=c,o.runOutsideAngular(()=>{if(t.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:c}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+c,right:t.left+o,height:c,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),c=t.documentElement,h=c.getBoundingClientRect();return{top:-h.top||t.body.scrollTop||o.scrollY||c.scrollTop||0,left:-h.left||t.body.scrollLeft||o.scrollX||c.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(mM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(oe(Lc),oe(yn),oe(rn,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({}),i})(),_M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[e_,yM,e_,yM]}),i})();class UE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class HE extends UE{constructor(e,t,o,c){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=c}}class bM extends UE{constructor(e,t,o,c){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o,this.injector=c}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class RV extends UE{constructor(e){super(),this.element=e instanceof Ir?e.nativeElement:e}}class qE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof HE?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof bM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof RV?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kV extends qE{constructor(e,t,o,c,h){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=c,this.attachDomPortal=p=>{const m=p.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=p,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=h}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let c;return e.viewContainerRef?(c=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>c.destroy())):(c=o.create(e.injector||this._defaultInjector||qn.NULL),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=e,c}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return o.rootNodes.forEach(c=>this.outletElement.appendChild(c)),o.detectChanges(),this.setDisposeFn(()=>{let c=t.indexOf(o);-1!==c&&t.remove(c)}),this._attachedPortal=e,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Bb=(()=>{class i extends qE{constructor(t,o,c){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new Ki,this.attachDomPortal=h=>{const p=h.element,m=this._document.createComment("dom-portal");h.setAttachedHost(this),p.parentNode.insertBefore(m,p),this._getRootNode().appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(p,m)})},this._document=c}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,h=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),p=o.createComponent(h,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=t,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(fe(wo),fe(gu),fe(rn))},i.\u0275dir=wt({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[md]}),i})(),r_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({}),i})();const wM=nB();class xV{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Li(-this._previousScrollPosition.left),e.style.top=Li(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,c=this._document.body.style,h=o.scrollBehavior||"",p=c.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wM&&(o.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wM&&(o.scrollBehavior=h,c.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class OV{constructor(e,t,o,c){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EM{enable(){}disable(){}attach(){}}function zE(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function CM(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class NV{constructor(e,t,o,c){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=c,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:c}=this._viewportRuler.getViewportSize();zE(t,[{width:o,height:c,bottom:c,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let PV=(()=>{class i{constructor(t,o,c,h){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=c,this.noop=()=>new EM,this.close=p=>new OV(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new xV(this._viewportRuler,this._document),this.reposition=p=>new NV(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=h}}return i.\u0275fac=function(t){return new(t||i)(oe(AV),oe(vM),oe(yn),oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class DM{constructor(e){if(this.scrollStrategy=new EM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class FV{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let SM=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LV=(()=>{class i extends SM{constructor(t,o){super(t),this._ngZone=o,this._keydownListener=c=>{const h=this._attachedOverlays;for(let p=h.length-1;p>-1;p--)if(h[p]._keydownEvents.observers.length>0){const m=h[p]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(c)):m.next(c);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(oe(rn),oe(yn,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BV=(()=>{class i extends SM{constructor(t,o,c){super(t),this._platform=o,this._ngZone=c,this._cursorStyleIsSet=!1,this._pointerDownListener=h=>{this._pointerDownEventTarget=Xg(h)},this._clickListener=h=>{const p=Xg(h),m="click"===h.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const S=_[E];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(p)||S.overlayElement.contains(m))break;const k=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(h)):k.next(h)}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(t){return new(t||i)(oe(rn),oe(Lc),oe(yn,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Vb=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||AE()){const c=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let h=0;h<c.length;h++)c[h].remove()}const o=this._document.createElement("div");o.classList.add(t),AE()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(oe(rn),oe(Lc))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Lv{constructor(e,t,o,c,h,p,m,_,E,S=!1){this._portalOutlet=e,this._host=t,this._pane=o,this._config=c,this._ngZone=h,this._keyboardDispatcher=p,this._document=m,this._location=_,this._outsideClickDispatcher=E,this._animationsDisabled=S,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=Vt.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Es(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Li(this._config.width),e.height=Li(this._config.height),e.minWidth=Li(this._config.minWidth),e.minHeight=Li(this._config.minHeight),e.maxWidth=Li(this._config.maxWidth),e.maxHeight=Li(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,o){const c=xb(t||[]).filter(h=>!!h);c.length&&(o?e.classList.add(...c):e.classList.remove(...c))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(kE(ai(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const IM="cdk-overlay-connected-position-bounding-box",VV=/([A-Za-z%]+)$/;class jV{constructor(e,t,o,c,h){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=h,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=Vt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(IM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,c=this._containerRect,h=[];let p;for(let m of this._preferredPositions){let _=this._getOriginPoint(e,c,m),E=this._getOverlayPoint(_,t,m),S=this._getOverlayFit(E,t,o,m);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,_);this._canFitWithFlexibleDimensions(S,E,o)?h.push({position:m,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,m)}):(!p||p.overlayFit.visibleArea<S.visibleArea)&&(p={overlayFit:S,overlayPoint:E,originPoint:_,position:m,overlayRect:t})}if(h.length){let m=null,_=-1;for(const E of h){const S=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);S>_&&(_=S,m=E)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,o){let c,h;if("center"==o.originX)c=e.left+e.width/2;else{const p=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;c="start"==o.originX?p:m}return t.left<0&&(c-=t.left),h="center"==o.originY?e.top+e.height/2:"top"==o.originY?e.top:e.bottom,t.top<0&&(h-=t.top),{x:c,y:h}}_getOverlayPoint(e,t,o){let c,h;return c="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,h="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+c,y:e.y+h}}_getOverlayFit(e,t,o,c){const h=AM(t);let{x:p,y:m}=e,_=this._getOffset(c,"x"),E=this._getOffset(c,"y");_&&(p+=_),E&&(m+=E);let F=0-m,V=m+h.height-o.height,$=this._subtractOverflows(h.width,0-p,p+h.width-o.width),Y=this._subtractOverflows(h.height,F,V),ae=$*Y;return{visibleArea:ae,isCompletelyWithinViewport:h.width*h.height===ae,fitsInViewportVertically:Y===h.height,fitsInViewportHorizontally:$==h.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const c=o.bottom-t.y,h=o.right-t.x,p=TM(this._overlayRef.getConfig().minHeight),m=TM(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=m&&m<=h;return(e.fitsInViewportVertically||null!=p&&p<=c)&&E}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const c=AM(t),h=this._viewportRect,p=Math.max(e.x+c.width-h.width,0),m=Math.max(e.y+c.height-h.height,0),_=Math.max(h.top-o.top-e.y,0),E=Math.max(h.left-o.left-e.x,0);let S=0,k=0;return S=c.width<=h.width?E||-p:e.x<this._viewportMargin?h.left-o.left-e.x:0,k=c.height<=h.height?_||-m:e.y<this._viewportMargin?h.top-o.top-e.y:0,this._previousPushAmount={x:S,y:k},{x:e.x+S,y:e.y+k}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),c=new FV(e,o);this._positionChanges.next(c)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,c=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let h=0;h<t.length;h++)t[h].style.transformOrigin=`${o} ${c}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,c=this._isRtl();let h,p,m,S,k,F;if("top"===t.overlayY)p=e.y,h=o.height-p+this._viewportMargin;else if("bottom"===t.overlayY)m=o.height-e.y+2*this._viewportMargin,h=o.height-m+this._viewportMargin;else{const V=Math.min(o.bottom-e.y+o.top,e.y),$=this._lastBoundingBoxSize.height;h=2*V,p=e.y-V,h>$&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.y-$/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)F=o.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)k=e.x,S=o.right-e.x;else{const V=Math.min(o.right-e.x+o.left,e.x),$=this._lastBoundingBoxSize.width;S=2*V,k=e.x-V,S>$&&!this._isInitialRender&&!this._growAfterOpen&&(k=e.x-$/2)}return{top:p,left:k,bottom:m,right:F,width:S,height:h}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{const h=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;c.height=Li(o.height),c.top=Li(o.top),c.bottom=Li(o.bottom),c.width=Li(o.width),c.left=Li(o.left),c.right=Li(o.right),c.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",c.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",h&&(c.maxHeight=Li(h)),p&&(c.maxWidth=Li(p))}this._lastBoundingBoxSize=o,Zg(this._boundingBox.style,c)}_resetBoundingBoxStyles(){Zg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},c=this._hasExactPosition(),h=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(c){const S=this._viewportRuler.getViewportScrollPosition();Zg(o,this._getExactOverlayY(t,e,S)),Zg(o,this._getExactOverlayX(t,e,S))}else o.position="static";let m="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(m+=`translateX(${_}px) `),E&&(m+=`translateY(${E}px)`),o.transform=m.trim(),p.maxHeight&&(c?o.maxHeight=Li(p.maxHeight):h&&(o.maxHeight="")),p.maxWidth&&(c?o.maxWidth=Li(p.maxWidth):h&&(o.maxWidth="")),Zg(this._pane.style,o)}_getExactOverlayY(e,t,o){let c={top:"",bottom:""},h=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),"bottom"===e.overlayY?c.bottom=this._document.documentElement.clientHeight-(h.y+this._overlayRect.height)+"px":c.top=Li(h.y),c}_getExactOverlayX(e,t,o){let p,c={left:"",right:""},h=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),p=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===p?c.right=this._document.documentElement.clientWidth-(h.x+this._overlayRect.width)+"px":c.left=Li(h.x),c}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:CM(e,o),isOriginOutsideView:zE(e,o),isOverlayClipped:CM(t,o),isOverlayOutsideView:zE(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,c)=>o-Math.max(c,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&xb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ir)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function Zg(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function TM(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(VV);return t&&"px"!==t?null:parseFloat(e)}return i||null}function AM(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const MM="cdk-global-overlay-wrapper";class UV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:c,height:h,maxWidth:p,maxHeight:m}=o,_=!("100%"!==c&&"100vw"!==c||p&&"100%"!==p&&"100vw"!==p),E=!("100%"!==h&&"100vh"!==h||m&&"100%"!==m&&"100vh"!==m),S=this._xPosition,k=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let V="",$="",Y="";_?Y="flex-start":"center"===S?(Y="center",F?$=k:V=k):F?"left"===S||"end"===S?(Y="flex-end",V=k):("right"===S||"start"===S)&&(Y="flex-start",$=k):"left"===S||"start"===S?(Y="flex-start",V=k):("right"===S||"end"===S)&&(Y="flex-end",$=k),e.position=this._cssPosition,e.marginLeft=_?"0":V,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":$,t.justifyContent=Y,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(MM),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let HV=(()=>{class i{constructor(t,o,c,h){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=h}global(){return new UV}flexibleConnectedTo(t){return new jV(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(oe(vM),oe(rn),oe(Lc),oe(Vb))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qV=0,Jg=(()=>{class i{constructor(t,o,c,h,p,m,_,E,S,k,F,V){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=c,this._positionBuilder=h,this._keyboardDispatcher=p,this._injector=m,this._ngZone=_,this._document=E,this._directionality=S,this._location=k,this._outsideClickDispatcher=F,this._animationsModuleType=V}create(t){const o=this._createHostElement(),c=this._createPaneElement(o),h=this._createPortalOutlet(c),p=new DM(t);return p.direction=p.direction||this._directionality.value,new Lv(h,o,c,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+qV++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Cv)),new kV(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(oe(PV),oe(Vb),oe(wo),oe(HV),oe(LV),oe(qn),oe(yn),oe(rn),oe(LE),oe(Oy),oe(BV),oe(Hg,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const GV={provide:new Le("cdk-connected-overlay-scroll-strategy"),deps:[Jg],useFactory:function $V(i){return()=>i.scrollStrategies.reposition()}};let RM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({providers:[Jg,GV],imports:[e_,r_,_M,_M]}),i})();function WV(i,e){}class i_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let $E=(()=>{class i extends qE{constructor(t,o,c,h,p,m,_,E){super(),this._elementRef=t,this._focusTrapFactory=o,this._config=h,this._interactivityChecker=p,this._ngZone=m,this._overlayRef=_,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>{this._portalOutlet.hasAttached();const k=this._portalOutlet.attachDomPortal(S);return this._contentAttached(),k},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=c}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),o}attachTemplatePortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{t.removeEventListener("blur",c),t.removeEventListener("mousedown",c),t.removeAttribute("tabindex")};t.addEventListener("blur",c),t.addEventListener("mousedown",c)})),t.focus(o)}_focusByCssSelector(t,o){let c=this._elementRef.nativeElement.querySelector(t);c&&this._forceFocus(c,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let o=null;if("string"==typeof t?o=this._document.querySelector(t):"boolean"==typeof t?o=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(o=t),this._config.restoreFocus&&o&&"function"==typeof o.focus){const c=TE(),h=this._elementRef.nativeElement;(!c||c===this._document.body||c===h||h.contains(c))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=TE();return t===o||t.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=TE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(Nb),fe(rn,8),fe(i_),fe(Zy),fe(yn),fe(Lv),fe(Jy))},i.\u0275cmp=be({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(1&t&&e0(Bb,7),2&t){let c;Ty(c=Ay())&&(o._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){2&t&&cp("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[md],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&ma(0,WV,0,0,"ng-template",0)},dependencies:[Bb],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class GE{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new ke,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(o=>{27===o.keyCode&&!this.disableClose&&!RE(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),o.next(e),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const kM=new Le("DialogScrollStrategy"),KV=new Le("DialogData"),YV=new Le("DefaultDialogConfig"),QV={provide:kM,deps:[Jg],useFactory:function XV(i){return()=>i.scrollStrategies.block()}};let ZV=0,WE=(()=>{class i{constructor(t,o,c,h,p,m){this._overlay=t,this._injector=o,this._defaultOptions=c,this._parentDialog=h,this._overlayContainer=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this._ariaHiddenElements=new Map,this.afterAllClosed=cb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(lb(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,o){(o={...this._defaultOptions||new i_,...o}).id=o.id||"cdk-dialog-"+ZV++,o.id&&this.getDialogById(o.id);const h=this._getOverlayConfig(o),p=this._overlay.create(h),m=new GE(p,o),_=this._attachContainer(p,m,o);return m.containerInstance=_,this._attachDialogContent(t,m,_,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(m),m.closed.subscribe(()=>this._removeOpenDialog(m,!0)),this.afterOpened.next(m),m}closeAll(){KE(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){KE(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),KE(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const o=new DM({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachContainer(t,o,c){const h=c.injector??c.viewContainerRef?.injector,p=[{provide:i_,useValue:c},{provide:GE,useValue:o},{provide:Lv,useValue:t}];let m;c.container?"function"==typeof c.container?m=c.container:(m=c.container.type,p.push(...c.container.providers(c))):m=$E;const _=new HE(m,c.viewContainerRef,qn.create({parent:h||this._injector,providers:p}),c.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,o,c,h){const p=this._createInjector(h,o,c);if(t instanceof Jl){let m={$implicit:h.data,dialogRef:o};h.templateContext&&(m={...m,..."function"==typeof h.templateContext?h.templateContext():h.templateContext}),c.attachTemplatePortal(new bM(t,null,m,p))}else{const m=c.attachComponentPortal(new HE(t,h.viewContainerRef,p,h.componentFactoryResolver));o.componentInstance=m.instance}}_createInjector(t,o,c){const h=t&&t.viewContainerRef&&t.viewContainerRef.injector,p=[{provide:KV,useValue:t.data},{provide:GE,useValue:o}];return t.providers&&("function"==typeof t.providers?p.push(...t.providers(o,t,c)):p.push(...t.providers)),t.direction&&(!h||!h.get(LE,null,Je.Optional))&&p.push({provide:LE,useValue:{value:t.direction,change:ot()}}),qn.create({parent:t.injector||h||this._injector,providers:p})}_removeOpenDialog(t,o){const c=this.openDialogs.indexOf(t);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((h,p)=>{h?p.setAttribute("aria-hidden",h):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let c=o.length-1;c>-1;c--){const h=o[c];h!==t&&"SCRIPT"!==h.nodeName&&"STYLE"!==h.nodeName&&!h.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(t){return new(t||i)(oe(Jg),oe(qn),oe(YV,8),oe(i,12),oe(Vb),oe(kM))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();function KE(i,e){let t=i.length;for(;t--;)e(i[t])}let xM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({providers:[WE,QV],imports:[RM,r_,VB,r_]}),i})();class OM{}const Sd="*";function NM(i,e){return{type:7,name:i,definitions:e,options:{}}}function jb(i,e=null){return{type:4,styles:e,timings:i}}function Ub(i,e=null){return{type:3,steps:i,options:e}}function PM(i,e=null){return{type:2,steps:i,options:e}}function _p(i){return{type:6,styles:i,offset:null}}function Hb(i,e,t){return{type:0,name:i,styles:e,options:t}}function qb(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function zb(i=null){return{type:9,options:i}}function $b(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function FM(i){Promise.resolve(null).then(i)}class o_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class LM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,c=0;const h=this.players.length;0==h?FM(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++t==h&&this._onFinish()}),p.onDestroy(()=>{++o==h&&this._onDestroy()}),p.onStart(()=>{++c==h&&this._onStart()})}),this.totalTime=this.players.reduce((p,m)=>Math.max(p,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(c)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function ej(i,e){}const tj={bottomSheetState:NM("state",[Hb("void, hidden",_p({transform:"translateY(100%)"})),Hb("visible",_p({transform:"translateY(0%)"})),qb("visible => void, visible => hidden",Ub([jb(`${uM.COMPLEX} ${aM.ACCELERATION_CURVE}`),$b("@*",zb(),{optional:!0})])),qb("void => visible",Ub([jb(`${uM.EXITING} ${aM.DECELERATION_CURVE}`),$b("@*",zb(),{optional:!0})]))])};let nj=(()=>{class i extends $E{constructor(t,o,c,h,p,m,_,E,S,k){super(t,o,c,h,p,m,_,k),this._changeDetectorRef=S,this._animationState="void",this._animationStateChanged=new Ki,this._breakpointSubscription=E.observe([Pv_Medium,Pv_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",E.isMatched(Pv_Medium)),this._toggleClass("mat-bottom-sheet-container-large",E.isMatched(Pv_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",E.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(Nb),fe(rn,8),fe(i_),fe(Zy),fe(yn),fe(Lv),fe(WA),fe(ky),fe(Jy))},i.\u0275cmp=be({type:i,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(t,o){1&t&&T_("@state.start",function(h){return o._onAnimationStart(h)})("@state.done",function(h){return o._onAnimationDone(h)}),2&t&&(cp("role",o._config.role)("aria-modal",o._config.isModal)("aria-label",o._config.ariaLabel),M_("@state",o._animationState))},features:[md],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&ma(0,ej,0,0,"ng-template",0)},dependencies:[Bb],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[tj.bottomSheetState]}}),i})(),BM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[xM,bu,r_,bu]}),i})();const rj=new Le("MatBottomSheetData");class ij{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class XE{constructor(e,t,o){this._ref=e,this._afterOpened=new ke,this.containerInstance=o,this.disableClose=t.disableClose,o._animationStateChanged.pipe(Xi(c=>"done"===c.phaseName&&"visible"===c.toState),Es(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Xi(c=>"done"===c.phaseName&&"hidden"===c.toState),Es(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),ai(this.backdropClick(),this.keydownEvents().pipe(Xi(c=>27===c.keyCode))).subscribe(c=>{!this.disableClose&&("keydown"!==c.type||!RE(c))&&(c.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(e){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe(Xi(t=>"start"===t.phaseName),Es(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const oj=new Le("mat-bottom-sheet-default-options");let VM=(()=>{class i{constructor(t,o,c,h){this._overlay=t,this._parentBottomSheet=c,this._defaultOptions=h,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(WE)}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,o){const c={...this._defaultOptions||new ij,...o};let h;return this._dialog.open(t,{...c,disableClose:!0,maxWidth:"100%",container:nj,scrollStrategy:c.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:h}),providers:(p,m,_)=>(h=new XE(p,c,_),[{provide:XE,useValue:h},{provide:rj,useValue:c.data}])}),h.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===h&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>h.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):h.containerInstance.enter(),this._openedBottomSheetRef=h,h}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return i.\u0275fac=function(t){return new(t||i)(oe(Jg),oe(qn),oe(i,12),oe(oj,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:BM}),i})();const sj=["*",[["mat-card-footer"]]],aj=["*","mat-card-footer"],uj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],cj=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let lj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=wt({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),QE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=wt({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),hj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=wt({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),ZE=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=wt({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,o){2&t&&dp("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),dj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=wt({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),JE=(()=>{class i{constructor(t){this._animationMode=t}}return i.\u0275fac=function(t){return new(t||i)(fe(Hg,8))},i.\u0275cmp=be({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,o){2&t&&dp("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:aj,decls:2,vars:0,template:function(t,o){1&t&&(yy(sj),hp(0),hp(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),i})(),eC=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=be({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:cj,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,o){1&t&&(yy(uj),hp(0),Ot(1,"div",0),hp(2,1),qt(),hp(3,2))},encapsulation:2,changeDetection:0}),i})(),fj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[bu,bu]}),i})();function pj(i,e){if(1&i){const t=vd();Ot(0,"div"),_s(1,"input",5,6)(3,"input",7,8),Ot(5,"button",9),Ni("click",function(){xr(t);const c=pu(2),h=pu(4);return ko(lp().onLogin(c,h))}),jn(6,"Login"),qt()()}}function gj(i,e){if(1&i){const t=vd();Ot(0,"div"),_s(1,"input",5,10)(3,"input",7,11)(5,"input",12,13),Ot(7,"button",9),Ni("click",function(){xr(t);const c=pu(2),h=pu(4),p=pu(6);return ko(lp().onRegisterClick(c,h,p))}),jn(8,"Create"),qt()()}}function mj(i,e){if(1&i){const t=vd();Ot(0,"div"),_s(1,"input",5,14),Ot(3,"button",9),Ni("click",function(){xr(t);const c=pu(2);return ko(lp().onResetClick(c))}),jn(4,"Reset"),qt()()}}let jM=(()=>{class i{constructor(t){this.bottomSheetRef=t,this.state=_a.LOGIN,this.firebasetsAuth=new Yy}ngOnInit(){}onResetClick(t){let o=t.value;this.isNotEmpty(o)&&this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:c=>{this.bottomSheetRef.dismiss()}})}onLogin(t,o){let c=t.value,h=o.value;this.isNotEmpty(c)&&this.isNotEmpty(h)&&this.firebasetsAuth.signInWith({email:c,password:h,onComplete:p=>{this.bottomSheetRef.dismiss(),this.router.navigate(["postfeed"])},onFail:p=>{alert(p)}})}onRegisterClick(t,o,c){let h=t.value,p=o.value,m=c.value;this.isNotEmpty(h)&&this.isNotEmpty(p)&&this.isNotEmpty(m)&&this.isAMatch(p,m)&&this.firebasetsAuth.createAccountWith({email:h,password:p,onComplete:_=>{this.bottomSheetRef.dismiss()},onFail:_=>{alert("Failed to create the account.")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,o){return t==o}onForgotPasswordClick(){this.state=_a.FORGOT_PASSWORD}onCreateAccountClick(){this.state=_a.REGISTER}onLoginClick(){this.state=_a.LOGIN}isLoginState(){return this.state==_a.LOGIN}isRegisterState(){return this.state==_a.REGISTER}isForgotPasswordState(){return this.state==_a.FORGOT_PASSWORD}getStateText(){switch(this.state){case _a.LOGIN:return"Login";case _a.REGISTER:return"Register";case _a.FORGOT_PASSWORD:return"Forgot Password"}}}return i.\u0275fac=function(t){return new(t||i)(fe(XE))},i.\u0275cmp=be({type:i,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[["id","authenticator"],["id","authenticator-content"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["placeholder","Email"],["loginEmail",""],["placeholder","Password","type","password"],["loginPassword",""],["mat-flat-button","","color","warn",3,"click"],["registerEmail",""],["registerPassword",""],["placeholder","Confirm Password","type","password"],["registerConfirmPassword",""],["resetEmail",""]],template:function(t,o){1&t&&(Ot(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),jn(4),qt()(),ma(5,pj,7,0,"div",2),ma(6,gj,9,0,"div",2),ma(7,mj,5,0,"div",2),Ot(8,"mat-card-actions",3)(9,"button",4),Ni("click",function(){return o.onForgotPasswordClick()}),jn(10,"Forgot Password"),qt(),Ot(11,"button",4),Ni("click",function(){return o.onCreateAccountClick()}),jn(12,"Create an Account"),qt(),Ot(13,"button",4),Ni("click",function(){return o.onLoginClick()}),jn(14,"Login"),qt()()()()),2&t&&(ir(4),Vg(o.getStateText()),ir(1),Do("ngIf",o.isLoginState()),ir(1),Do("ngIf",o.isRegisterState()),ir(1),Do("ngIf",o.isForgotPasswordState()))},dependencies:[tb,Qg,JE,eC,QE,ZE],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(15,15,15,.3);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]}),i})();var _a=(()=>{return(i=_a||(_a={}))[i.LOGIN=0]="LOGIN",i[i.REGISTER=1]="REGISTER",i[i.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",_a;var i})();let UM=(()=>{class i{constructor(t){this.loginSheet=t}ngOnInit(){}onGetStartedClick(){this.loginSheet.open(jM)}}return i.\u0275fac=function(t){return new(t||i)(fe(VM))},i.\u0275cmp=be({type:i,selectors:[["app-home"]],decls:11,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-left-content"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(Ot(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),jn(5,"Social Media App Platform"),qt(),Ot(6,"p"),jn(7," Share your favorite stories! "),qt(),Ot(8,"button",4),Ni("click",function(){return o.onGetStartedClick()}),jn(9,"Get Started"),qt()()(),_s(10,"div"),qt()())},dependencies:[Qg],styles:["#home-page[_ngcontent-%COMP%]{width:100%;height:100%}#home-page-landing[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(home_background.dc90420a60d5610c.png);background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:800px}#landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}#landing-left-content[_ngcontent-%COMP%]{text-align:left;padding:1em 1em 1em 3em}#landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}#landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:2em;padding:.5em}"]}),i})();zt(361);class Bv{constructor(){this.listeners=new Map}appendArray(e){return ya._getFirestore().FieldValue.arrayUnion(e)}increment(e){return ya._getFirestore().FieldValue.increment(e)}genDocId(){return ya.getFirestore().collection("TEMP").doc().id}all(e){const t=ya.getFirestore().batch();for(let o of e.operations)o.getOperation(t);return new Promise((o,c)=>{t.commit().then(()=>{try{e.onComplete()}catch{}o()}).catch(h=>{try{e.onFail(h)}catch{}c(h)})})}create(e){return new Promise((t,o)=>{if(null==e.data||null==e.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(e.path)){let c=this.genCollectionReference(e.path).doc();c.set(e.data).then(()=>{try{e.onComplete(c.id)}catch{}t(c.id)}).catch(h=>{try{e.onFail(h)}catch{}o(h)})}else if(this.isDocumentPath(e.path)){let c=this.genDocumentReference(e.path);c.set(e.data).then(()=>{try{e.onComplete(c.id)}catch{}t(c.id)}).catch(h=>{try{e.onFail(h)}catch{}o(h)})}})}delete(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path),this.genDocumentReference(e.path).delete().then(()=>{try{e.onComplete()}catch{}t()}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}update(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path);const c=this.genDocumentReference(e.path);c.update(e.data).then(()=>{try{e.onComplete(c)}catch{}t(c)}).catch(h=>{try{e.onFail(h)}catch{}o(h)})})}getCollection(e){let t=this.genCollectionReference(e.path);return new Promise((null!=e.where||null!=e.where)&&e.where.length>0?(o,c)=>{let h;const p=Array(e.where)[0];for(let m=0;m<p.length;m++)h=null==h?p[m].getQuery(t):p[m].concatQuery(h);h.get().then(m=>{try{e.onComplete(m)}catch{}o(m)}).catch(m=>{try{e.onFail(m)}catch{}c(m)})}:(o,c)=>{t.get().then(h=>{try{e.onComplete(h)}catch{}o(h)}).catch(h=>{try{e.onFail(h)}catch{}c(h)})})}getDocument(e){return new Promise((t,o)=>{this.genDocumentReference(e.path).get().then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}listenToDocument(e){this.validateListenerName(e.name),this.addListener(e.name,this.genDocumentReference(e.path).onSnapshot(t=>{try{e.onUpdate(t)}catch{}}))}listenToCollection(e){this.validateListenerName(e.name);let t=this.genCollectionReference(e.path);if((null!=e.where||null!=e.where)&&e.where.length>0){let o;const c=Array(e.where)[0];for(let h=0;h<c.length;h++)o=null==o?c[h].getQuery(t):c[h].concatQuery(o);this.addListener(e.name,o.onSnapshot(h=>{try{e.onUpdate(h)}catch{}}))}else this.addListener(e.name,t.onSnapshot(o=>{try{e.onUpdate(o)}catch{}}))}genCollectionReference(e){this.checkCollectionPathValidity(e);const t=Array(e)[0];let o,c;for(let h=0;h<t.length;h++)h%2==0?o=null==o?ya.getFirestore().collection(t[h]):c.collection(t[h]):c=o.doc(t[h]);return o}genDocumentReference(e){this.checkDocumentPathValidity(e);const t=Array(e)[0];let o,c;for(let h=0;h<t.length;h++)h%2==0?o=null==o?ya.getFirestore().collection(t[h]):c.collection(t[h]):c=o.doc(t[h]);return c}addListener(e,t){return this.listeners.set(e,t),t}stopListeningTo(e){try{this.listeners.get(e)(),this.listeners.delete(e)}catch{}}stopListeningToAll(){this.listeners.forEach((e,t,o)=>{this.stopListeningTo(t)})}validateListenerName(e){if(null==e||null==e||"string"!=typeof e||e.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(e))throw`Listener name: ${e} is already taken.`}checkCollectionPathValidity(e){if(null==e||null==e||e.length<=0||!this.isCollectionPath(e))throw"Not a valid path to a collection."}isCollectionPath(e){return Array(e)[0].length%2==1}checkDocumentPathValidity(e){if(null==e||null==e||e.length<=0||!this.isDocumentPath(e))throw"Not a valid path to a document."}isDocumentPath(e){return Array(e)[0].length%2==0}}class HM{constructor(e,t){this.field=e,this.direction=t}getQuery(e){return e.orderBy(this.field,this.direction)}concatQuery(e){return e.orderBy(this.field,this.direction)}}class vj{constructor(e){this.limit=e}getQuery(e){return e.limit(this.limit)}concatQuery(e){return e.limit(this.limit)}}zt(589);class yj{constructor(){this.listeners=new Map}downloadToLocalStorage(e){return new Promise((t,o)=>{if(e instanceof Array)this.getDownloadUrl({path:e,onComplete:c=>{t(c),window.open(c,"Download")},onFail:c=>{o(c)}});else try{window.open(e,"Download"),t()}catch(c){o(c)}})}upload(e){return new Promise((t,o)=>{let c=null,h=this.genStorageRef(e.path);c=null==e.data.metadata||null==e.data.metadata?h.put(e.data.data):h.put(e.data.data,e.data.metadata),c.on("state_changed",p=>{try{e.onUpload(p)}catch{}},p=>{o(p);try{e.onFail(p)}catch{}},()=>{h.getDownloadURL().then(p=>{t(p);try{e.onComplete(p)}catch{}})}),this.listeners.set(e.uploadName,c)})}deleteWithUrl(e){return new Promise((t,o)=>{ya.getStorage().refFromURL(e.url).delete().then(()=>{t();try{e.onComplete()}catch{}}).catch(h=>{o(h);try{e.onFail(h)}catch{}})})}delete(e){return new Promise((t,o)=>{this.genStorageRef(e.path).delete().then(()=>{t();try{e.onComplete()}catch{}}).catch(h=>{o(h);try{e.onFail(h)}catch{}})})}getDownloadUrl(e){return new Promise((t,o)=>{const c=this.genStorageRef(e.path);try{c.getDownloadURL().then(h=>{t(h);try{e.onComplete(h)}catch{}})}catch(h){o(h);try{e.onFail(h)}catch{}}})}genStorageRef(e){let t=ya.getStorage().ref();for(let o=0;o<e.length;o++)t=t.child(e[o]);return t}}function _j(i,e){}const Vv={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},bj={dialogContainer:NM("dialogContainer",[Hb("void, exit",_p({opacity:0,transform:"scale(0.7)"})),Hb("enter",_p({transform:"none"})),qb("* => enter",Ub([jb("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",_p({transform:"none",opacity:1})),$b("@*",zb(),{optional:!0})]),Vv),qb("* => void, * => exit",Ub([jb("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",_p({opacity:0})),$b("@*",zb(),{optional:!0})]),Vv)])};class Gb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Vv.params.enterAnimationDuration,this.exitAnimationDuration=Vv.params.exitAnimationDuration}}let wj=(()=>{class i extends $E{constructor(t,o,c,h,p,m,_,E){super(t,o,c,h,p,m,_,E),this._animationStateChanged=new Ki}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(Nb),fe(rn,8),fe(Gb),fe(Zy),fe(yn),fe(Lv),fe(Jy))},i.\u0275cmp=be({type:i,selectors:[["ng-component"]],features:[md],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})(),Ej=(()=>{class i extends wj{constructor(t,o,c,h,p,m,_,E,S){super(t,o,c,h,p,m,_,S),this._changeDetectorRef=E,this._state="enter"}_onAnimationDone({toState:t,totalTime:o}){"enter"===t?this._openAnimationDone(o):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:o})}_onAnimationStart({toState:t,totalTime:o}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Vv.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Vv.params.exitAnimationDuration}}}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(Nb),fe(rn,8),fe(Gb),fe(Zy),fe(yn),fe(Lv),fe(ky),fe(Jy))},i.\u0275cmp=be({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,o){1&t&&T_("@dialogContainer.start",function(h){return o._onAnimationStart(h)})("@dialogContainer.done",function(h){return o._onAnimationDone(h)}),2&t&&(Fw("id",o._config.id),cp("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),M_("@dialogContainer",o._getAnimationState()))},features:[md],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&ma(0,_j,0,0,"ng-template",0)},dependencies:[Bb],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[bj.dialogContainer]}}),i})();class qM{constructor(e,t,o){this._ref=e,this._containerInstance=o,this._afterOpened=new ke,this._beforeClosed=new ke,this._state=0,this.disableClose=t.disableClose,this.id=e.id,o._animationStateChanged.pipe(Xi(c=>"opened"===c.state),Es(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Xi(c=>"closed"===c.state),Es(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ai(this.backdropClick(),this.keydownEvents().pipe(Xi(c=>27===c.keyCode&&!this.disableClose&&!RE(c)))).subscribe(c=>{this.disableClose||(c.preventDefault(),function Cj(i,e,t){i._closeInteractionType=e,i.close(t)}(this,"keydown"===c.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Xi(t=>"closing"===t.state),Es(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const zM=new Le("MatDialogData"),Dj=new Le("mat-dialog-default-options"),$M=new Le("mat-dialog-scroll-strategy"),Ij={provide:$M,deps:[Jg],useFactory:function Sj(i){return()=>i.scrollStrategies.block()}};let Tj=0,Aj=(()=>{class i{constructor(t,o,c,h,p,m,_,E,S,k){this._overlay=t,this._defaultOptions=c,this._parentDialog=h,this._dialogRefConstructor=_,this._dialogContainerType=E,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this._idPrefix="mat-dialog-",this.afterAllClosed=cb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(lb(void 0))),this._scrollStrategy=m,this._dialog=o.get(WE)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,o){let c;(o={...this._defaultOptions||new Gb,...o}).id=o.id||`${this._idPrefix}${Tj++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const h=this._dialog.open(t,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Gb,useValue:o},{provide:i_,useValue:o}]},templateContext:()=>({dialogRef:c}),providers:(p,m,_)=>(c=new this._dialogRefConstructor(p,o,_),c.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:m.data},{provide:this._dialogRefConstructor,useValue:c}])});return c.componentInstance=h.componentInstance,this.openDialogs.push(c),this.afterOpened.next(c),c.afterClosed().subscribe(()=>{const p=this.openDialogs.indexOf(c);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||this._getAfterAllClosed().next())}),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}}return i.\u0275fac=function(t){op()},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),tC=(()=>{class i extends Aj{constructor(t,o,c,h,p,m,_,E){super(t,o,h,m,_,p,qM,Ej,zM,E)}}return i.\u0275fac=function(t){return new(t||i)(oe(Jg),oe(qn),oe(Oy,8),oe(Dj,8),oe($M),oe(i,12),oe(Vb),oe(Hg,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),Mj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({providers:[tC,Ij],imports:[xM,RM,r_,bu,bu]}),i})();class kj{}class bp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const c=t.slice(0,o),h=c.toLowerCase(),p=t.slice(o+1).trim();this.maybeSetNormalizedName(c,h),this.headers.has(h)?this.headers.get(h).push(p):this.headers.set(h,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const c=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(c,o),this.maybeSetNormalizedName(t,c))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const c=("a"===e.op?this.headers.get(t):void 0)||[];c.push(...o),this.headers.set(t,c);break;case"d":const h=e.value;if(h){let p=this.headers.get(t);if(!p)return;p=p.filter(m=>-1===h.indexOf(m)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class xj{encodeKey(e){return GM(e)}encodeValue(e){return GM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Nj=/%(\d[a-f0-9])/gi,Pj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GM(i){return encodeURIComponent(i).replace(Nj,(e,t)=>Pj[t]??e)}function Wb(i){return`${i}`}class wp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Oj(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(c=>{const h=c.indexOf("="),[p,m]=-1==h?[e.decodeKey(c),""]:[e.decodeKey(c.slice(0,h)),e.decodeValue(c.slice(h+1))],_=t.get(p)||[];_.push(m),t.set(p,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t],c=Array.isArray(o)?o.map(Wb):[Wb(o)];this.map.set(t,c)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const c=e[o];Array.isArray(c)?c.forEach(h=>{t.push({param:o,value:h,op:"a"})}):t.push({param:o,value:c,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Wb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const c=o.indexOf(Wb(e.value));-1!==c&&o.splice(c,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Fj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function WM(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function KM(i){return typeof Blob<"u"&&i instanceof Blob}function YM(i){return typeof FormData<"u"&&i instanceof FormData}class s_{constructor(e,t,o,c){let h;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Lj(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==o?o:null,h=c):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new bp),this.context||(this.context=new Fj),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+p}}else this.params=new wp,this.urlWithParams=t}serializeBody(){return null===this.body?null:WM(this.body)||KM(this.body)||YM(this.body)||function Bj(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||YM(this.body)?null:KM(this.body)?this.body.type||null:WM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,o=e.url||this.url,c=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((k,F)=>k.set(F,e.setHeaders[F]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((k,F)=>k.set(F,e.setParams[F]),E)),new s_(t,o,h,{params:E,headers:_,context:S,reportProgress:m,responseType:c,withCredentials:p})}}var To=(()=>((To=To||{})[To.Sent=0]="Sent",To[To.UploadProgress=1]="UploadProgress",To[To.ResponseHeader=2]="ResponseHeader",To[To.DownloadProgress=3]="DownloadProgress",To[To.Response=4]="Response",To[To.User=5]="User",To))();class nC extends class Vj{constructor(e,t=200,o="OK"){this.headers=e.headers||new bp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=To.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function rC(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let QM=(()=>{class i{constructor(t){this.handler=t}request(t,o,c={}){let h;if(t instanceof s_)h=t;else{let _,E;_=c.headers instanceof bp?c.headers:new bp(c.headers),c.params&&(E=c.params instanceof wp?c.params:new wp({fromObject:c.params})),h=new s_(t,o,void 0!==c.body?c.body:null,{headers:_,context:c.context,params:E,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const p=ot(h).pipe(vp(_=>this.handler.handle(_)));if(t instanceof s_||"events"===c.observe)return p;const m=p.pipe(Xi(_=>_ instanceof nC));switch(c.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(st(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe(st(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe(st(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe(st(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new wp).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,c={}){return this.request("PATCH",t,rC(c,o))}post(t,o,c={}){return this.request("POST",t,rC(c,o))}put(t,o,c={}){return this.request("PUT",t,rC(c,o))}}return i.\u0275fac=function(t){return new(t||i)(oe(kj))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const Uj=["*"];let Kb;function a_(i){return function Hj(){if(void 0===Kb&&(Kb=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(Kb=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Kb}()?.createHTML(i)||i}function ZM(i){return Error(`Unable to find icon with the name "${i}"`)}function JM(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function eR(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class em{constructor(e,t,o){this.url=e,this.svgText=t,this.options=o}}let Yb=(()=>{class i{constructor(t,o,c,h){this._httpClient=t,this._sanitizer=o,this._errorHandler=h,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=c}addSvgIcon(t,o,c){return this.addSvgIconInNamespace("",t,o,c)}addSvgIconLiteral(t,o,c){return this.addSvgIconLiteralInNamespace("",t,o,c)}addSvgIconInNamespace(t,o,c,h){return this._addSvgIconConfig(t,o,new em(c,null,h))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,c,h){const p=this._sanitizer.sanitize(In.HTML,c);if(!p)throw eR(c);const m=a_(p);return this._addSvgIconConfig(t,o,new em("",m,h))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,c){return this._addSvgIconSetConfig(t,new em(o,null,c))}addSvgIconSetLiteralInNamespace(t,o,c){const h=this._sanitizer.sanitize(In.HTML,o);if(!h)throw eR(o);const p=a_(h);return this._addSvgIconSetConfig(t,new em("",p,c))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(In.RESOURCE_URL,t);if(!o)throw JM(t);const c=this._cachedIconsByUrl.get(o);return c?ot(Xb(c)):this._loadSvgIconFromConfig(new em(t,null)).pipe(Qi(h=>this._cachedIconsByUrl.set(o,h)),st(h=>Xb(h)))}getNamedSvgIcon(t,o=""){const c=tR(o,t);let h=this._svgIconConfigs.get(c);if(h)return this._getSvgFromConfig(h);if(h=this._getIconConfigFromResolvers(o,t),h)return this._svgIconConfigs.set(c,h),this._getSvgFromConfig(h);const p=this._iconSetConfigs.get(o);return p?this._getSvgFromIconSetConfigs(t,p):Sv(ZM(c))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ot(Xb(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(st(o=>Xb(o)))}_getSvgFromIconSetConfigs(t,o){const c=this._extractIconWithNameFromAnySet(t,o);return c?ot(c):function Rj(...i){const e=W(i),{args:t,keys:o}=AT(i),c=new le(h=>{const{length:p}=t;if(!p)return void h.complete();const m=new Array(p);let _=p,E=p;for(let S=0;S<p;S++){let k=!1;gn(t[S]).subscribe(Ze(h,F=>{k||(k=!0,E--),m[S]=F},()=>_--,void 0,()=>{(!_||!k)&&(E||h.next(o?MT(o,m):m),h.complete())}))}});return e?c.pipe(G0(e)):c}(o.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(wd(m=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(In.RESOURCE_URL,p.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(E)),ot(null)})))).pipe(st(()=>{const p=this._extractIconWithNameFromAnySet(t,o);if(!p)throw ZM(t);return p}))}_extractIconWithNameFromAnySet(t,o){for(let c=o.length-1;c>=0;c--){const h=o[c];if(h.svgText&&h.svgText.toString().indexOf(t)>-1){const p=this._svgElementFromConfig(h),m=this._extractSvgIconFromSet(p,t,h.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Qi(o=>t.svgText=o),st(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ot(null):this._fetchIcon(t).pipe(Qi(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,c){const h=t.querySelector(`[id="${o}"]`);if(!h)return null;const p=h.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,c);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),c);const m=this._svgElementFromString(a_("<svg></svg>"));return m.appendChild(p),this._setSvgAttributes(m,c)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const c=o.querySelector("svg");if(!c)throw Error("<svg> tag not found");return c}_toSvgElement(t){const o=this._svgElementFromString(a_("<svg></svg>")),c=t.attributes;for(let h=0;h<c.length;h++){const{name:p,value:m}=c[h];"id"!==p&&o.setAttribute(p,m)}for(let h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[h].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){const{url:o,options:c}=t,h=c?.withCredentials??!1;if(!this._httpClient)throw function qj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(In.RESOURCE_URL,o);if(!p)throw JM(o);const m=this._inProgressUrlFetches.get(p);if(m)return m;const _=this._httpClient.get(p,{responseType:"text",withCredentials:h}).pipe(st(E=>a_(E)),db(()=>this._inProgressUrlFetches.delete(p)),zs());return this._inProgressUrlFetches.set(p,_),_}_addSvgIconConfig(t,o,c){return this._svgIconConfigs.set(tR(t,o),c),this}_addSvgIconSetConfig(t,o){const c=this._iconSetConfigs.get(t);return c?c.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let c=0;c<this._resolvers.length;c++){const h=this._resolvers[c](o,t);if(h)return $j(h)?new em(h.url,null,h.options):new em(h,null)}}}return i.\u0275fac=function(t){return new(t||i)(oe(QM,8),oe($0),oe(rn,8),oe(mi))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Xb(i){return i.cloneNode(!0)}function tR(i,e){return i+":"+e}function $j(i){return!(!i.url||!i.options)}const Gj=cM(class{constructor(i){this._elementRef=i}}),Wj=new Le("MAT_ICON_DEFAULT_OPTIONS"),Kj=new Le("mat-icon-location",{providedIn:"root",factory:function Yj(){const i=Rn(rn),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Xj=nR.map(i=>`[${i}]`).join(", "),Qj=/^url\(['"]?#(.*?)['"]?\)$/;let Qb=(()=>{class i extends Gj{constructor(t,o,c,h,p,m){super(t),this._iconRegistry=o,this._location=h,this._errorHandler=p,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Vt.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),c||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=xE(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const c=t.childNodes[o];(1!==c.nodeType||"svg"===c.nodeName.toLowerCase())&&c.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(c=>c.length>0);this._previousFontSetClass.forEach(c=>t.classList.remove(c)),o.forEach(c=>t.classList.add(c)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((c,h)=>{c.forEach(p=>{h.setAttribute(p.name,`url('${t}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(Xj),c=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let h=0;h<o.length;h++)nR.forEach(p=>{const m=o[h],_=m.getAttribute(p),E=_?_.match(Qj):null;if(E){let S=c.get(m);S||(S=[],c.set(m,S)),S.push({name:p,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,c]=this._splitIconName(t);o&&(this._svgNamespace=o),c&&(this._svgName=c),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(c,o).pipe(Es(1)).subscribe(h=>this._setSvgElement(h),h=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${c}! ${h.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(fe(Ir),fe(Yb),Jn("aria-hidden"),fe(Kj),fe(mi),fe(Wj,8))},i.\u0275cmp=be({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,o){2&t&&(cp("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),dp("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[md],ngContentSelectors:Uj,decls:1,vars:0,template:function(t,o){1&t&&(yy(),hp(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),Zj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[bu,bu]}),i})();function Jj(i,e){1&i&&(Ot(0,"div",9),_s(1,"img",10),qt())}let eU=(()=>{class i{constructor(t){this.dialog=t,this.auth=new Yy,this.firestore=new Bv,this.storage=new yj}ngOnInit(){}onPostClick(t){let o=t.value;o.length<=0||(this.selectedImageFile?this.uploadImagePost(o):this.uploadPost(o))}uploadImagePost(t){let o=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",o,"image"],data:{data:this.selectedImageFile},onComplete:c=>{this.firestore.create({path:["Posts",o],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,imageUrl:c,timestamp:ya.getFirestoreTimestamp()},onComplete:h=>{this.dialog.close()}})}})}uploadPost(t){this.firestore.create({path:["Posts"],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,timestamp:ya.getFirestoreTimestamp()},onComplete:o=>{this.dialog.close()}})}onPhotoSelected(t){if(this.selectedImageFile=t.files[0],!this.selectedImageFile)return;let o=new FileReader;o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",c=>{let h=o.result.toString();document.getElementById("post-preview-image").src=h})}}return i.\u0275fac=function(t){return new(t||i)(fe(qM))},i.\u0275cmp=be({type:i,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["placeholder","Type Message..."],["commentInput",""],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(t,o){if(1&t){const c=vd();Ot(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),jn(3,"Create Post"),qt()(),Ot(4,"div"),_s(5,"textarea",0,1),qt(),ma(7,Jj,2,0,"div",2),Ot(8,"mat-card-actions",3)(9,"button",4)(10,"label",5)(11,"input",6,7),Ni("change",function(){xr(c);const p=pu(12);return ko(o.onPhotoSelected(p))}),qt(),Ot(13,"mat-icon"),jn(14,"insert_photo"),qt()()(),Ot(15,"button",8),Ni("click",function(){xr(c);const p=pu(6);return ko(o.onPostClick(p))}),jn(16,"Post"),qt()()()}2&t&&(ir(7),Do("ngIf",o.selectedImageFile))},dependencies:[tb,Qg,JE,eC,QE,ZE,Qb],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),i})();function tU(i,e){1&i&&_s(0,"app-post",3),2&i&&Do("postData",e.$implicit)}let rR=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new Bv,this.posts=[]}ngOnInit(){this.getPosts()}onCreatePostClick(){this.dialog.open(eU)}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new HM("timestamp","desc"),new vj(10)],onComplete:t=>{t.docs.forEach(o=>{let c=o.data();c.postId=o.id,this.posts.push(c)})},onFail:t=>{}})}}return i.\u0275fac=function(t){return new(t||i)(fe(tC))},i.\u0275cmp=be({type:i,selectors:[["app-post-feed"]],decls:5,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","post-button",3,"click"],[3,"postData"]],template:function(t,o){1&t&&(Ot(0,"div",0),ma(1,tU,1,1,"app-post",1),qt(),Ot(2,"button",2),Ni("click",function(){return o.onCreatePostClick()}),Ot(3,"mat-icon"),jn(4,"add"),qt()()),2&t&&(ir(1),Do("ngForOf",o.posts))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}"]}),i})();const nU=[{path:"",component:UM},{path:"emailVerification",component:aV},{path:"postfeed",component:rR},{path:"**",component:UM}];let rU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({imports:[VA.forRoot(nU),VA]}),i})();const iU=function(i,e){return{active:i,idle:e}};let oU=(()=>{class i{constructor(){this.firestore=new Bv,this.auth=new Yy}ngOnInit(){}onContinueClick(t,o){let c=t.value,h=o.value;this.firestore.create({path:["Users",this.auth.getAuth().currentUser.uid],data:{publicName:c,description:h},onComplete:p=>{alert("Profile Created"),t.value="",o.value=""},onFail:p=>{}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=be({type:i,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){if(1&t){const c=vd();Ot(0,"div",0)(1,"div",1),_s(2,"input",2,3)(4,"textarea",4,5),Ot(6,"button",6),Ni("click",function(){xr(c);const p=pu(3),m=pu(5);return ko(o.onContinueClick(p,m))}),jn(7,"Continue"),qt()()()}2&t&&Do("ngClass",OS(1,iU,o.show,!o.show))},dependencies:[O0,Qg],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}#profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]}),i})();function sU(i,e){if(1&i){const t=vd();Ot(0,"div",8),Ni("click",function(){return xr(t),ko(lp().onLoginClick())}),jn(1,"Login"),qt()}}function aU(i,e){if(1&i&&(Ot(0,"div",9),jn(1),qt()),2&i){const t=lp();ir(1),by(" Hello, ",t.getUsername()," ")}}function uU(i,e){if(1&i){const t=vd();Ot(0,"div",8),Ni("click",function(){return xr(t),ko(lp().onLogoutClick())}),jn(1,"Logout"),qt()}}let Zb=(()=>{class i{constructor(t,o){this.loginSheet=t,this.router=o,this.title="CodeibleSocialMediaProject",this.auth=new Yy,this.firestore=new Bv,this.userHasProfile=!0,this.auth.listenToSignInStateChanges(c=>{this.auth.checkSignInState({whenSignedIn:h=>{},whenSignedOut:h=>{i.userDocument=null},whenSignedInAndEmailNotVerified:h=>{this.getUserProfile()},whenSignedInAndEmailVerified:h=>{this.getUserProfile()},whenChanged:h=>{}})})}static getUserDocument(){return i.userDocument}getUsername(){try{return i.userDocument.publicName}catch{}}getUserProfile(){return new Promise((t,o)=>{this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:c=>{i.userDocument=c.data(),this.userHasProfile=c.exists,i.userDocument.userId=this.auth.getAuth().currentUser.uid,this.userHasProfile?(this.router.navigate(["postfeed"]),t(1)):t(0)}})})}add(t,o){return t+o}onLogoutClick(){this.auth.signOut(),this.router.navigate([""])}loggedIn(){return this.auth.isSignedIn()}onLoginClick(){this.loginSheet.open(jM)}}return i.\u0275fac=function(t){return new(t||i)(fe(VM),fe(Io))},i.\u0275cmp=be({type:i,selectors:[["app-root"]],decls:11,vars:4,consts:[["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],[1,"nav-bar-items",2,"font-size","1.5em"],["id","nav-bar-right"],["class","nav-bar-items",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[3,"show"],[1,"nav-bar-items",3,"click"],[1,"nav-bar-items"]],template:function(t,o){1&t&&(Ot(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),jn(4,"Social Media "),qt()(),Ot(5,"div",4),ma(6,sU,2,0,"div",5),ma(7,aU,2,1,"div",6),ma(8,uU,2,0,"div",5),qt()()(),_s(9,"router-outlet")(10,"app-profile",7)),2&t&&(ir(6),Do("ngIf",!o.loggedIn()),ir(1),Do("ngIf",o.loggedIn()&&o.userHasProfile),ir(1),Do("ngIf",o.loggedIn()),ir(2),Do("show",o.loggedIn()&&!o.userHasProfile))},dependencies:[tb,lE,oU],styles:["#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:4em;z-index:10;background-color:#111152}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:#fff}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),i})();function iR(i){return new Ce(3e3,!1)}function qU(){return typeof window<"u"&&typeof window.document<"u"}function iC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ep(i){switch(i.length){case 0:return new o_;case 1:return i[0];default:return new LM(i)}}function oR(i,e,t,o,c=new Map,h=new Map){const p=[],m=[];let _=-1,E=null;if(o.forEach(S=>{const k=S.get("offset"),F=k==_,V=F&&E||new Map;S.forEach(($,Y)=>{let ae=Y,pe=$;if("offset"!==Y)switch(ae=e.normalizePropertyName(ae,p),pe){case"!":pe=c.get(Y);break;case Sd:pe=h.get(Y);break;default:pe=e.normalizeStyleValue(Y,ae,pe,p)}V.set(ae,pe)}),F||m.push(V),E=V,_=k}),p.length)throw function kU(i){return new Ce(3502,!1)}();return m}function oC(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&sC(t,"start",i)));break;case"done":i.onDone(()=>o(t&&sC(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&sC(t,"destroy",i)))}}function sC(i,e,t){const h=aC(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t.totalTime??i.totalTime,!!t.disabled),p=i._data;return null!=p&&(h._data=p),h}function aC(i,e,t,o,c="",h=0,p){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:c,totalTime:h,disabled:!!p}}function ba(i,e,t){let o=i.get(e);return o||i.set(e,o=t),o}function sR(i){const e=i.indexOf(":");return[i.substring(1,e),i.slice(e+1)]}let uC=(i,e)=>!1,aR=(i,e,t)=>[],uR=null;function cC(i){const e=i.parentNode||i.host;return e===uR?null:e}(iC()||typeof Element<"u")&&(qU()?(uR=(()=>document.documentElement)(),uC=(i,e)=>{for(;e;){if(e===i)return!0;e=cC(e)}return!1}):uC=(i,e)=>i.contains(e),aR=(i,e,t)=>{if(t)return Array.from(i.querySelectorAll(e));const o=i.querySelector(e);return o?[o]:[]});let tm=null,cR=!1;const lR=uC,hR=aR;let dR=(()=>{class i{validateStyleProperty(t){return function $U(i){tm||(tm=function GU(){return typeof document<"u"?document.body:null}()||{},cR=!!tm.style&&"WebkitAppearance"in tm.style);let e=!0;return tm.style&&!function zU(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in tm.style,!e&&cR&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in tm.style)),e}(t)}matchesElement(t,o){return!1}containsElement(t,o){return lR(t,o)}getParentElement(t){return cC(t)}query(t,o,c){return hR(t,o,c)}computeStyle(t,o,c){return c||""}animate(t,o,c,h,p,m=[],_){return new o_(c,h)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),lC=(()=>{class i{}return i.NOOP=new dR,i})();const hC="ng-enter",Jb="ng-leave",ew="ng-trigger",tw=".ng-trigger",pR="ng-animating",dC=".ng-animating";function Cp(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fC(parseFloat(e[1]),e[2])}function fC(i,e){return"s"===e?1e3*i:i}function nw(i,e,t){return i.hasOwnProperty("duration")?i:function YU(i,e,t){let c,h=0,p="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(iR()),{duration:0,delay:0,easing:""};c=fC(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(h=fC(parseFloat(_),m[4]));const E=m[5];E&&(p=E)}else c=i;if(!t){let m=!1,_=e.length;c<0&&(e.push(function cU(){return new Ce(3100,!1)}()),m=!0),h<0&&(e.push(function lU(){return new Ce(3101,!1)}()),m=!0),m&&e.splice(_,0,iR())}return{duration:c,delay:h,easing:p}}(i,e,t)}function u_(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function gR(i){const e=new Map;return Object.keys(i).forEach(t=>{e.set(t,i[t])}),e}function Dp(i,e=new Map,t){if(t)for(let[o,c]of t)e.set(o,c);for(let[o,c]of i)e.set(o,c);return e}function vR(i,e,t){return t?e+":"+t+";":""}function yR(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=vR(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=vR(0,JU(t),i.style[t]));i.setAttribute("style",e)}function rh(i,e,t){i.style&&(e.forEach((o,c)=>{const h=gC(c);t&&!t.has(c)&&t.set(c,i.style[h]),i.style[h]=o}),iC()&&yR(i))}function nm(i,e){i.style&&(e.forEach((t,o)=>{const c=gC(o);i.style[c]=""}),iC()&&yR(i))}function c_(i){return Array.isArray(i)?1==i.length?i[0]:PM(i):i}const pC=new RegExp("{{\\s*(.+?)\\s*}}","g");function _R(i){let e=[];if("string"==typeof i){let t;for(;t=pC.exec(i);)e.push(t[1]);pC.lastIndex=0}return e}function rw(i,e,t){const o=i.toString(),c=o.replace(pC,(h,p)=>{let m=e[p];return null==m&&(t.push(function dU(i){return new Ce(3003,!1)}()),m=""),m.toString()});return c==o?i:c}function iw(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const ZU=/-+([a-z0-9])/g;function gC(i){return i.replace(ZU,(...e)=>e[1].toUpperCase())}function JU(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wa(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw function fU(i){return new Ce(3004,!1)}()}}function bR(i,e){return window.getComputedStyle(i)[e]}function s3(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function a3(i,e,t){if(":"==i[0]){const _=function u3(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(function TU(i){return new Ce(3016,!1)}()),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function IU(i){return new Ce(3015,!1)}()),e;const c=o[1],h=o[2],p=o[3];e.push(wR(c,p));"<"==h[0]&&!("*"==c&&"*"==p)&&e.push(wR(p,c))}(o,t,e)):t.push(i),t}const uw=new Set(["true","1"]),cw=new Set(["false","0"]);function wR(i,e){const t=uw.has(i)||cw.has(i),o=uw.has(e)||cw.has(e);return(c,h)=>{let p="*"==i||i==c,m="*"==e||e==h;return!p&&t&&"boolean"==typeof c&&(p=c?uw.has(i):cw.has(i)),!m&&o&&"boolean"==typeof h&&(m=h?uw.has(e):cw.has(e)),p&&m}}const c3=new RegExp("s*:selfs*,?","g");function mC(i,e,t,o){return new l3(i).build(e,t,o)}class l3{constructor(e){this._driver=e}build(e,t,o){const c=new f3(t);return this._resetContextStyleTimingState(c),wa(this,c_(e),c)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,c=t.depCount=0;const h=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function gU(){return new Ce(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const _=m,E=_.name;E.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,h.push(this.visitState(_,t))}),_.name=E}else if(1==m.type){const _=this.visitTransition(m,t);o+=_.queryCount,c+=_.depCount,p.push(_)}else t.errors.push(function mU(){return new Ce(3007,!1)}())}),{type:7,name:e.name,states:h,transitions:p,queryCount:o,depCount:c,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),c=e.options&&e.options.params||null;if(o.containsDynamicStyles){const h=new Set,p=c||{};o.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{_R(_).forEach(E=>{p.hasOwnProperty(E)||h.add(E)})})}),h.size&&(iw(h.values()),t.errors.push(function vU(i,e){return new Ce(3008,!1)}()))}return{type:0,name:e.name,style:o,options:c?{params:c}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=wa(this,c_(e.animation),t);return{type:1,matchers:s3(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:rm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>wa(this,o,t)),options:rm(e.options)}}visitGroup(e,t){const o=t.currentTime;let c=0;const h=e.steps.map(p=>{t.currentTime=o;const m=wa(this,p,t);return c=Math.max(c,t.currentTime),m});return t.currentTime=c,{type:3,steps:h,options:rm(e.options)}}visitAnimate(e,t){const o=function g3(i,e){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return vC(nw(i,e).duration,0,"");const t=i;if(t.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=vC(0,0,"");return h.dynamic=!0,h.strValue=t,h}const c=nw(t,e);return vC(c.duration,c.delay,c.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let c,h=e.styles?e.styles:_p({});if(5==h.type)c=this.visitKeyframes(h,t);else{let p=e.styles,m=!1;if(!p){m=!0;const E={};o.easing&&(E.easing=o.easing),p=_p(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(p,t);_.isEmptyStep=m,c=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[],c=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of c)"string"==typeof m?m===Sd?o.push(m):t.errors.push(new Ce(3002,!1)):o.push(gR(m));let h=!1,p=null;return o.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(p=m.get("easing"),m.delete("easing")),!h))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){h=!0;break}}),{type:6,styles:o,easing:p,offset:e.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let c=t.currentTime,h=t.currentTime;o&&h>0&&(h-=o.duration+o.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((m,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),S=E.get(_);let k=!0;S&&(h!=c&&h>=S.startTime&&c<=S.endTime&&(t.errors.push(function _U(i,e,t,o,c){return new Ce(3010,!1)}()),k=!1),h=S.startTime),k&&E.set(_,{startTime:h,endTime:c}),t.options&&function QU(i,e,t){const o=e.params||{},c=_R(i);c.length&&c.forEach(h=>{o.hasOwnProperty(h)||t.push(function hU(i){return new Ce(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function bU(){return new Ce(3011,!1)}()),o;let h=0;const p=[];let m=!1,_=!1,E=0;const S=e.steps.map(pe=>{const Re=this._makeStyleAst(pe,t);let he=null!=Re.offset?Re.offset:function p3(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;e=parseFloat(o.get("offset")),o.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Re.styles),Ve=0;return null!=he&&(h++,Ve=Re.offset=he),_=_||Ve<0||Ve>1,m=m||Ve<E,E=Ve,p.push(Ve),Re});_&&t.errors.push(function wU(){return new Ce(3012,!1)}()),m&&t.errors.push(function EU(){return new Ce(3200,!1)}());const k=e.steps.length;let F=0;h>0&&h<k?t.errors.push(function CU(){return new Ce(3202,!1)}()):0==h&&(F=1/(k-1));const V=k-1,$=t.currentTime,Y=t.currentAnimateTimings,ae=Y.duration;return S.forEach((pe,Re)=>{const he=F>0?Re==V?1:F*Re:p[Re],Ve=he*ae;t.currentTime=$+Y.delay+Ve,Y.duration=Ve,this._validateStyleAst(pe,t),pe.offset=he,o.styles.push(pe)}),o}visitReference(e,t){return{type:8,animation:wa(this,c_(e.animation),t),options:rm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rm(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,c=e.options||{};t.queryCount++,t.currentQuery=e;const[h,p]=function h3(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(c3,"")),i=i.replace(/@\*/g,tw).replace(/@\w+/g,t=>tw+"-"+t.slice(1)).replace(/:animating/g,dC),[i,e]}(e.selector);t.currentQuerySelector=o.length?o+" "+h:h,ba(t.collectedStyles,t.currentQuerySelector,new Map);const m=wa(this,c_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:h,limit:c.limit||0,optional:!!c.optional,includeSelf:p,animation:m,originalSelector:e.selector,options:rm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function DU(){return new Ce(3013,!1)}());const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:nw(e.timings,t.errors,!0);return{type:12,animation:wa(this,c_(e.animation),t),timings:o,options:null}}}class f3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rm(i){return i?(i=u_(i)).params&&(i.params=function d3(i){return i?u_(i):null}(i.params)):i={},i}function vC(i,e,t){return{duration:i,delay:e,easing:t}}function yC(i,e,t,o,c,h,p=null,m=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:c,delay:h,totalTime:c+h,easing:p,subTimeline:m}}class lw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const y3=new RegExp(":enter","g"),b3=new RegExp(":leave","g");function _C(i,e,t,o,c,h=new Map,p=new Map,m,_,E=[]){return(new w3).buildKeyframes(i,e,t,o,c,h,p,m,_,E)}class w3{buildKeyframes(e,t,o,c,h,p,m,_,E,S=[]){E=E||new lw;const k=new bC(e,t,E,c,h,S,[]);k.options=_;const F=_.delay?Cp(_.delay):0;k.currentTimeline.delayNextStep(F),k.currentTimeline.setStyles([p],null,k.errors,_),wa(this,o,k);const V=k.timelines.filter($=>$.containsAnimation());if(V.length&&m.size){let $;for(let Y=V.length-1;Y>=0;Y--){const ae=V[Y];if(ae.element===t){$=ae;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([m],null,k.errors,_)}return V.length?V.map($=>$.buildKeyframes()):[yC(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.get(t.element);if(o){const c=t.createSubContext(e.options),h=t.currentTimeline.currentTime,p=this._visitSubInstructions(o,c,c.options);h!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let h=t.currentTimeline.currentTime;const p=null!=o.duration?Cp(o.duration):null,m=null!=o.delay?Cp(o.delay):null;return 0!==p&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,p,m);h=Math.max(h,E.duration+E.delay)}),h}visitReference(e,t){t.updateOptions(e.options,!0),wa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let c=t;const h=e.options;if(h&&(h.params||h.delay)&&(c=t.createSubContext(h),c.transformIntoNewTimeline(),null!=h.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=hw);const p=Cp(h.delay);c.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>wa(this,p,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let c=t.currentTimeline.currentTime;const h=e.options&&e.options.delay?Cp(e.options.delay):0;e.steps.forEach(p=>{const m=t.createSubContext(e.options);h&&m.delayNextStep(h),wa(this,p,m),c=Math.max(c,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(c),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return nw(t.params?rw(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),c=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),c.snapshotCurrentStyles());const h=e.style;5==h.type?this.visitKeyframes(h,t):(t.incrementTime(o.duration),this.visitStyle(h,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,c=t.currentAnimateTimings;!c&&o.hasCurrentStyleProperties()&&o.forwardFrame();const h=c&&c.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(h):o.setStyles(e.styles,h,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,c=t.currentTimeline.duration,h=o.duration,m=t.createSubContext().currentTimeline;m.easing=o.easing,e.styles.forEach(_=>{m.forwardTime((_.offset||0)*h),m.setStyles(_.styles,_.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(c+h),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,c=e.options||{},h=c.delay?Cp(c.delay):0;h&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hw);let p=o;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=m.length;let _=null;m.forEach((E,S)=>{t.currentQueryIndex=S;const k=t.createSubContext(e.options,E);h&&k.delayNextStep(h),E===t.element&&(_=k.currentTimeline),wa(this,e.animation,k),k.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,c=t.currentTimeline,h=e.timings,p=Math.abs(h.duration),m=p*(t.currentQueryTotal-1);let _=p*t.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":_=m-_;break;case"full":_=o.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const k=S.currentTime;wa(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=c.currentTime-k+(c.startTime-o.currentTimeline.startTime)}}const hw={};class bC{constructor(e,t,o,c,h,p,m,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=h,this.errors=p,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new dw(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let c=this.options;null!=o.duration&&(c.duration=Cp(o.duration)),null!=o.delay&&(c.delay=Cp(o.delay));const h=o.params;if(h){let p=c.params;p||(p=this.options.params={}),Object.keys(h).forEach(m=>{(!t||!p.hasOwnProperty(m))&&(p[m]=rw(h[m],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(c=>{o[c]=t[c]})}}return e}createSubContext(e=null,t,o){const c=t||this.element,h=new bC(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(e),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(e){return this.previousNode=hw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const c={duration:t??e.duration,delay:this.currentTimeline.currentTime+(o??0)+e.delay,easing:""},h=new E3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,c,e.stretchStartingKeyframe);return this.timelines.push(h),c}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,c,h,p){let m=[];if(c&&m.push(this.element),e.length>0){e=(e=e.replace(y3,"."+this._enterClassName)).replace(b3,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),m.push(...E)}return!h&&0==m.length&&p.push(function SU(i){return new Ce(3014,!1)}()),m}}class dw{constructor(e,t,o,c){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||Sd),this._currentKeyframe.set(t,Sd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,c){t&&this._previousKeyframe.set("easing",t);const h=c&&c.params||{},p=function C3(i,e){const t=new Map;let o;return i.forEach(c=>{if("*"===c){o=o||e.keys();for(let h of o)t.set(h,Sd)}else Dp(c,t)}),t}(e,this._globalTimelineStyles);for(let[m,_]of p){const E=rw(_,h,o);this._pendingStyles.set(m,E),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Sd),this._updateStyle(m,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,o)=>{const c=this._styleSummary.get(o);(!c||t.time>c.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((m,_)=>{const E=Dp(m,new Map,this._backFill);E.forEach((S,k)=>{"!"===S?e.add(k):S===Sd&&t.add(k)}),o||E.set("offset",_/this.duration),c.push(E)});const h=e.size?iw(e.values()):[],p=t.size?iw(t.values()):[];if(o){const m=c[0],_=new Map(m);m.set("offset",0),_.set("offset",1),c=[m,_]}return yC(this.element,c,h,p,this.duration,this.startTime,this.easing,!1)}}class E3 extends dw{constructor(e,t,o,c,h,p,m=!1){super(e,t,p.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=h,this._stretchStartingKeyframe=m,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const h=[],p=o+t,m=t/p,_=Dp(e[0]);_.set("offset",0),h.push(_);const E=Dp(e[0]);E.set("offset",DR(m)),h.push(E);const S=e.length-1;for(let k=1;k<=S;k++){let F=Dp(e[k]);const V=F.get("offset");F.set("offset",DR((t+V*o)/p)),h.push(F)}o=p,t=0,c="",e=h}return yC(this.element,e,this.preStyleProps,this.postStyleProps,o,t,c,!0)}}function DR(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class wC{}const D3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class S3 extends wC{normalizePropertyName(e,t){return gC(e)}normalizeStyleValue(e,t,o,c){let h="";const p=o.toString().trim();if(D3.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&c.push(function pU(i,e){return new Ce(3005,!1)}())}return p+h}}function SR(i,e,t,o,c,h,p,m,_,E,S,k,F){return{type:0,element:i,triggerName:e,isRemovalTransition:c,fromState:t,fromStyles:h,toState:o,toStyles:p,timelines:m,queriedElements:_,preStyleProps:E,postStyleProps:S,totalTime:k,errors:F}}const EC={};class IR{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,c){return function I3(i,e,t,o,c){return i.some(h=>h(e,t,o,c))}(this.ast.matchers,e,t,o,c)}buildStyles(e,t,o){let c=this._stateStyles.get("*");return void 0!==e&&(c=this._stateStyles.get(e?.toString())||c),c?c.buildStyles(t,o):new Map}build(e,t,o,c,h,p,m,_,E,S){const k=[],F=this.ast.options&&this.ast.options.params||EC,$=this.buildStyles(o,m&&m.params||EC,k),Y=_&&_.params||EC,ae=this.buildStyles(c,Y,k),pe=new Set,Re=new Map,he=new Map,Ve="void"===c,Bt={params:T3(Y,F),delay:this.ast.options?.delay},Cn=S?[]:_C(e,t,this.ast.animation,h,p,$,ae,Bt,E,k);let Gr=0;if(Cn.forEach(Ca=>{Gr=Math.max(Ca.duration+Ca.delay,Gr)}),k.length)return SR(t,this._triggerName,o,c,Ve,$,ae,[],[],Re,he,Gr,k);Cn.forEach(Ca=>{const Da=Ca.element,Uv=ba(Re,Da,new Set);Ca.preStyleProps.forEach(Bc=>Uv.add(Bc));const Id=ba(he,Da,new Set);Ca.postStyleProps.forEach(Bc=>Id.add(Bc)),Da!==t&&pe.add(Da)});const Ea=iw(pe.values());return SR(t,this._triggerName,o,c,Ve,$,ae,Cn,Ea,Re,he,Gr)}}function T3(i,e){const t=u_(e);for(const o in i)i.hasOwnProperty(o)&&null!=i[o]&&(t[o]=i[o]);return t}class A3{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o=new Map,c=u_(this.defaultParams);return Object.keys(e).forEach(h=>{const p=e[h];null!==p&&(c[h]=p)}),this.styles.styles.forEach(h=>{"string"!=typeof h&&h.forEach((p,m)=>{p&&(p=rw(p,c,t));const _=this.normalizer.normalizePropertyName(m,t);p=this.normalizer.normalizeStyleValue(m,_,p,t),o.set(_,p)})}),o}}class R3{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(c=>{this.states.set(c.name,new A3(c.style,c.options&&c.options.params||{},o))}),TR(this.states,"true","1"),TR(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new IR(e,c,this.states))}),this.fallbackTransition=function k3(i,e,t){return new IR(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,c){return this.transitionFactories.find(p=>p.match(e,t,o,c))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function TR(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}const x3=new lw;class O3{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const o=[],h=mC(this._driver,t,o,[]);if(o.length)throw function xU(i){return new Ce(3503,!1)}();this._animations.set(e,h)}_buildPlayer(e,t,o){const c=e.element,h=oR(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(c,h,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const c=[],h=this._animations.get(e);let p;const m=new Map;if(h?(p=_C(this._driver,t,h,hC,Jb,new Map,new Map,o,x3,c),p.forEach(S=>{const k=ba(m,S.element,new Map);S.postStyleProps.forEach(F=>k.set(F,null))})):(c.push(function OU(){return new Ce(3300,!1)}()),p=[]),c.length)throw function NU(i){return new Ce(3504,!1)}();m.forEach((S,k)=>{S.forEach((F,V)=>{S.set(V,this._driver.computeStyle(k,V,Sd))})});const E=Ep(p.map(S=>{const k=m.get(S.element);return this._buildPlayer(S,new Map,k)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function PU(i){return new Ce(3301,!1)}();return t}listen(e,t,o,c){const h=aC(t,"","","");return oC(this._getPlayer(e),o,h,c),()=>{}}command(e,t,o,c){if("register"==o)return void this.register(e,c[0]);if("create"==o)return void this.create(e,t,c[0]||{});const h=this._getPlayer(e);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(e)}}}const AR="ng-animate-queued",CC="ng-animate-disabled",B3=[],MR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wu="__ng_removed";class DC{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function q3(i){return i??null}(o?e.value:e),o){const h=u_(e);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(c=>{null==o[c]&&(o[c]=t[c])})}}}const l_="void",SC=new DC(l_);class j3{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Eu(t,this._hostClassName)}listen(e,t,o,c){if(!this._triggers.has(t))throw function FU(i,e){return new Ce(3302,!1)}();if(null==o||0==o.length)throw function LU(i){return new Ce(3303,!1)}();if(!function z3(i){return"start"==i||"done"==i}(o))throw function BU(i,e){return new Ce(3400,!1)}();const h=ba(this._elementListeners,e,[]),p={name:t,phase:o,callback:c};h.push(p);const m=ba(this._engine.statesByElement,e,new Map);return m.has(t)||(Eu(e,ew),Eu(e,ew+"-"+t),m.set(t,SC)),()=>{this._engine.afterFlush(()=>{const _=h.indexOf(p);_>=0&&h.splice(_,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function VU(i){return new Ce(3401,!1)}();return t}trigger(e,t,o,c=!0){const h=this._getTrigger(t),p=new IC(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Eu(e,ew),Eu(e,ew+"-"+t),this._engine.statesByElement.set(e,m=new Map));let _=m.get(t);const E=new DC(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),m.set(t,E),_||(_=SC),E.value!==l_&&_.value===E.value){if(!function W3(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let c=0;c<t.length;c++){const h=t[c];if(!e.hasOwnProperty(h)||i[h]!==e[h])return!1}return!0}(_.params,E.params)){const Y=[],ae=h.matchStyles(_.value,_.params,Y),pe=h.matchStyles(E.value,E.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{nm(e,ae),rh(e,pe)})}return}const F=ba(this._engine.playersByElement,e,[]);F.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let V=h.matchTransition(_.value,E.value,e,E.params),$=!1;if(!V){if(!c)return;V=h.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:E,player:p,isFallbackTransition:$}),$||(Eu(e,AR),p.onStart(()=>{jv(e,AR)})),p.onDone(()=>{let Y=this.players.indexOf(p);Y>=0&&this.players.splice(Y,1);const ae=this._engine.playersByElement.get(e);if(ae){let pe=ae.indexOf(p);pe>=0&&ae.splice(pe,1)}}),this.players.push(p),F.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(c=>c.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,tw,!0);o.forEach(c=>{if(c[wu])return;const h=this._engine.fetchNamespacesByElement(c);h.size?h.forEach(p=>p.triggerLeaveAnimation(c,t,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(e,t,o,c){const h=this._engine.statesByElement.get(e),p=new Map;if(h){const m=[];if(h.forEach((_,E)=>{if(p.set(E,_.value),this._triggers.has(E)){const S=this.trigger(e,E,l_,c);S&&m.push(S)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),o&&Ep(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const c=new Set;t.forEach(h=>{const p=h.name;if(c.has(p))return;c.add(p);const _=this._triggers.get(p).fallbackTransition,E=o.get(p)||SC,S=new DC(l_),k=new IC(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:_,fromState:E,toState:S,player:k,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let c=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(e):[];if(h&&h.length)c=!0;else{let p=e;for(;p=p.parentNode;)if(o.statesByElement.get(p)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(e),c)o.markElementAsRemoved(this.id,e,!1,t);else{const h=e[wu];(!h||h===MR)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){Eu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const h=o.element,p=this._elementListeners.get(h);p&&p.forEach(m=>{if(m.name==o.triggerName){const _=aC(h,o.triggerName,o.fromState.value,o.toState.value);_._data=e,oC(o.player,m.phase,_,m.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(o)}),this._queue=[],t.sort((o,c)=>{const h=o.transition.ast.depCount,p=c.transition.ast.depCount;return 0==h||0==p?h-p:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class U3{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new j3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList,c=this.namespacesByHostElement;if(o.length-1>=0){let p=!1,m=this.driver.getParentElement(t);for(;m;){const _=c.get(m);if(_){const E=o.indexOf(_);o.splice(E+1,0,e),p=!0;break}m=this.driver.getParentElement(m)}p||o.unshift(e)}else o.push(e);return c.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let c=this._namespaceLookup[e];c&&c.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o)for(let c of o.values())if(c.namespaceId){const h=this._fetchNamespace(c.namespaceId);h&&t.add(h)}return t}trigger(e,t,o,c){if(fw(t)){const h=this._fetchNamespace(e);if(h)return h.trigger(t,o,c),!0}return!1}insertNode(e,t,o,c){if(!fw(t))return;const h=t[wu];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,o)}c&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Eu(e,CC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jv(e,CC))}removeNode(e,t,o,c){if(fw(t)){const h=e?this._fetchNamespace(e):null;if(h?h.removeNode(t,c):this.markElementAsRemoved(e,t,!1,c),o){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,c)}}else this._onRemovalComplete(t,c)}markElementAsRemoved(e,t,o,c,h){this.collectedLeaveElements.push(t),t[wu]={namespaceId:e,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:h}}listen(e,t,o,c,h){return fw(t)?this._fetchNamespace(e).listen(t,o,c,h):()=>{}}_buildInstruction(e,t,o,c,h){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,c,e.fromState.options,e.toState.options,t,h)}destroyInnerAnimations(e){let t=this.driver.query(e,tw,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dC,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ep(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wu];if(t&&t.setForRemoval){if(e[wu]=MR,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(CC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Eu(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?Ep(t).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(e){throw function jU(i){return new Ce(3402,!1)}()}_flushAnimations(e,t){const o=new lw,c=[],h=new Map,p=[],m=new Map,_=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(Ye=>{S.add(Ye);const Et=this.driver.query(Ye,".ng-animate-queued",!0);for(let kt=0;kt<Et.length;kt++)S.add(Et[kt])});const k=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=xR(F,this.collectedEnterElements),$=new Map;let Y=0;V.forEach((Ye,Et)=>{const kt=hC+Y++;$.set(Et,kt),Ye.forEach(On=>Eu(On,kt))});const ae=[],pe=new Set,Re=new Set;for(let Ye=0;Ye<this.collectedLeaveElements.length;Ye++){const Et=this.collectedLeaveElements[Ye],kt=Et[wu];kt&&kt.setForRemoval&&(ae.push(Et),pe.add(Et),kt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(On=>pe.add(On)):Re.add(Et))}const he=new Map,Ve=xR(F,Array.from(pe));Ve.forEach((Ye,Et)=>{const kt=Jb+Y++;he.set(Et,kt),Ye.forEach(On=>Eu(On,kt))}),e.push(()=>{V.forEach((Ye,Et)=>{const kt=$.get(Et);Ye.forEach(On=>jv(On,kt))}),Ve.forEach((Ye,Et)=>{const kt=he.get(Et);Ye.forEach(On=>jv(On,kt))}),ae.forEach(Ye=>{this.processLeaveNode(Ye)})});const Bt=[],Cn=[];for(let Ye=this._namespaceList.length-1;Ye>=0;Ye--)this._namespaceList[Ye].drainQueuedTransitions(t).forEach(kt=>{const On=kt.player,fo=kt.element;if(Bt.push(On),this.collectedEnterElements.length){const Uo=fo[wu];if(Uo&&Uo.setForMove){if(Uo.previousTriggersValues&&Uo.previousTriggersValues.has(kt.triggerName)){const im=Uo.previousTriggersValues.get(kt.triggerName),Cu=this.statesByElement.get(kt.element);if(Cu&&Cu.has(kt.triggerName)){const mw=Cu.get(kt.triggerName);mw.value=im,Cu.set(kt.triggerName,mw)}}return void On.destroy()}}const ih=!k||!this.driver.containsElement(k,fo),Sa=he.get(fo),Sp=$.get(fo),Wr=this._buildInstruction(kt,o,Sp,Sa,ih);if(Wr.errors&&Wr.errors.length)return void Cn.push(Wr);if(ih)return On.onStart(()=>nm(fo,Wr.fromStyles)),On.onDestroy(()=>rh(fo,Wr.toStyles)),void c.push(On);if(kt.isFallbackTransition)return On.onStart(()=>nm(fo,Wr.fromStyles)),On.onDestroy(()=>rh(fo,Wr.toStyles)),void c.push(On);const HR=[];Wr.timelines.forEach(Uo=>{Uo.stretchStartingKeyframe=!0,this.disabledNodes.has(Uo.element)||HR.push(Uo)}),Wr.timelines=HR,o.append(fo,Wr.timelines),p.push({instruction:Wr,player:On,element:fo}),Wr.queriedElements.forEach(Uo=>ba(m,Uo,[]).push(On)),Wr.preStyleProps.forEach((Uo,im)=>{if(Uo.size){let Cu=_.get(im);Cu||_.set(im,Cu=new Set),Uo.forEach((mw,MC)=>Cu.add(MC))}}),Wr.postStyleProps.forEach((Uo,im)=>{let Cu=E.get(im);Cu||E.set(im,Cu=new Set),Uo.forEach((mw,MC)=>Cu.add(MC))})});if(Cn.length){const Ye=[];Cn.forEach(Et=>{Ye.push(function UU(i,e){return new Ce(3505,!1)}())}),Bt.forEach(Et=>Et.destroy()),this.reportError(Ye)}const Gr=new Map,Ea=new Map;p.forEach(Ye=>{const Et=Ye.element;o.has(Et)&&(Ea.set(Et,Et),this._beforeAnimationBuild(Ye.player.namespaceId,Ye.instruction,Gr))}),c.forEach(Ye=>{const Et=Ye.element;this._getPreviousPlayers(Et,!1,Ye.namespaceId,Ye.triggerName,null).forEach(On=>{ba(Gr,Et,[]).push(On),On.destroy()})});const Ca=ae.filter(Ye=>NR(Ye,_,E)),Da=new Map;kR(Da,this.driver,Re,E,Sd).forEach(Ye=>{NR(Ye,_,E)&&Ca.push(Ye)});const Id=new Map;V.forEach((Ye,Et)=>{kR(Id,this.driver,new Set(Ye),_,"!")}),Ca.forEach(Ye=>{const Et=Da.get(Ye),kt=Id.get(Ye);Da.set(Ye,new Map([...Array.from(Et?.entries()??[]),...Array.from(kt?.entries()??[])]))});const Bc=[],Hv=[],qv={};p.forEach(Ye=>{const{element:Et,player:kt,instruction:On}=Ye;if(o.has(Et)){if(S.has(Et))return kt.onDestroy(()=>rh(Et,On.toStyles)),kt.disabled=!0,kt.overrideTotalTime(On.totalTime),void c.push(kt);let fo=qv;if(Ea.size>1){let Sa=Et;const Sp=[];for(;Sa=Sa.parentNode;){const Wr=Ea.get(Sa);if(Wr){fo=Wr;break}Sp.push(Sa)}Sp.forEach(Wr=>Ea.set(Wr,fo))}const ih=this._buildAnimation(kt.namespaceId,On,Gr,h,Id,Da);if(kt.setRealPlayer(ih),fo===qv)Bc.push(kt);else{const Sa=this.playersByElement.get(fo);Sa&&Sa.length&&(kt.parentPlayer=Ep(Sa)),c.push(kt)}}else nm(Et,On.fromStyles),kt.onDestroy(()=>rh(Et,On.toStyles)),Hv.push(kt),S.has(Et)&&c.push(kt)}),Hv.forEach(Ye=>{const Et=h.get(Ye.element);if(Et&&Et.length){const kt=Ep(Et);Ye.setRealPlayer(kt)}}),c.forEach(Ye=>{Ye.parentPlayer?Ye.syncPlayerEvents(Ye.parentPlayer):Ye.destroy()});for(let Ye=0;Ye<ae.length;Ye++){const Et=ae[Ye],kt=Et[wu];if(jv(Et,Jb),kt&&kt.hasAnimation)continue;let On=[];if(m.size){let ih=m.get(Et);ih&&ih.length&&On.push(...ih);let Sa=this.driver.query(Et,dC,!0);for(let Sp=0;Sp<Sa.length;Sp++){let Wr=m.get(Sa[Sp]);Wr&&Wr.length&&On.push(...Wr)}}const fo=On.filter(ih=>!ih.destroyed);fo.length?$3(this,Et,fo):this.processLeaveNode(Et)}return ae.length=0,Bc.forEach(Ye=>{this.players.push(Ye),Ye.onDone(()=>{Ye.destroy();const Et=this.players.indexOf(Ye);this.players.splice(Et,1)}),Ye.play()}),Bc}elementContainsData(e,t){let o=!1;const c=t[wu];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,c,h){let p=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(p=m)}else{const m=this.playersByElement.get(e);if(m){const _=!h||h==l_;m.forEach(E=>{E.queued||!_&&E.triggerName!=c||p.push(E)})}}return(o||c)&&(p=p.filter(m=>!(o&&o!=m.namespaceId||c&&c!=m.triggerName))),p}_beforeAnimationBuild(e,t,o){const h=t.element,p=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,S=E!==h,k=ba(o,E,[]);this._getPreviousPlayers(E,S,p,m,t.toState).forEach(V=>{const $=V.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),V.destroy(),k.push(V)})}nm(h,t.fromStyles)}_buildAnimation(e,t,o,c,h,p){const m=t.triggerName,_=t.element,E=[],S=new Set,k=new Set,F=t.timelines.map($=>{const Y=$.element;S.add(Y);const ae=Y[wu];if(ae&&ae.removedBeforeQueried)return new o_($.duration,$.delay);const pe=Y!==_,Re=function G3(i){const e=[];return OR(i,e),e}((o.get(Y)||B3).map(Gr=>Gr.getRealPlayer())).filter(Gr=>!!Gr.element&&Gr.element===Y),he=h.get(Y),Ve=p.get(Y),Bt=oR(0,this._normalizer,0,$.keyframes,he,Ve),Cn=this._buildPlayer($,Bt,Re);if($.subTimeline&&c&&k.add(Y),pe){const Gr=new IC(e,m,Y);Gr.setRealPlayer(Cn),E.push(Gr)}return Cn});E.forEach($=>{ba(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function H3(i,e,t){let o=i.get(e);if(o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&i.delete(e)}return o}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>Eu($,pR));const V=Ep(F);return V.onDestroy(()=>{S.forEach($=>jv($,pR)),rh(_,t.toStyles)}),k.forEach($=>{ba(c,$,[]).push(V)}),V}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new o_(e.duration,e.delay)}}class IC{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new o_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,o)=>{t.forEach(c=>oC(e,o,void 0,c))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ba(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fw(i){return i&&1===i.nodeType}function RR(i,e){const t=i.style.display;return i.style.display=e??"none",t}function kR(i,e,t,o,c){const h=[];t.forEach(_=>h.push(RR(_)));const p=[];o.forEach((_,E)=>{const S=new Map;_.forEach(k=>{const F=e.computeStyle(E,k,c);S.set(k,F),(!F||0==F.length)&&(E[wu]=V3,p.push(E))}),i.set(E,S)});let m=0;return t.forEach(_=>RR(_,h[m++])),p}function xR(i,e){const t=new Map;if(i.forEach(m=>t.set(m,[])),0==e.length)return t;const c=new Set(e),h=new Map;function p(m){if(!m)return 1;let _=h.get(m);if(_)return _;const E=m.parentNode;return _=t.has(E)?E:c.has(E)?1:p(E),h.set(m,_),_}return e.forEach(m=>{const _=p(m);1!==_&&t.get(_).push(m)}),t}function Eu(i,e){i.classList?.add(e)}function jv(i,e){i.classList?.remove(e)}function $3(i,e,t){Ep(t).onDone(()=>i.processLeaveNode(e))}function OR(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof LM?OR(o.players,e):e.push(o)}}function NR(i,e,t){const o=t.get(i);if(!o)return!1;let c=e.get(i);return c?o.forEach(h=>c.add(h)):e.set(i,o),t.delete(i),!0}class pw{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new U3(e,t,o),this._timelineEngine=new O3(e,t,o),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(e,t,o,c,h){const p=e+"-"+c;let m=this._triggerCache[p];if(!m){const _=[],S=mC(this._driver,h,_,[]);if(_.length)throw function RU(i,e){return new Ce(3404,!1)}();m=function M3(i,e,t){return new R3(i,e,t)}(c,S,this._normalizer),this._triggerCache[p]=m}this._transitionEngine.registerTrigger(t,c,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,c){this._transitionEngine.insertNode(e,t,o,c)}onRemove(e,t,o,c){this._transitionEngine.removeNode(e,t,c||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,c){if("@"==o.charAt(0)){const[h,p]=sR(o);this._timelineEngine.command(h,t,p,c)}else this._transitionEngine.trigger(e,t,o,c)}listen(e,t,o,c,h){if("@"==o.charAt(0)){const[p,m]=sR(o);return this._timelineEngine.listen(p,t,m,h)}return this._transitionEngine.listen(e,t,o,c,h)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Y3=(()=>{class i{constructor(t,o,c){this._element=t,this._startStyles=o,this._endStyles=c,this._state=0;let h=i.initialStylesByElement.get(t);h||i.initialStylesByElement.set(t,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&rh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rh(this._element,this._initialStyles),this._endStyles&&(rh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(nm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nm(this._element,this._endStyles),this._endStyles=null),rh(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function TC(i){let e=null;return i.forEach((t,o)=>{(function X3(i){return"display"===i||"position"===i})(o)&&(e=e||new Map,e.set(o,t))}),e}class PR{constructor(e,t,o,c){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(e,t,o){return e.animate(this._convertKeyframesToObject(t),o)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,c)=>{"offset"!==c&&e.set(c,this._finished?o:bR(this.element,c))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Q3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return lR(e,t)}getParentElement(e){return cC(e)}query(e,t,o){return hR(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}animate(e,t,o,c,h,p=[]){const _={duration:o,delay:c,fill:0==c?"both":"forwards"};h&&(_.easing=h);const E=new Map,S=p.filter(V=>V instanceof PR);(function e3(i,e){return 0===i||0===e})(o,c)&&S.forEach(V=>{V.currentSnapshot.forEach(($,Y)=>E.set(Y,$))});let k=function XU(i){return i.length?i[0]instanceof Map?i:i.map(e=>gR(e)):[]}(t).map(V=>Dp(V));k=function t3(i,e,t){if(t.size&&e.length){let o=e[0],c=[];if(t.forEach((h,p)=>{o.has(p)||c.push(p),o.set(p,h)}),c.length)for(let h=1;h<e.length;h++){let p=e[h];c.forEach(m=>p.set(m,bR(i,m)))}}return e}(e,k,E);const F=function K3(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=TC(e[0]),e.length>1&&(o=TC(e[e.length-1]))):e instanceof Map&&(t=TC(e)),t||o?new Y3(i,t,o):null}(e,k);return new PR(e,k,_,F)}}let Z3=(()=>{class i extends OM{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:Xr.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(t)?PM(t):t;return FR(this._renderer,null,o,"register",[c]),new J3(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(oe(qh),oe(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class J3 extends class JV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eH(this._id,e,t||{},this._renderer)}}class eH{constructor(e,t,o,c){this.id=e,this.element=t,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return FR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function FR(i,e,t,o,c){return i.setProperty(e,`@@${t}:${o}`,c)}const LR="@.disabled";let tH=(()=>{class i{constructor(t,o,c){this.delegate=t,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,p)=>{const m=p?.parentNode(h);m&&p.removeChild(m,h)}}createRenderer(t,o){const h=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let S=this._rendererCache.get(h);return S||(S=new BR("",h,this.engine),this._rendererCache.set(h,S)),S}const p=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(p,m,t,S.name,S)};return o.data.animation.forEach(_),new nH(this,m,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,c){t>=0&&t<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[p,m]=h;p(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(oe(qh),oe(pw),oe(yn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class BR{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,c=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,c)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,c){this.delegate.setAttribute(e,t,o,c)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,c){this.delegate.setStyle(e,t,o,c)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==LR?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nH extends BR{constructor(e,t,o,c){super(t,o,c),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==LR?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.slice(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const c=function rH(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let h=t.slice(1),p="";return"@"!=h.charAt(0)&&([h,p]=function iH(i){const e=i.indexOf(".");return[i.substring(0,e),i.slice(e+1)]}(h)),this.engine.listen(this.namespaceId,c,h,p,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(e,t,o)}}const VR=[{provide:OM,useClass:Z3},{provide:wC,useFactory:function sH(){return new S3}},{provide:pw,useClass:(()=>{class i extends pw{constructor(t,o,c,h){super(t.body,o,c)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(oe(rn),oe(lC),oe(wC),oe(Cv))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})()},{provide:qh,useFactory:function aH(i,e,t){return new tH(i,e,t)},deps:[sb,pw,yn]}],AC=[{provide:lC,useFactory:()=>new Q3},{provide:Hg,useValue:"BrowserAnimations"},...VR],jR=[{provide:lC,useClass:dR},{provide:Hg,useValue:"NoopAnimations"},...VR];let uH=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?jR:AC}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i}),i.\u0275inj=wn({providers:AC,imports:[CT]}),i})();const UR_firebaseConfig={apiKey:"AIzaSyDhQnrD4s_GlfUVZNH41xCiS6JlpmZt0Wg",authDomain:"codeiblesocialmediaproject.firebaseapp.com",projectId:"codeiblesocialmediaproject",storageBucket:"codeiblesocialmediaproject.appspot.com",messagingSenderId:"491925383115",appId:"1:491925383115:web:7ece851a5b43ec0611784e",measurementId:"G-T8YP3CWGEK"},cH=function(i){return{"comment-container":!0,"creator-comment-container":i}},lH=function(i){return{comment:!0,"creator-comment":i}};function hH(i,e){if(1&i&&(Ot(0,"div",6)(1,"div")(2,"p",7),jn(3),qt(),Ot(4,"p",6),jn(5),qt()()()),2&i){const t=e.$implicit,o=lp();Do("ngClass",$w(4,cH,o.isCommentCreator(t))),ir(3),Vg(null==t?null:t.creatorName),ir(1),Do("ngClass",$w(6,lH,o.isCommentCreator(t))),ir(1),Vg(null==t?null:t.comment)}}let dH=(()=>{class i{constructor(t){this.postId=t,this.firestore=new Bv,this.comments=[]}ngOnInit(){this.getComments()}isCommentCreator(t){try{return t.creatorId==Zb.getUserDocument().userId}catch{}}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postId,"PostComments"],where:[new HM("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(o=>{"added"==o.type&&this.comments.unshift(o.doc.data())})}})}onSendClick(t){t.value.length>0&&this.firestore.create({path:["Posts",this.postId,"PostComments"],data:{comment:t.value,creatorId:Zb.getUserDocument().userId,creatorName:Zb.getUserDocument().publicName,timestamp:ya.getFirestoreTimestamp()},onComplete:o=>{t.value=""}})}}return i.\u0275fac=function(t){return new(t||i)(fe(zM))},i.\u0275cmp=be({type:i,selectors:[["app-reply"]],decls:10,vars:1,consts:[["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-flat-button","","color","warn",3,"click"],["placeholder","Comment..."],["commentInput",""],[3,"ngClass"],[1,"comment-name"]],template:function(t,o){if(1&t){const c=vd();Ot(0,"p"),jn(1,"Reply"),qt(),Ot(2,"div",0),ma(3,hH,6,8,"div",1),qt(),Ot(4,"div",2)(5,"button",3),Ni("click",function(){xr(c);const p=pu(9);return ko(o.onSendClick(p))}),Ot(6,"mat-icon"),jn(7,"send"),qt()(),_s(8,"input",4,5),qt()}2&t&&(ir(3),Do("ngForOf",o.comments))},dependencies:[O0,N0,Qg,Qb],styles:["#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;margin-top:1em;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid gray;outline:none;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr}.comment-container[_ngcontent-%COMP%]{display:flex}.comment-name[_ngcontent-%COMP%]{font-size:.9em}.comment[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:1em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}"]}),i})(),fH=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new Bv}ngOnInit(){this.getCreatorInfo()}onReplyClick(){this.dialog.open(dH,{data:this.postData.postId})}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:t=>{let o=t.data();this.creatorName=o.publicName,this.creatorDescription=o.description}})}}return i.\u0275fac=function(t){return new(t||i)(fe(tC))},i.\u0275cmp=be({type:i,selectors:[["app-post"]],inputs:{postData:"postData"},decls:16,vars:4,consts:[["mat-card-image","",3,"src"],["color","warn",1,"action-item",3,"click"],["color","warn",1,"action-item"]],template:function(t,o){1&t&&(Ot(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),jn(3),qt(),Ot(4,"mat-card-subtitle"),jn(5),qt()(),_s(6,"img",0),Ot(7,"mat-card-content"),jn(8),qt(),Ot(9,"mat-card-actions")(10,"mat-icon",1),Ni("click",function(){return o.onReplyClick()}),jn(11,"chat_bubble_outline"),qt(),Ot(12,"mat-icon",2),jn(13,"favorite_border"),qt(),Ot(14,"mat-icon",2),jn(15,"save"),qt()()()),2&t&&(ir(3),Vg(o.creatorName),ir(2),Vg(o.creatorDescription),ir(1),Ow("src",null==o.postData?null:o.postData.imageUrl,El),ir(2),by(" ",null==o.postData?null:o.postData.comment," "))},dependencies:[JE,eC,lj,QE,hj,ZE,dj,Qb],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}"]}),i})(),pH=(()=>{class i{constructor(){ya.init(UR_firebaseConfig)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Tt({type:i,bootstrap:[Zb]}),i.\u0275inj=wn({imports:[CT,rU,uH,sV,BM,fj,Mj,Zj]}),i})();(function Ke(i,e,t){const o=i.\u0275cmp;o.directiveDefs=()=>("function"==typeof e?e():e).map(mt),o.pipeDefs=()=>("function"==typeof t?t():t).map(Fn)})(rR,[N0,Qg,Qb,fH],[]),function X1(){MI=!1}(),fF().bootstrapModule(pH).catch(i=>console.error(i))},867:(Ia,oi,zt)=>{zt.r(oi),zt.d(oi,{default:()=>me.Z});var me=zt(367);me.Z.registerVersion("firebase","8.10.1","app"),me.Z.SDK_VERSION="8.10.1"},315:(Ia,oi,zt)=>{zt.r(oi);var me=zt(367);(function(){var I,ze="function"==typeof Object.defineProperties?Object.defineProperty:function(u,f,y){u!=Array.prototype&&u!=Object.prototype&&(u[f]=y.value)},Vt=function nt(u){u=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,u];for(var f=0;f<u.length;++f){var y=u[f];if(y&&y.Math==Math)return y}return globalThis}(this);function Tr(u){var f=0;return function(){return f<u.length?{done:!1,value:u[f++]}:{done:!0}}}function bi(u){var f=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return f?f.call(u):{next:Tr(u)}}!function Zi(u,f){if(f){var y=Vt;u=u.split(".");for(var w=0;w<u.length-1;w++){var D=u[w];D in y||(y[D]={}),y=y[D]}(f=f(w=y[u=u[u.length-1]]))!=w&&null!=f&&ze(y,u,{configurable:!0,writable:!0,value:f})}}("Promise",function(u){function f(N){this.b=0,this.c=void 0,this.a=[];var U=this.f();try{N(U.resolve,U.reject)}catch(ce){U.reject(ce)}}function y(){this.a=null}function w(N){return N instanceof f?N:new f(function(U){U(N)})}if(u)return u;y.prototype.b=function(N){if(null==this.a){this.a=[];var U=this;this.c(function(){U.g()})}this.a.push(N)};var D=Vt.setTimeout;y.prototype.c=function(N){D(N,0)},y.prototype.g=function(){for(;this.a&&this.a.length;){var N=this.a;this.a=[];for(var U=0;U<N.length;++U){var ce=N[U];N[U]=null;try{ce()}catch(a){this.f(a)}}}this.a=null},y.prototype.f=function(N){this.c(function(){throw N})},f.prototype.f=function(){function N(a){return function(s){ce||(ce=!0,a.call(U,s))}}var U=this,ce=!1;return{resolve:N(this.m),reject:N(this.g)}},f.prototype.m=function(N){if(N===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(N instanceof f)this.s(N);else{e:switch(typeof N){case"object":var U=null!=N;break e;case"function":U=!0;break e;default:U=!1}U?this.v(N):this.h(N)}},f.prototype.v=function(N){var U=void 0;try{U=N.then}catch(ce){return void this.g(ce)}"function"==typeof U?this.u(U,N):this.h(N)},f.prototype.g=function(N){this.i(2,N)},f.prototype.h=function(N){this.i(1,N)},f.prototype.i=function(N,U){if(0!=this.b)throw Error("Cannot settle("+N+", "+U+"): Promise already settled in state"+this.b);this.b=N,this.c=U,this.l()},f.prototype.l=function(){if(null!=this.a){for(var N=0;N<this.a.length;++N)x.b(this.a[N]);this.a=null}};var x=new y;return f.prototype.s=function(N){var U=this.f();N.Ra(U.resolve,U.reject)},f.prototype.u=function(N,U){var ce=this.f();try{N.call(U,ce.resolve,ce.reject)}catch(a){ce.reject(a)}},f.prototype.then=function(N,U){function ce(d,g){return"function"==typeof d?function(v){try{a(d(v))}catch(b){s(b)}}:g}var a,s,l=new f(function(d,g){a=d,s=g});return this.Ra(ce(N,a),ce(U,s)),l},f.prototype.catch=function(N){return this.then(void 0,N)},f.prototype.Ra=function(N,U){function ce(){switch(a.b){case 1:N(a.c);break;case 2:U(a.c);break;default:throw Error("Unexpected state: "+a.b)}}var a=this;null==this.a?x.b(ce):this.a.push(ce)},f.resolve=w,f.reject=function(N){return new f(function(U,ce){ce(N)})},f.race=function(N){return new f(function(U,ce){for(var a=bi(N),s=a.next();!s.done;s=a.next())w(s.value).Ra(U,ce)})},f.all=function(N){var U=bi(N),ce=U.next();return ce.done?w([]):new f(function(a,s){function l(v){return function(b){d[v]=b,0==--g&&a(d)}}var d=[],g=0;do{d.push(void 0),g++,w(ce.value).Ra(l(d.length-1),s),ce=U.next()}while(!ce.done)})},f});var se=se||{},z=this||self,Ee=/^[\w+/_-]+[=]{0,2}$/,Me=null;function Te(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&Ee.test(u)?u:""}function Fe(){}function jt(u){var f=typeof u;return"object"!=f?f:u?Array.isArray(u)?"array":f:"null"}function Ut(u){var f=jt(u);return"array"==f||"object"==f&&"number"==typeof u.length}function xt(u){return"function"==jt(u)}function _t(u){var f=typeof u;return"object"==f&&null!=u||"function"==f}function yr(u){return Object.prototype.hasOwnProperty.call(u,Yt)&&u[Yt]||(u[Yt]=++wi)}var Yt="closure_uid_"+(1e9*Math.random()>>>0),wi=0;function bt(u,f,y){return u.call.apply(u.bind,arguments)}function Yn(u,f,y){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),u.apply(f,D)}}return function(){return u.apply(f,arguments)}}function Xe(u,f,y){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Yn).apply(null,arguments)}function Qt(u,f){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}var Ji=Date.now;function ft(u,f){function y(){}y.prototype=f.prototype,u.bb=f.prototype,u.prototype=new y,u.prototype.constructor=u}function de(u){return u}function B(u,f,y){this.code=ye+u,this.message=f||Oe[u]||"",this.a=y||null}function ve(u){var f=u&&u.code;return f?new B(f.substring(ye.length),u.message,u.serverResponse):null}ft(B,Error),B.prototype.w=function(){var u={code:this.code,message:this.message};return this.a&&(u.serverResponse=this.a),u},B.prototype.toJSON=function(){return this.w()};var Ct,ye="auth/",Oe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},le={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ct(u){for(var f in le)if(le[f].id===u)return{firebaseEndpoint:(u=le[f]).Ua,secureTokenEndpoint:u.$a,identityPlatformEndpoint:u.Xa};return null}function lr(u){if(!u)return!1;try{return!!u.$goog_Thenable}catch{return!1}}function et(u){if(Error.captureStackTrace)Error.captureStackTrace(this,et);else{var f=Error().stack;f&&(this.stack=f)}u&&(this.message=String(u))}function ke(u,f){for(var y="",w=(u=u.split("%s")).length-1,D=0;D<w;D++)y+=u[D]+(D<f.length?f[D]:"%s");et.call(this,y+u[w])}function $e(u,f){throw new ke("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1))}function rt(u,f){this.c=u,this.f=f,this.b=0,this.a=null}function ht(u,f){u.f(f),100>u.b&&(u.b++,f.next=u.a,u.a=f)}function Ze(){this.b=this.a=null}Ct=ct("__EID__")?"__EID__":void 0,ft(et,Error),et.prototype.name="CustomError",ft(ke,et),ke.prototype.name="AssertionError",rt.prototype.get=function(){if(0<this.b){this.b--;var u=this.a;this.a=u.next,u.next=null}else u=this.c();return u};var Ei=new rt(function(){return new Kr},function(u){u.reset()});function st(){var u=Di,f=null;return u.a&&(f=u.a,u.a=u.a.next,u.a||(u.b=null),f.next=null),f}function Kr(){this.next=this.b=this.a=null}Ze.prototype.add=function(u,f){var y=Ei.get();y.set(u,f),this.b?this.b.next=y:this.a=y,this.b=y},Kr.prototype.set=function(u,f){this.a=u,this.b=f,this.next=null},Kr.prototype.reset=function(){this.next=this.b=this.a=null};var Ho=Array.prototype.indexOf?function(u,f){return Array.prototype.indexOf.call(u,f,void 0)}:function(u,f){if("string"==typeof u)return"string"!=typeof f||1!=f.length?-1:u.indexOf(f,0);for(var y=0;y<u.length;y++)if(y in u&&u[y]===f)return y;return-1},bn=Array.prototype.forEach?function(u,f,y){Array.prototype.forEach.call(u,f,y)}:function(u,f,y){for(var w=u.length,D="string"==typeof u?u.split(""):u,x=0;x<w;x++)x in D&&f.call(y,D[x],x,u)},Du=Array.prototype.filter?function(u,f){return Array.prototype.filter.call(u,f,void 0)}:function(u,f){for(var y=u.length,w=[],D=0,x="string"==typeof u?u.split(""):u,N=0;N<y;N++)if(N in x){var U=x[N];f.call(void 0,U,N,u)&&(w[D++]=U)}return w},$t=Array.prototype.map?function(u,f){return Array.prototype.map.call(u,f,void 0)}:function(u,f){for(var y=u.length,w=Array(y),D="string"==typeof u?u.split(""):u,x=0;x<y;x++)x in D&&(w[x]=f.call(void 0,D[x],x,u));return w},Zt=Array.prototype.some?function(u,f){return Array.prototype.some.call(u,f,void 0)}:function(u,f){for(var y=u.length,w="string"==typeof u?u.split(""):u,D=0;D<y;D++)if(D in w&&f.call(void 0,w[D],D,u))return!0;return!1};function xn(u,f){return 0<=Ho(u,f)}function Nn(u,f){var y;return(y=0<=(f=Ho(u,f)))&&Array.prototype.splice.call(u,f,1),y}function Un(u,f){!function _r(u,f){for(var y="string"==typeof u?u.split(""):u,w=u.length-1;0<=w;--w)w in y&&f.call(void 0,y[w],w,u)}(u,function(w,D){f.call(void 0,w,D,u)&&Array.prototype.splice.call(u,D,1)})}function gn(u){return Array.prototype.concat.apply([],arguments)}function Hn(u){var f=u.length;if(0<f){for(var y=Array(f),w=0;w<f;w++)y[w]=u[w];return y}return[]}var br,Cs=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},eo=/&/g,oh=/</g,Ar=/>/g,qo=/"/g,Td=/'/g,Ci=/\x00/g,sh=/[\x00&<>"']/;function Dt(u,f){return-1!=u.indexOf(f)}function Bi(u,f){return u<f?-1:u>f?1:0}e:{var Vc=z.navigator;if(Vc){var Su=Vc.userAgent;if(Su){br=Su;break e}}br=""}function Pn(u){return Dt(br,u)}function Ao(u,f){for(var y in u)f.call(void 0,u[y],y,u)}function W(u){for(var f in u)return!1;return!0}function G(u){var y,f={};for(y in u)f[y]=u[y];return f}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,f){for(var y,w,D=1;D<arguments.length;D++){for(y in w=arguments[D])u[y]=w[y];for(var x=0;x<Q.length;x++)y=Q[x],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function X(u,f){e:{try{var y=u&&u.ownerDocument,w=y&&(y.defaultView||y.parentWindow);if((w=w||z).Element&&w.Location){var D=w;break e}}catch{}D=null}if(D&&typeof D[f]<"u"&&(!u||!(u instanceof D[f])&&(u instanceof D.Location||u instanceof D.Element))){if(_t(u))try{var x=u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch{x="<object could not be stringified>"}else x=void 0===u?"undefined":null===u?"null":typeof u;$e("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,x)}}function Ae(u,f){this.a=u===fn&&f||"",this.b=Jt}function dt(u){return u instanceof Ae&&u.constructor===Ae&&u.b===Jt?u.a:($e("expected object of type Const, got '"+u+"'"),"type_error:Const")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a},Ae.prototype.toString=function(){return"Const{"+this.a+"}"};var sn,Jt={},fn={};function Mr(){if(void 0===sn){var u=null,f=z.trustedTypes;if(f&&f.createPolicy){try{u=f.createPolicy("goog#html",{createHTML:de,createScript:de,createScriptURL:de})}catch(y){z.console&&z.console.error(y.message)}sn=u}else sn=u}return sn}function en(u,f){this.a=f===An?u:""}function pt(u){return u instanceof en&&u.constructor===en?u.a:($e("expected object of type TrustedResourceUrl, got '"+u+"' of type "+jt(u)),"type_error:TrustedResourceUrl")}function ai(u,f){var y=dt(u);if(!ah.test(y))throw Error("Invalid TrustedResourceUrl format: "+y);return function to(u){var f=Mr();return new en(u=f?f.createScriptURL(u):u,An)}(u=y.replace(zs,function(w,D){if(!Object.prototype.hasOwnProperty.call(f,D))throw Error('Found marker, "'+D+'", in format string, "'+y+'", but no valid label mapping found in args: '+JSON.stringify(f));return(w=f[D])instanceof Ae?dt(w):encodeURIComponent(String(w))}))}en.prototype.ta=!0,en.prototype.sa=function(){return this.a.toString()},en.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var zs=/%{(\w+)}/g,ah=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,An={};function gt(u,f){this.a=f===Ce?u:""}function zo(u){return u instanceof gt&&u.constructor===gt?u.a:($e("expected object of type SafeUrl, got '"+u+"' of type "+jt(u)),"type_error:SafeUrl")}gt.prototype.ta=!0,gt.prototype.sa=function(){return this.a.toString()},gt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var uh=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Iu=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,it=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function $o(u){if(u instanceof gt)return u;if(u="object"==typeof u&&u.ta?u.sa():String(u),it.test(u))u=new gt(u,Ce);else{var f=(u=(u=String(u)).replace(/(%0A|%0D)/g,"")).match(Iu);u=f&&uh.test(f[1])?new gt(u,Ce):null}return u}function ch(u){return u instanceof gt?u:(u="object"==typeof u&&u.ta?u.sa():String(u),it.test(u)||(u="about:invalid#zClosurez"),new gt(u,Ce))}var Ce={},Ds=new gt("about:invalid#zClosurez",Ce);function lt(u,f,y){this.a=y===lh?u:""}lt.prototype.ta=!0,lt.prototype.sa=function(){return this.a.toString()},lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var lh={};function Ta(u,f,y,w){return u=u instanceof gt?u:ch(u),f=f||z,y=y instanceof Ae?dt(y):y||"",f.open(zo(u),y,w,void 0)}function Go(u,f){for(var y=u.split("%s"),w="",D=Array.prototype.slice.call(arguments,1);D.length&&1<y.length;)w+=y.shift()+D.shift();return w+y.join("%s")}function Rr(u){return sh.test(u)&&(-1!=u.indexOf("&")&&(u=u.replace(eo,"&amp;")),-1!=u.indexOf("<")&&(u=u.replace(oh,"&lt;")),-1!=u.indexOf(">")&&(u=u.replace(Ar,"&gt;")),-1!=u.indexOf('"')&&(u=u.replace(qo,"&quot;")),-1!=u.indexOf("'")&&(u=u.replace(Td,"&#39;")),-1!=u.indexOf("\0")&&(u=u.replace(Ci,"&#0;"))),u}function hh(u){return hh[" "](u),u}hh[" "]=Fe;var Ma,u,Tp=Pn("Opera"),wr=Pn("Trident")||Pn("MSIE"),Aa=Pn("Edge"),Tu=Aa||wr,Ad=Pn("Gecko")&&!(Dt(br.toLowerCase(),"webkit")&&!Pn("Edge"))&&!(Pn("Trident")||Pn("MSIE"))&&!Pn("Edge"),Wo=Dt(br.toLowerCase(),"webkit")&&!Pn("Edge");function dh(){var u=z.document;return u?u.documentMode:void 0}e:{var Au="",$s=(u=br,Ad?/rv:([^\);]+)(\)|;)/.exec(u):Aa?/Edge\/([\d\.]+)/.exec(u):wr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Wo?/WebKit\/(\S+)/.exec(u):Tp?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if($s&&(Au=$s?$s[1]:""),wr){var Yr=dh();if(null!=Yr&&Yr>parseFloat(Au)){Ma=String(Yr);break e}}Ma=Au}var It={};function Md(u){return function jc(u,f){var y=It;return Object.prototype.hasOwnProperty.call(y,u)?y[u]:y[u]=f(u)}(u,function(){for(var f=0,y=Cs(String(Ma)).split("."),w=Cs(String(u)).split("."),D=Math.max(y.length,w.length),x=0;0==f&&x<D;x++){var N=y[x]||"",U=w[x]||"";do{if(N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],0==N[0].length&&0==U[0].length)break;f=Bi(0==N[1].length?0:parseInt(N[1],10),0==U[1].length?0:parseInt(U[1],10))||Bi(0==N[2].length,0==U[2].length)||Bi(N[2],U[2]),N=N[3],U=U[3]}while(0==f)}return 0<=f})}var xe=z.document&&wr&&(dh()||parseInt(Ma,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Rd=!wr||9<=Number(xe);function wn(u){var f=document;return"string"==typeof u?f.getElementById(u):u}function Ru(u,f){Ao(f,function(y,w){y&&"object"==typeof y&&y.ta&&(y=y.sa()),"style"==w?u.style.cssText=y:"class"==w?u.className=y:"for"==w?u.htmlFor=y:Ss.hasOwnProperty(w)?u.setAttribute(Ss[w],y):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?u.setAttribute(w,y):u[w]=y})}var Ko,Je,Ss={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ka(u,f,y){function w(U){U&&f.appendChild("string"==typeof U?u.createTextNode(U):U)}for(var D=2;D<y.length;D++){var x=y[D];if(!Ut(x)||_t(x)&&0<x.nodeType)w(x);else{e:{if(x&&"number"==typeof x.length){if(_t(x)){var N="function"==typeof x.item||"string"==typeof x.item;break e}if(xt(x)){N="function"==typeof x.item;break e}}N=!1}bn(N?Hn(x):x,w)}}}function Gs(u,f){return f=String(f),"application/xhtml+xml"===u.contentType&&(f=f.toLowerCase()),u.createElement(f)}function Is(u){z.setTimeout(function(){throw u},0)}function Uc(u,f){Je||function xa(){if(z.Promise&&z.Promise.resolve){var u=z.Promise.resolve(void 0);Je=function(){u.then(Hc)}}else Je=function(){var f=Hc;!xt(z.setImmediate)||z.Window&&z.Window.prototype&&!Pn("Edge")&&z.Window.prototype.setImmediate==z.setImmediate?(Ko||(Ko=function ph(){var u=z.MessageChannel;if(typeof u>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Pn("Presto")&&(u=function(){var D=Gs(document,"IFRAME");D.style.display="none",document.documentElement.appendChild(D);var x=D.contentWindow;(D=x.document).open(),D.close();var N="callImmediate"+Math.random(),U="file:"==x.location.protocol?"*":x.location.protocol+"//"+x.location.host;D=Xe(function(ce){("*"==U||ce.origin==U)&&ce.data==N&&this.port1.onmessage()},this),x.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){x.postMessage(N,U)}}}),typeof u<"u"&&!Pn("Trident")&&!Pn("MSIE")){var f=new u,y={},w=y;return f.port1.onmessage=function(){if(void 0!==y.next){var D=(y=y.next).Hb;y.Hb=null,D()}},function(D){w.next={Hb:D},w=w.next,f.port2.postMessage(0)}}return function(D){z.setTimeout(D,0)}}()),Ko(f)):z.setImmediate(f)}}(),Oa||(Je(),Oa=!0),Di.add(u,f)}var Oa=!1,Di=new Ze;function Hc(){for(var u;u=st();){try{u.a.call(u.b)}catch(f){Is(f)}ht(Ei,u)}Oa=!1}function Pt(u,f){if(this.a=ui,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,u!=Fe)try{var y=this;u.call(f,function(w){te(y,hr,w)},function(w){if(!(w instanceof mn))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}te(y,Vi,w)})}catch(w){te(this,Vi,w)}}var ui=0,hr=2,Vi=3;function qc(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}qc.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xr=new rt(function(){return new qc},function(u){u.reset()});function Xt(u,f,y){var w=Xr.get();return w.g=u,w.b=f,w.f=y,w}function tt(u){if(u instanceof Pt)return u;var f=new Pt(Fe);return te(f,hr,u),f}function Xn(u){return new Pt(function(f,y){y(u)})}function Yo(u,f,y){_e(u,f,y,null)||Uc(Qt(f,u))}function M(u){return new Pt(function(f){var y=u.length,w=[];if(y)for(var D=function(U,ce,a){y--,w[U]=ce?{Qb:!0,value:a}:{Qb:!1,reason:a},0==y&&f(w)},x=0;x<u.length;x++)Yo(u[x],Qt(D,x,!0),Qt(D,x,!1));else f(w)})}function L(u,f){if(u.a==ui)if(u.c){var y=u.c;if(y.b){for(var w=0,D=null,x=null,N=y.b;N&&(N.c||(w++,N.a==u&&(D=N),!(D&&1<w)));N=N.next)D||(x=N);D&&(y.a==ui&&1==w?L(y,f):(x?((w=x).next==y.f&&(y.f=w),w.next=w.next.next):Ke(y),mt(y,D,Vi,f)))}u.c=null}else te(u,Vi,f)}function H(u,f){u.b||u.a!=hr&&u.a!=Vi||be(u),u.f?u.f.next=f:u.b=f,u.f=f}function K(u,f,y,w){var D=Xt(null,null,null);return D.a=new Pt(function(x,N){D.g=f?function(U){try{var ce=f.call(w,U);x(ce)}catch(a){N(a)}}:x,D.b=y?function(U){try{var ce=y.call(w,U);void 0===ce&&U instanceof mn?N(U):x(ce)}catch(a){N(a)}}:N}),D.a.c=u,H(u,D),D.a}function te(u,f,y){u.a==ui&&(u===y&&(f=Vi,y=new TypeError("Promise cannot resolve to itself")),u.a=1,_e(y,u.$c,u.ad,u)||(u.i=y,u.a=f,u.c=null,be(u),f!=Vi||y instanceof mn||function Tt(u,f){u.g=!0,Uc(function(){u.g&&Fr.call(null,f)})}(u,y)))}function _e(u,f,y,w){if(u instanceof Pt)return H(u,Xt(f||Fe,y||null,w)),!0;if(lr(u))return u.then(f,y,w),!0;if(_t(u))try{var D=u.then;if(xt(D))return function je(u,f,y,w,D){function x(ce){U||(U=!0,w.call(D,ce))}var U=!1;try{f.call(u,function N(ce){U||(U=!0,y.call(D,ce))},x)}catch(ce){x(ce)}}(u,D,f,y,w),!0}catch(x){return y.call(w,x),!0}return!1}function be(u){u.h||(u.h=!0,Uc(u.gc,u))}function Ke(u){var f=null;return u.b&&(u.b=(f=u.b).next,f.next=null),u.b||(u.f=null),f}function mt(u,f,y,w){if(y==Vi&&f.b&&!f.c)for(;u&&u.g;u=u.c)u.g=!1;if(f.a)f.a.c=null,vt(f,y,w);else try{f.c?f.g.call(f.f):vt(f,y,w)}catch(D){Fr.call(null,D)}ht(Xr,f)}function vt(u,f,y){f==hr?u.g.call(u.f,y):u.b&&u.b.call(u.f,y)}Pt.prototype.then=function(u,f,y){return K(this,xt(u)?u:null,xt(f)?f:null,y)},Pt.prototype.$goog_Thenable=!0,(I=Pt.prototype).oa=function(u,f){return(u=Xt(u,u,f)).c=!0,H(this,u),this},I.o=function(u,f){return K(this,null,u,f)},I.cancel=function(u){if(this.a==ui){var f=new mn(u);Uc(function(){L(this,f)},this)}},I.$c=function(u){this.a=ui,te(this,hr,u)},I.ad=function(u){this.a=ui,te(this,Vi,u)},I.gc=function(){for(var u;u=Ke(this);)mt(this,u,this.a,this.i);this.h=!1};var Fr=Is;function mn(u){et.call(this,u)}function wt(){0!=cn&&(Gt[yr(this)]=this),this.ya=this.ya,this.pa=this.pa}ft(mn,et),mn.prototype.name="cancel";var cn=0,Gt={};function Dn(u){if(!u.ya&&(u.ya=!0,u.Da(),0!=cn)){var f=yr(u);if(0!=cn&&u.pa&&0<u.pa.length)throw Error(u+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[f]}}wt.prototype.ya=!1,wt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Fn=Object.freeze||function(u){return u},nr=!wr||9<=Number(xe),Lr=wr&&!Md("9"),Ne=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{z.addEventListener("test",Fe,f),z.removeEventListener("test",Fe,f)}catch{}return u}();function We(u,f){this.type=u,this.b=this.target=f,this.defaultPrevented=!1}function Nt(u,f){if(We.call(this,u?u.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,u){var y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.b=f,f=u.relatedTarget){if(Ad){e:{try{hh(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else"mouseover"==y?f=u.fromElement:"mouseout"==y&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Gn[u.pointerType]||"",this.a=u,u.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},ft(Nt,We);var Gn=Fn({2:"touch",3:"pen",4:"mouse"});Nt.prototype.preventDefault=function(){Nt.bb.preventDefault.call(this);var u=this.a;if(u.preventDefault)u.preventDefault();else if(u.returnValue=!1,Lr)try{(u.ctrlKey||112<=u.keyCode&&123>=u.keyCode)&&(u.keyCode=-1)}catch{}},Nt.prototype.g=function(){return this.a};var Mo="closure_listenable_"+(1e6*Math.random()|0),Br=0;function Ro(u,f,y,w,D){this.listener=u,this.proxy=null,this.src=f,this.type=y,this.capture=!!w,this.Wa=D,this.key=++Br,this.wa=this.Qa=!1}function Qn(u){u.wa=!0,u.listener=null,u.proxy=null,u.src=null,u.Wa=null}function Na(u){this.src=u,this.a={},this.b=0}function Ws(u,f){var y=f.type;y in u.a&&Nn(u.a[y],f)&&(Qn(f),0==u.a[y].length&&(delete u.a[y],u.b--))}function Ft(u,f,y,w){for(var D=0;D<u.length;++D){var x=u[D];if(!x.wa&&x.listener==f&&x.capture==!!y&&x.Wa==w)return D}return-1}Na.prototype.add=function(u,f,y,w,D){var x=u.toString();(u=this.a[x])||(u=this.a[x]=[],this.b++);var N=Ft(u,f,w,D);return-1<N?(f=u[N],y||(f.Qa=!1)):((f=new Ro(f,this.src,x,!!w,D)).Qa=y,u.push(f)),f};var ku="closure_lm_"+(1e6*Math.random()|0),Ks={};function kr(u,f,y,w,D){if(w&&w.once)Ts(u,f,y,w,D);else if(Array.isArray(f))for(var x=0;x<f.length;x++)kr(u,f[x],y,w,D);else y=Xo(y),u&&u[Mo]?Pa(u,f,y,_t(w)?!!w.capture:!!w,D):Qr(u,f,y,!1,w,D)}function Qr(u,f,y,w,D,x){if(!f)throw Error("Invalid event type");var N=_t(D)?!!D.capture:!!D,U=Ys(u);if(U||(u[ku]=U=new Na(u)),!(y=U.add(f,y,w,N,x)).proxy)if(w=function $c(){var u=kd,f=nr?function(y){return u.call(f.src,f.listener,y)}:function(y){if(!(y=u.call(f.src,f.listener,y)))return y};return f}(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)Ne||(D=N),void 0===D&&(D=!1),u.addEventListener(f.toString(),w,D);else if(u.attachEvent)u.attachEvent(Ap(f.toString()),w);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(w)}}function Ts(u,f,y,w,D){if(Array.isArray(f))for(var x=0;x<f.length;x++)Ts(u,f[x],y,w,D);else y=Xo(y),u&&u[Mo]?tn(u,f,y,_t(w)?!!w.capture:!!w,D):Qr(u,f,y,!0,w,D)}function sr(u,f,y,w,D){if(Array.isArray(f))for(var x=0;x<f.length;x++)sr(u,f[x],y,w,D);else w=_t(w)?!!w.capture:!!w,y=Xo(y),u&&u[Mo]?(u=u.v,(f=String(f).toString())in u.a&&-1<(y=Ft(x=u.a[f],y,w,D))&&(Qn(x[y]),Array.prototype.splice.call(x,y,1),0==x.length&&(delete u.a[f],u.b--))):u&&(u=Ys(u))&&(f=u.a[f.toString()],u=-1,f&&(u=Ft(f,y,w,D)),(y=-1<u?f[u]:null)&&xu(y))}function xu(u){if("number"!=typeof u&&u&&!u.wa){var f=u.src;if(f&&f[Mo])Ws(f.v,u);else{var y=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(y,w,u.capture):f.detachEvent?f.detachEvent(Ap(y),w):f.addListener&&f.removeListener&&f.removeListener(w),(y=Ys(f))?(Ws(y,u),0==y.b&&(y.src=null,f[ku]=null)):Qn(u)}}}function Ap(u){return u in Ks?Ks[u]:Ks[u]="on"+u}function Mn(u,f,y,w){var D=!0;if((u=Ys(u))&&(f=u.a[f.toString()]))for(f=f.concat(),u=0;u<f.length;u++){var x=f[u];x&&x.capture==y&&!x.wa&&(x=Gc(x,w),D=D&&!1!==x)}return D}function Gc(u,f){var y=u.listener,w=u.Wa||u.src;return u.Qa&&xu(u),y.call(w,f)}function kd(u,f){if(u.wa)return!0;if(!nr){if(!f)e:{f=["window","event"];for(var y=z,w=0;w<f.length;w++)if(null==(y=y[f[w]])){f=null;break e}f=y}if(f=new Nt(w=f,this),y=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var D=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch{D=!0}(D||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],D=f.b;D;D=D.parentNode)w.push(D);for(u=u.type,D=w.length-1;0<=D;D--){f.b=w[D];var x=Mn(w[D],u,!0,f);y=y&&x}for(D=0;D<w.length;D++)f.b=w[D],x=Mn(w[D],u,!1,f),y=y&&x}return y}return Gc(u,new Nt(f,this))}function Ys(u){return(u=u[ku])instanceof Na?u:null}var Wc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(u){return xt(u)?u:(u[Wc]||(u[Wc]=function(f){return u.handleEvent(f)}),u[Wc])}function dr(){wt.call(this),this.v=new Na(this),this.bc=this,this.hb=null}function Pa(u,f,y,w,D){u.v.add(String(f),y,!1,w,D)}function tn(u,f,y,w,D){u.v.add(String(f),y,!0,w,D)}function gh(u,f,y,w){if(!(f=u.v.a[String(f)]))return!0;f=f.concat();for(var D=!0,x=0;x<f.length;++x){var N=f[x];if(N&&!N.wa&&N.capture==y){var U=N.listener,ce=N.Wa||N.src;N.Qa&&Ws(u.v,N),D=!1!==U.call(ce,w)&&D}}return D&&!w.defaultPrevented}function Si(u,f,y){if(xt(u))y&&(u=Xe(u,y));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Xe(u.handleEvent,u)}return 2147483647<Number(f)?-1:z.setTimeout(u,f||0)}function Ii(u){var f=null;return new Pt(function(y,w){-1==(f=Si(function(){y(void 0)},u))&&w(Error("Failed to schedule timer."))}).o(function(y){throw z.clearTimeout(f),y})}function xd(u){if(u.X&&"function"==typeof u.X)return u.X();if("string"==typeof u)return u.split("");if(Ut(u)){for(var f=[],y=u.length,w=0;w<y;w++)f.push(u[w]);return f}for(w in f=[],y=0,u)f[y++]=u[w];return f}function mh(u){if(u.Y&&"function"==typeof u.Y)return u.Y();if(!u.X||"function"!=typeof u.X){if(Ut(u)||"string"==typeof u){var f=[];u=u.length;for(var y=0;y<u;y++)f.push(y);return f}for(var w in f=[],y=0,u)f[y++]=w;return f}}function ci(u,f){this.b={},this.a=[],this.c=0;var y=arguments.length;if(1<y){if(y%2)throw Error("Uneven number of arguments");for(var w=0;w<y;w+=2)this.set(arguments[w],arguments[w+1])}else if(u)if(u instanceof ci)for(y=u.Y(),w=0;w<y.length;w++)this.set(y[w],u.get(y[w]));else for(w in u)this.set(w,u[w])}function Od(u){if(u.c!=u.a.length){for(var f=0,y=0;f<u.a.length;){var w=u.a[f];Xs(u.b,w)&&(u.a[y++]=w),f++}u.a.length=y}if(u.c!=u.a.length){var D={};for(y=f=0;f<u.a.length;)Xs(D,w=u.a[f])||(u.a[y++]=w,D[w]=1),f++;u.a.length=y}}function Xs(u,f){return Object.prototype.hasOwnProperty.call(u,f)}ft(dr,wt),dr.prototype[Mo]=!0,dr.prototype.addEventListener=function(u,f,y,w){kr(this,u,f,y,w)},dr.prototype.removeEventListener=function(u,f,y,w){sr(this,u,f,y,w)},dr.prototype.dispatchEvent=function(u){var f,y=this.hb;if(y)for(f=[];y;y=y.hb)f.push(y);y=this.bc;var w=u.type||u;if("string"==typeof u)u=new We(u,y);else if(u instanceof We)u.target=u.target||y;else{var D=u;ne(u=new We(w,y),D)}if(D=!0,f)for(var x=f.length-1;0<=x;x--){var N=u.b=f[x];D=gh(N,w,!0,u)&&D}if(D=gh(N=u.b=y,w,!0,u)&&D,D=gh(N,w,!1,u)&&D,f)for(x=0;x<f.length;x++)D=gh(N=u.b=f[x],w,!1,u)&&D;return D},dr.prototype.Da=function(){if(dr.bb.Da.call(this),this.v){var y,u=this.v;for(y in u.a){for(var w=u.a[y],D=0;D<w.length;D++)Qn(w[D]);delete u.a[y],u.b--}}this.hb=null},(I=ci.prototype).X=function(){Od(this);for(var u=[],f=0;f<this.a.length;f++)u.push(this.b[this.a[f]]);return u},I.Y=function(){return Od(this),this.a.concat()},I.clear=function(){this.b={},this.c=this.a.length=0},I.get=function(u,f){return Xs(this.b,u)?this.b[u]:f},I.set=function(u,f){Xs(this.b,u)||(this.c++,this.a.push(u)),this.b[u]=f},I.forEach=function(u,f){for(var y=this.Y(),w=0;w<y.length;w++){var D=y[w],x=this.get(D);u.call(f,x,D,this)}};var Mp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fa(u,f){var y;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,u instanceof Fa?(this.i=void 0!==f?f:u.i,Nd(this,u.c),this.l=u.l,this.a=u.a,Kc(this,u.g),this.f=u.f,Yc(this,Vd(u.b)),this.h=u.h):u&&(y=String(u).match(Mp))?(this.i=!!f,Nd(this,y[1]||"",!0),this.l=Xc(y[2]||""),this.a=Xc(y[3]||"",!0),Kc(this,y[4]),this.f=Xc(y[5]||"",!0),Yc(this,y[6]||"",!0),this.h=Xc(y[7]||"")):(this.i=!!f,this.b=new La(null,this.i))}function Nd(u,f,y){u.c=y?Xc(f,!0):f,u.c&&(u.c=u.c.replace(/:$/,""))}function Kc(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.g=f}else u.g=null}function Yc(u,f,y){f instanceof La?(u.b=f,function sm(u,f){f&&!u.f&&(Ba(u),u.c=null,u.a.forEach(function(y,w){var D=w.toLowerCase();w!=D&&(li(this,w),no(this,D,y))},u)),u.f=f}(u.b,u.i)):(y||(f=Ou(f,Rp)),u.b=new La(f,u.i))}function Er(u,f,y){u.b.set(f,y)}function po(u,f){return u.b.get(f)}function Ti(u){return u instanceof Fa?new Fa(u):new Fa(u,void 0)}function Pd(u,f,y,w){var D=new Fa(null,void 0);return u&&Nd(D,u),f&&(D.a=f),y&&Kc(D,y),w&&(D.f=w),D}function Xc(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ou(u,f,y){return"string"==typeof u?(u=encodeURI(u).replace(f,h_),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function h_(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Fa.prototype.toString=function(){var u=[],f=this.c;f&&u.push(Ou(f,om,!0),":");var y=this.a;return(y||"file"==f)&&(u.push("//"),(f=this.l)&&u.push(Ou(f,om,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(y=this.g)&&u.push(":",String(y))),(y=this.f)&&(this.a&&"/"!=y.charAt(0)&&u.push("/"),u.push(Ou(y,"/"==y.charAt(0)?zv:Fd,!0))),(y=this.b.toString())&&u.push("?",y),(y=this.h)&&u.push("#",Ou(y,yh)),u.join("")},Fa.prototype.resolve=function(u){var f=new Fa(this),y=!!u.c;y?Nd(f,u.c):y=!!u.l,y?f.l=u.l:y=!!u.a,y?f.a=u.a:y=null!=u.g;var w=u.f;if(y)Kc(f,u.g);else if(y=!!u.f){if("/"!=w.charAt(0))if(this.a&&!this.f)w="/"+w;else{var D=f.f.lastIndexOf("/");-1!=D&&(w=f.f.substr(0,D+1)+w)}if(".."==(D=w)||"."==D)w="";else if(Dt(D,"./")||Dt(D,"/.")){w=0==D.lastIndexOf("/",0),D=D.split("/");for(var x=[],N=0;N<D.length;){var U=D[N++];"."==U?w&&N==D.length&&x.push(""):".."==U?((1<x.length||1==x.length&&""!=x[0])&&x.pop(),w&&N==D.length&&x.push("")):(x.push(U),w=!0)}w=x.join("/")}else w=D}return y?f.f=w:y=""!==u.b.toString(),y?Yc(f,Vd(u.b)):y=!!u.h,y&&(f.h=u.h),f};var om=/[#\/\?@]/g,Fd=/[#\?:]/g,zv=/[#\?]/g,Rp=/[#\?@]/g,yh=/#/g;function La(u,f){this.b=this.a=null,this.c=u||null,this.f=!!f}function Ba(u){u.a||(u.a=new ci,u.b=0,u.c&&function Qs(u,f){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var w=u[y].indexOf("="),D=null;if(0<=w){var x=u[y].substring(0,w);D=u[y].substring(w+1)}else x=u[y];f(x,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(u.c,function(f,y){u.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}function Ld(u){var f=mh(u);if(typeof f>"u")throw Error("Keys are undefined");var y=new La(null,void 0);u=xd(u);for(var w=0;w<f.length;w++){var D=f[w],x=u[w];Array.isArray(x)?no(y,D,x):y.add(D,x)}return y}function li(u,f){Ba(u),f=Nu(u,f),Xs(u.a.b,f)&&(u.c=null,u.b-=u.a.get(f).length,Xs((u=u.a).b,f)&&(delete u.b[f],u.c--,u.a.length>2*u.c&&Od(u)))}function Bd(u,f){return Ba(u),f=Nu(u,f),Xs(u.a.b,f)}function no(u,f,y){li(u,f),0<y.length&&(u.c=null,u.a.set(Nu(u,f),Hn(y)),u.b+=y.length)}function Vd(u){var f=new La;return f.c=u.c,u.a&&(f.a=new ci(u.a),f.b=u.b),f}function Nu(u,f){return f=String(f),u.f&&(f=f.toLowerCase()),f}function jd(u){var f=[];return ji(new _h,u,f),f.join("")}function _h(){}function ji(u,f,y){if(null==f)y.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var w=f;f=w.length,y.push("[");for(var D="",x=0;x<f;x++)y.push(D),ji(u,w[x],y),D=",";return void y.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(w in y.push("{"),D="",f)Object.prototype.hasOwnProperty.call(f,w)&&"function"!=typeof(x=f[w])&&(y.push(D),Zr(w,y),y.push(":"),ji(u,x,y),D=",");return void y.push("}")}f=f.valueOf()}switch(typeof f){case"string":Zr(f,y);break;case"number":y.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":y.push(String(f));break;case"function":y.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(I=La.prototype).add=function(u,f){Ba(this),this.c=null,u=Nu(this,u);var y=this.a.get(u);return y||this.a.set(u,y=[]),y.push(f),this.b+=1,this},I.clear=function(){this.a=this.c=null,this.b=0},I.forEach=function(u,f){Ba(this),this.a.forEach(function(y,w){bn(y,function(D){u.call(f,D,w,this)},this)},this)},I.Y=function(){Ba(this);for(var u=this.a.X(),f=this.a.Y(),y=[],w=0;w<f.length;w++)for(var D=u[w],x=0;x<D.length;x++)y.push(f[w]);return y},I.X=function(u){Ba(this);var f=[];if("string"==typeof u)Bd(this,u)&&(f=gn(f,this.a.get(Nu(this,u))));else{u=this.a.X();for(var y=0;y<u.length;y++)f=gn(f,u[y])}return f},I.set=function(u,f){return Ba(this),this.c=null,Bd(this,u=Nu(this,u))&&(this.b-=this.a.get(u).length),this.a.set(u,[f]),this.b+=1,this},I.get=function(u,f){return u&&0<(u=this.X(u)).length?String(u[0]):f},I.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var u=[],f=this.a.Y(),y=0;y<f.length;y++){var w=f[y],D=encodeURIComponent(String(w));w=this.X(w);for(var x=0;x<w.length;x++){var N=D;""!==w[x]&&(N+="="+encodeURIComponent(String(w[x]))),u.push(N)}}return this.c=u.join("&")};var bh={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},am=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zr(u,f){f.push('"',u.replace(am,function(y){var w=bh[y];return w||(w="\\u"+(65536|y.charCodeAt(0)).toString(16).substr(1),bh[y]=w),w}),'"')}function Qc(){var u=ei();return wr&&!!xe&&11==xe||/Edge\/\d+/.test(u)}function Zc(){return z.window&&z.window.location.href||self&&self.location&&self.location.href||""}function Pu(u,f){f=f||z.window;var y="about:blank";u&&(y=zo($o(u)||Ds)),f.location.href=y}function kp(u,f){var w,y=[];for(w in u)w in f?typeof u[w]!=typeof f[w]?y.push(w):"object"==typeof u[w]&&null!=u[w]&&null!=f[w]?0<kp(u[w],f[w]).length&&y.push(w):u[w]!==f[w]&&y.push(w):y.push(w);for(w in f)w in u||y.push(w);return y}function ar(u){return!!((u=(u||ei()).toLowerCase()).match(/android/)||u.match(/webos/)||u.match(/iphone|ipad|ipod/)||u.match(/blackberry/)||u.match(/windows phone/)||u.match(/iemobile/))}function Va(u){u=u||z.window;try{u.close()}catch{}}function wh(u,f,y){var w=Math.floor(1e9*Math.random()).toString();f=f||500,y=y||600;var D=(window.screen.availHeight-y)/2,x=(window.screen.availWidth-f)/2;for(N in f={width:f,height:y,top:0<D?D:0,left:0<x?x:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},y=ei().toLowerCase(),w&&(f.target=w,Dt(y,"crios/")&&(f.target="_blank")),at(ei())==Fu&&(u=u||"http://localhost",f.scrollbars=!0),y=u||"",(u=f)||(u={}),w=window,f=y instanceof gt?y:$o(typeof y.href<"u"?y.href:String(y))||Ds,y=u.target||y.target,D=[],u)switch(N){case"width":case"height":case"top":case"left":D.push(N+"="+u[N]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(N+"="+(u[N]?1:0))}var N=D.join(",");if((Pn("iPhone")&&!Pn("iPod")&&!Pn("iPad")||Pn("iPad")||Pn("iPod"))&&w.navigator&&w.navigator.standalone&&y&&"_self"!=y?(X(N=Gs(document,"A"),"HTMLAnchorElement"),f=f instanceof gt?f:ch(f),N.href=zo(f),N.setAttribute("target",y),u.noreferrer&&N.setAttribute("rel","noreferrer"),(u=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,w,1),N.dispatchEvent(u),N={}):u.noreferrer?(N=Ta("",w,y,N),u=zo(f),N&&(Tu&&Dt(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),N.opener=null,u='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Rr(u)+'">',u=new lt(u=(w=Mr())?w.createHTML(u):u,null,lh),w=N.document)&&(w.write(function un(u){return u instanceof lt&&u.constructor===lt?u.a:($e("expected object of type SafeHtml, got '"+u+"' of type "+jt(u)),"type_error:SafeHtml")}(u)),w.close())):(N=Ta(f,w,y,N))&&u.noopener&&(N.opener=null),N)try{N.focus()}catch{}return N}var Qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d_=/^[^@]+@[^@]+$/;function Jr(){var u=null;return new Pt(function(f){"complete"==z.document.readyState?f():(u=function(){f()},Ts(window,"load",u))}).o(function(f){throw sr(window,"load",u),f})}function ge(u){return u=u||ei(),!("file:"!==re()&&"ionic:"!==re()||!u.toLowerCase().match(/iphone|ipad|ipod|android/))}function ro(){var u=z.window;try{return!(!u||u==u.top)}catch{return!1}}function Ai(){return typeof z.WorkerGlobalScope<"u"&&"function"==typeof z.importScripts}function Se(){return me.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":me.Z.INTERNAL.hasOwnProperty("node")?"Node":Ai()?"Worker":"Browser"}function Ln(){var u=Se();return"ReactNative"===u||"Node"===u}var Fu="Firefox";function at(u){var f=u.toLowerCase();return Dt(f,"opera/")||Dt(f,"opr/")||Dt(f,"opios/")?"Opera":Dt(f,"iemobile")?"IEMobile":Dt(f,"msie")||Dt(f,"trident/")?"IE":Dt(f,"edge/")?"Edge":Dt(f,"firefox/")?Fu:Dt(f,"silk/")?"Silk":Dt(f,"blackberry")?"Blackberry":Dt(f,"webos")?"Webos":!Dt(f,"safari/")||Dt(f,"chrome/")||Dt(f,"crios/")||Dt(f,"android")?!Dt(f,"chrome/")&&!Dt(f,"crios/")||Dt(f,"edge/")?Dt(f,"android")?"Android":(u=u.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==u.length?u[1]:"Other":"Chrome":"Safari"}var Be={md:"FirebaseCore-web",od:"FirebaseUI-web"};function el(u,f){f=f||[];var D,y=[],w={};for(D in Be)w[Be[D]]=!0;for(D=0;D<f.length;D++)typeof w[f[D]]<"u"&&(delete w[f[D]],y.push(f[D]));return y.sort(),(f=y).length||(f=["FirebaseCore-web"]),"Browser"===(y=Se())?y=at(w=ei()):"Worker"===y&&(y=at(w=ei())+"-"+y),y+"/JsCore/"+u+"/"+f.join(",")}function ei(){return z.navigator&&z.navigator.userAgent||""}function Qe(u,f){u=u.split("."),f=f||z;for(var y=0;y<u.length&&"object"==typeof f&&null!=f;y++)f=f[u[y]];return y!=u.length&&(f=void 0),f}function Zs(){try{var u=z.localStorage,f=Kt();if(u)return u.setItem(f,"1"),u.removeItem(f),!Qc()||!!z.indexedDB}catch{return Ai()&&!!z.indexedDB}return!1}function ja(){return(hi()||"chrome-extension:"===re()||ge())&&!Ln()&&Zs()&&!Ai()}function hi(){return"http:"===re()||"https:"===re()}function re(){return z.location&&z.location.protocol||null}function Wt(u){return!(ar(u=u||ei())||at(u)==Fu)}function xr(u){return typeof u>"u"?null:jd(u)}function ko(u){var y,f={};for(y in u)u.hasOwnProperty(y)&&null!=u[y]&&(f[y]=u[y]);return f}function Zn(u){if(null!==u)return JSON.parse(u)}function Kt(u){return u||Math.floor(1e9*Math.random()).toString()}function tl(u){return!("Safari"==at(u=u||ei())||u.toLowerCase().match(/iphone|ipad|ipod/))}function Cr(){var u=z.___jsl;if(u&&u.H)for(var f in u.H)if(u.H[f].r=u.H[f].r||[],u.H[f].L=u.H[f].L||[],u.H[f].r=u.H[f].L.concat(),u.CP)for(var y=0;y<u.CP.length;y++)u.CP[y]=null}function Ui(u,f){if(u>f)throw Error("Short delay should be less than long delay!");this.a=u,this.c=f,u=ei(),f=Se(),this.b=ar(u)||"ReactNative"===f}function Vr(){var u=z.document;return!(u&&typeof u.visibilityState<"u")||"visible"==u.visibilityState}function xo(u){try{var f=new Date(parseInt(u,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(u))return f.toUTCString()}catch{}return null}function Or(){return!(!Qe("fireauth.oauthhelper",z)&&!Qe("fireauth.iframe",z))}Ui.prototype.get=function(){var u=z.navigator;return u&&"boolean"==typeof u.onLine&&(hi()||"chrome-extension:"===re()||typeof u.connection<"u")&&!u.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var io,Zo={};function Ua(u){Zo[u]||(Zo[u]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(u))}try{var oo={};Object.defineProperty(oo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(oo,"abcd",{configurable:!0,enumerable:!0,value:2}),io=2==oo.abcd}catch{io=!1}function Ge(u,f,y){io?Object.defineProperty(u,f,{configurable:!0,enumerable:!0,value:y}):u[f]=y}function Ue(u,f){if(f)for(var y in f)f.hasOwnProperty(y)&&Ge(u,y,f[y])}function Mi(u){var f={};return Ue(f,u),f}function Ms(u){var f=u;if("object"==typeof u&&null!=u)for(var y in f="length"in u?[]:{},u)Ge(f,y,Ms(u[y]));return f}function Ch(u){var f=u&&(u[nl]?"phone":null);if(!(f&&u&&u[ju]))throw new B("internal-error","Internal assert: invalid MultiFactorInfo object");Ge(this,"uid",u[ju]),Ge(this,"displayName",u[Ud]||null);var y=null;u[Vu]&&(y=new Date(u[Vu]).toUTCString()),Ge(this,"enrollmentTime",y),Ge(this,"factorId",f)}function Bu(u){try{var f=new Uu(u)}catch{f=null}return f}Ch.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ud="displayName",Vu="enrolledAt",ju="mfaEnrollmentId",nl="phoneInfo";function Uu(u){Ch.call(this,u),Ge(this,"phoneNumber",u[nl])}function xp(u){var f={},y=u[um],w=u[Ha],D=u[ur];if(u=Bu(u[Sn]),!D||D!=Rs&&D!=fi&&!y||D==fi&&!w||D==Hu&&!u)throw Error("Invalid checkActionCode response!");D==fi?(f[Dh]=y||null,f[so]=y||null,f[rl]=w):(f[Dh]=w||null,f[so]=w||null,f[rl]=y||null),f[Hd]=u||null,Ge(this,Wv,D),Ge(this,Gv,Ms(f))}ft(Uu,Ch),Uu.prototype.w=function(){var u=Uu.bb.w.call(this);return u.phoneNumber=this.phoneNumber,u};var Hu="REVERT_SECOND_FACTOR_ADDITION",Rs="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",um="email",Sn="mfaInfo",Ha="newEmail",ur="requestType",rl="email",Dh="fromEmail",Hd="multiFactorInfo",so="previousEmail",Gv="data",Wv="operation";function il(u){var f=po(u=Ti(u),ol)||null,y=po(u,Sh)||null,w=po(u,lm)||null;if(w=w&&qa[w]||null,!f||!y||!w)throw new B("argument-error",ol+", "+Sh+"and "+lm+" are required in a valid action code URL.");Ue(this,{apiKey:f,operation:w,code:y,continueUrl:po(u,Op)||null,languageCode:po(u,cm)||null,tenantId:po(u,Oo)||null})}var ol="apiKey",Sh="oobCode",Op="continueUrl",cm="languageCode",lm="mode",Oo="tenantId",qa={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Hu,signIn:Rs,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function qu(u){try{return new il(u)}catch{return null}}function qd(u){var f=u[Th];if(typeof f>"u")throw new B("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new B("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var y=u[zu];if(y&&"object"==typeof y){f=y[Ah];var w=y[zd];if(y=y[za],"string"==typeof f&&f.length){if(this.a=f,typeof w<"u"&&"boolean"!=typeof w)throw new B("argument-error",zd+" property must be a boolean when specified.");if(this.g=!!w,typeof y<"u"&&("string"!=typeof y||"string"==typeof y&&!y.length))throw new B("argument-error",za+" property must be a non empty string when specified.");this.b=y||null}else{if(typeof f<"u")throw new B("argument-error",Ah+" property must be a non empty string when specified.");if(typeof w<"u"||typeof y<"u")throw new B("missing-android-pkg-name")}}else if(typeof y<"u")throw new B("argument-error",zu+" property must be a non null object when specified.");if(this.f=null,(f=u[Np])&&"object"==typeof f){if("string"==typeof(f=f[Mh])&&f.length)this.f=f;else if(typeof f<"u")throw new B("argument-error",Mh+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new B("argument-error",Np+" property must be a non null object when specified.");if(typeof(f=u[Jo])<"u"&&"boolean"!=typeof f)throw new B("argument-error",Jo+" property must be a boolean when specified.");if(this.c=!!f,typeof(u=u[Ih])<"u"&&("string"!=typeof u||"string"==typeof u&&!u.length))throw new B("argument-error",Ih+" property must be a non empty string when specified.");this.i=u||null}var zu="android",Ih="dynamicLinkDomain",Jo="handleCodeInApp",Np="iOS",Th="url",zd="installApp",za="minimumVersion",Ah="packageName",Mh="bundleId";function ea(u){var f={};for(var y in f.continueUrl=u.h,f.canHandleCodeInApp=u.c,(f.androidPackageName=u.a)&&(f.androidMinimumVersion=u.b,f.androidInstallApp=u.g),f.iOSBundleId=u.f,f.dynamicLinkDomain=u.i,f)null===f[y]&&delete f[y];return f}var pi=null;function $a(u){var f=hm(u);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=u,this.a=f.exp,this.i=f.sub,u=Date.now()/1e3,this.g=f.iat||(u>this.a?this.a:u),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function es(u){try{return new $a(u)}catch{return null}}function hm(u){if(!u||3!=(u=u.split(".")).length)return null;for(var f=(4-(u=u[1]).length%4)%4,y=0;y<f;y++)u+=".";try{var w=function Gu(u){var f=[];return function Rh(u,f){function y(ce){for(;w<u.length;){var a=u.charAt(w++),s=pi[a];if(null!=s)return s;if(!/^[\s\xa0]*$/.test(a))throw Error("Unknown base64 encoding at char: "+a)}return ce}!function Wu(){if(!pi){pi={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++)for(var w=u.concat(f[y].split("")),D=0;D<w.length;D++){var x=w[D];void 0===pi[x]&&(pi[x]=D)}}}();for(var w=0;;){var D=y(-1),x=y(0),N=y(64),U=y(64);if(64===U&&-1===D)break;f(D<<2|x>>4),64!=N&&(f(x<<4&240|N>>2),64!=U&&f(N<<6&192|U))}}(u,function(y){f.push(y)}),f}(u);for(u=[],y=f=0;f<w.length;){var D=w[f++];if(128>D)u[y++]=String.fromCharCode(D);else if(191<D&&224>D){var x=w[f++];u[y++]=String.fromCharCode((31&D)<<6|63&x)}else if(239<D&&365>D){x=w[f++];var N=w[f++],ce=((7&D)<<18|(63&x)<<12|(63&N)<<6|63&w[f++])-65536;u[y++]=String.fromCharCode(55296+(ce>>10)),u[y++]=String.fromCharCode(56320+(1023&ce))}else x=w[f++],N=w[f++],u[y++]=String.fromCharCode((15&D)<<12|(63&x)<<6|63&N)}return JSON.parse(u.join(""))}catch{}return null}$a.prototype.T=function(){return this.f},$a.prototype.l=function(){return this.c},$a.prototype.toString=function(){return this.h};var Pp="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),sl=["client_id","response_type","scope","redirect_uri","state"],$d={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:sl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:sl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:sl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Pp},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function go(u){for(var f in $d)if($d[f].fa==u)return $d[f];return null}function kh(u){var f={};f["facebook.com"]=ts,f["google.com"]=ta,f["github.com"]=Fp,f["twitter.com"]=Wd;var y=u&&u[Gd];try{if(y)return f[y]?new f[y](u):new ti(u);if(typeof u[Ku]<"u")return new al(u)}catch{}return null}var Ku="idToken",Gd="providerId";function al(u){var f=u[Gd];if(!f&&u[Ku]){var y=es(u[Ku]);y&&y.b&&(f=y.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),y=!1,typeof u.isNewUser<"u"?y=!!u.isNewUser:"identitytoolkit#SignupNewUserResponse"===u.kind&&(y=!0),Ge(this,"providerId",f),Ge(this,"isNewUser",y)}function ti(u){al.call(this,u),Ge(this,"profile",Ms((u=Zn(u.rawUserInfo||"{}"))||{}))}function ts(u){if(ti.call(this,u),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fp(u){if(ti.call(this,u),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ge(this,"username",this.profile&&this.profile.login||null)}function ta(u){if(ti.call(this,u),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wd(u){if(ti.call(this,u),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ge(this,"username",u.screenName||null)}function Ga(u){var f=Ti(u),y=po(f,"link"),w=po(Ti(y),"link");return f=po(f,"deep_link_id"),po(Ti(f),"link")||f||w||y||u}function ul(u,f){if(!u&&!f)throw new B("internal-error","Internal assert: no raw session string available");if(u&&f)throw new B("internal-error","Internal assert: unable to determine the session type");this.a=u||null,this.b=f||null,this.type=this.a?cl:ns}ft(ti,al),ft(ts,ti),ft(Fp,ti),ft(ta,ti),ft(Wd,ti);var cl="enroll",ns="signin";function ks(){}function Dr(u,f){return u.then(function(y){if(y[us]){var w=es(y[us]);if(!w||f!=w.i)throw new B("user-mismatch");return y}throw new B("user-mismatch")}).o(function(y){throw y&&y.code&&y.code==ye+"user-not-found"?new B("user-mismatch"):y})}function rs(u,f){if(!f)throw new B("internal-error","failed to construct a credential");this.a=f,Ge(this,"providerId",u),Ge(this,"signInMethod",u)}function Yu(u){return{pendingToken:u.a,requestUri:"http://localhost"}}function ll(u){if(u&&u.providerId&&u.signInMethod&&0==u.providerId.indexOf("saml.")&&u.pendingToken)try{return new rs(u.providerId,u.pendingToken)}catch{}return null}function is(u,f,y){if(this.a=null,f.idToken||f.accessToken)f.idToken&&Ge(this,"idToken",f.idToken),f.accessToken&&Ge(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&Ge(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new B("internal-error","failed to construct a credential");Ge(this,"accessToken",f.oauthToken),Ge(this,"secret",f.oauthTokenSecret)}Ge(this,"providerId",u),Ge(this,"signInMethod",y)}function Lp(u){var f={};return u.idToken&&(f.id_token=u.idToken),u.accessToken&&(f.access_token=u.accessToken),u.secret&&(f.oauth_token_secret=u.secret),f.providerId=u.providerId,u.nonce&&!u.a&&(f.nonce=u.nonce),f={postBody:Ld(f).toString(),requestUri:"http://localhost"},u.a&&(delete f.postBody,f.pendingToken=u.a),f}function Kd(u){if(u&&u.providerId&&u.signInMethod){var f={idToken:u.oauthIdToken,accessToken:u.oauthTokenSecret?null:u.oauthAccessToken,oauthTokenSecret:u.oauthTokenSecret,oauthToken:u.oauthTokenSecret&&u.oauthAccessToken,nonce:u.nonce,pendingToken:u.pendingToken};try{return new is(u.providerId,f,u.signInMethod)}catch{}}return null}function Wa(u,f){this.Qc=f||[],Ue(this,{providerId:u,isOAuthProvider:!0}),this.Jb={},this.qb=(go(u)||{}).Ja||null,this.pb=null}function Xu(u){if("string"!=typeof u||0!=u.indexOf("saml."))throw new B("argument-error",'SAML provider IDs must be prefixed with "saml."');Wa.call(this,u,[])}function Jn(u){Wa.call(this,u,sl),this.a=[]}function mo(){Jn.call(this,"facebook.com")}function Ka(u){if(!u)throw new B("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return _t(u)&&(f=u.accessToken),(new mo).credential({accessToken:f})}function vo(){Jn.call(this,"github.com")}function fr(u){if(!u)throw new B("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return _t(u)&&(f=u.accessToken),(new vo).credential({accessToken:f})}function Lt(){Jn.call(this,"google.com"),this.Ca("profile")}function os(u,f){var y=u;return _t(u)&&(y=u.idToken,f=u.accessToken),(new Lt).credential({idToken:y,accessToken:f})}function Qu(){Wa.call(this,"twitter.com",Pp)}function dm(u,f){var y=u;if(_t(y)||(y={oauthToken:u,oauthTokenSecret:f}),!y.oauthToken||!y.oauthTokenSecret)throw new B("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new is("twitter.com",y,"twitter.com")}function Le(u,f,y){this.a=u,this.f=f,Ge(this,"providerId","password"),Ge(this,"signInMethod",y===Wn.EMAIL_LINK_SIGN_IN_METHOD?Wn.EMAIL_LINK_SIGN_IN_METHOD:Wn.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Kv(u){return u&&u.email&&u.password?new Le(u.email,u.password,u.signInMethod):null}function Wn(){Ue(this,{providerId:"password",isOAuthProvider:!1})}function Yd(u,f){if(!(f=na(f)))throw new B("argument-error","Invalid email link!");return new Le(u,f.code,Wn.EMAIL_LINK_SIGN_IN_METHOD)}function na(u){return(u=qu(u=Ga(u)))&&u.operation===Rs?u:null}function er(u){if(!(u.fb&&u.eb||u.La&&u.ea))throw new B("internal-error");this.a=u,Ge(this,"providerId","phone"),this.fa="phone",Ge(this,"signInMethod","phone")}function Yv(u){if(u&&"phone"===u.providerId&&(u.verificationId&&u.verificationCode||u.temporaryProof&&u.phoneNumber)){var f={};return bn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(y){u[y]&&(f[y]=u[y])}),new er(f)}return null}function Xd(u){return u.a.La&&u.a.ea?{temporaryProof:u.a.La,phoneNumber:u.a.ea}:{sessionInfo:u.a.fb,code:u.a.eb}}function rr(u){try{this.a=u||me.Z.auth()}catch{throw new B("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ue(this,{providerId:"phone",isOAuthProvider:!1})}function Xv(u,f){if(!u)throw new B("missing-verification-id");if(!f)throw new B("missing-verification-code");return new er({fb:u,eb:f})}function Qd(u){if(u.temporaryProof&&u.phoneNumber)return new er({La:u.temporaryProof,ea:u.phoneNumber});var f=u&&u.providerId;if(!f||"password"===f)return null;var y=u&&u.oauthAccessToken,w=u&&u.oauthTokenSecret,D=u&&u.nonce,x=u&&u.oauthIdToken,N=u&&u.pendingToken;try{switch(f){case"google.com":return os(x,y);case"facebook.com":return Ka(y);case"github.com":return fr(y);case"twitter.com":return dm(y,w);default:return y||w||x||N?N?0==f.indexOf("saml.")?new rs(f,N):new is(f,{pendingToken:N,idToken:u.oauthIdToken,accessToken:u.oauthAccessToken},f):new Jn(f).credential({idToken:x,accessToken:y,rawNonce:D}):null}}catch{return null}}function Sr(u){if(!u.isOAuthProvider)throw new B("invalid-oauth-provider")}function ao(u,f,y,w,D,x,N){if(this.c=u,this.b=f||null,this.g=y||null,this.f=w||null,this.i=x||null,this.h=N||null,this.a=D||null,!this.g&&!this.a)throw new B("invalid-auth-event");if(this.g&&this.a)throw new B("invalid-auth-event");if(this.g&&!this.f)throw new B("invalid-auth-event")}function hl(u){return(u=u||{}).type?new ao(u.type,u.eventId,u.urlResponse,u.sessionId,u.error&&ve(u.error),u.postBody,u.tenantId):null}function Bn(){this.b=null,this.a=[]}ul.prototype.Ha=function(){return tt(this.a?this.a:this.b)},ul.prototype.w=function(){return this.type==cl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ks.prototype.ka=function(){},ks.prototype.b=function(){},ks.prototype.c=function(){},ks.prototype.w=function(){},rs.prototype.ka=function(u){return Kp(u,Yu(this))},rs.prototype.b=function(u,f){var y=Yu(this);return y.idToken=f,Lh(u,y)},rs.prototype.c=function(u,f){return Dr(lf(u,Yu(this)),f)},rs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},is.prototype.ka=function(u){return Kp(u,Lp(this))},is.prototype.b=function(u,f){var y=Lp(this);return y.idToken=f,Lh(u,y)},is.prototype.c=function(u,f){return Dr(lf(u,Lp(this)),f)},is.prototype.w=function(){var u={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(u.oauthIdToken=this.idToken),this.accessToken&&(u.oauthAccessToken=this.accessToken),this.secret&&(u.oauthTokenSecret=this.secret),this.nonce&&(u.nonce=this.nonce),this.a&&(u.pendingToken=this.a),u},Wa.prototype.Ka=function(u){return this.Jb=G(u),this},ft(Xu,Wa),ft(Jn,Wa),Jn.prototype.Ca=function(u){return xn(this.a,u)||this.a.push(u),this},Jn.prototype.Rb=function(){return Hn(this.a)},Jn.prototype.credential=function(u,f){var y;if(!(y=_t(u)?{idToken:u.idToken||null,accessToken:u.accessToken||null,nonce:u.rawNonce||null}:{idToken:u||null,accessToken:f||null}).idToken&&!y.accessToken)throw new B("argument-error","credential failed: must provide the ID token and/or the access token.");return new is(this.providerId,y,this.providerId)},ft(mo,Jn),Ge(mo,"PROVIDER_ID","facebook.com"),Ge(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),ft(vo,Jn),Ge(vo,"PROVIDER_ID","github.com"),Ge(vo,"GITHUB_SIGN_IN_METHOD","github.com"),ft(Lt,Jn),Ge(Lt,"PROVIDER_ID","google.com"),Ge(Lt,"GOOGLE_SIGN_IN_METHOD","google.com"),ft(Qu,Wa),Ge(Qu,"PROVIDER_ID","twitter.com"),Ge(Qu,"TWITTER_SIGN_IN_METHOD","twitter.com"),Le.prototype.ka=function(u){return this.signInMethod==Wn.EMAIL_LINK_SIGN_IN_METHOD?nn(u,cs,{email:this.a,oobCode:this.f}):nn(u,ff,{email:this.a,password:this.f})},Le.prototype.b=function(u,f){return this.signInMethod==Wn.EMAIL_LINK_SIGN_IN_METHOD?nn(u,Za,{idToken:f,email:this.a,oobCode:this.f}):nn(u,eg,{idToken:f,email:this.a,password:this.f})},Le.prototype.c=function(u,f){return Dr(this.ka(u),f)},Le.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ue(Wn,{PROVIDER_ID:"password"}),Ue(Wn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ue(Wn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),er.prototype.ka=function(u){return u.gb(Xd(this))},er.prototype.b=function(u,f){var y=Xd(this);return y.idToken=f,nn(u,Bh,y)},er.prototype.c=function(u,f){var y=Xd(this);return y.operation="REAUTH",Dr(u=nn(u,pf,y),f)},er.prototype.w=function(){var u={providerId:"phone"};return this.a.fb&&(u.verificationId=this.a.fb),this.a.eb&&(u.verificationCode=this.a.eb),this.a.La&&(u.temporaryProof=this.a.La),this.a.ea&&(u.phoneNumber=this.a.ea),u},rr.prototype.gb=function(u,f){var y=this.a.a;return tt(f.verify()).then(function(w){if("string"!=typeof w)throw new B("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var N,D=_t(u)?u.session:null,x=_t(u)?u.phoneNumber:u;return N=D&&D.type==cl?D.Ha().then(function(U){return function co(u,f){return nn(u,ty,f).then(function(y){return y.phoneSessionInfo.sessionInfo})}(y,{idToken:U,phoneEnrollmentInfo:{phoneNumber:x,recaptchaToken:w}})}):D&&D.type==ns?D.Ha().then(function(U){return function Zv(u,f){return nn(u,Sm,f).then(function(y){return y.phoneResponseInfo.sessionInfo})}(y,{mfaPendingCredential:U,mfaEnrollmentId:u.multiFactorHint&&u.multiFactorHint.uid||u.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):function Fh(u,f){return nn(u,Jp,f)}(y,{phoneNumber:x,recaptchaToken:w}),N.then(function(U){return"function"==typeof f.reset&&f.reset(),U},function(U){throw"function"==typeof f.reset&&f.reset(),U})}throw new B("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Ue(rr,{PROVIDER_ID:"phone"}),Ue(rr,{PHONE_SIGN_IN_METHOD:"phone"}),ao.prototype.getUid=function(){var u=[];return u.push(this.c),this.b&&u.push(this.b),this.f&&u.push(this.f),this.h&&u.push(this.h),u.join("-")},ao.prototype.T=function(){return this.h},ao.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Jd,Bp=null;function yo(u){var f="unauthorized-domain",y=void 0,w=Ti(u);u=w.a,"chrome-extension"==(w=w.c)?y=Go("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):"http"==w||"https"==w?y=Go("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):f="operation-not-supported-in-this-environment",B.call(this,f,y)}function Ya(u,f,y){B.call(this,u,y),(u=f||{}).Kb&&Ge(this,"email",u.Kb),u.ea&&Ge(this,"phoneNumber",u.ea),u.credential&&Ge(this,"credential",u.credential),u.$b&&Ge(this,"tenantId",u.$b)}function xs(u){if(u.code){var f=u.code||"";0==f.indexOf(ye)&&(f=f.substring(ye.length));var y={credential:Qd(u),$b:u.tenantId};if(u.email)y.Kb=u.email;else if(u.phoneNumber)y.ea=u.phoneNumber;else if(!y.credential)return new B(f,u.message||void 0);return new Ya(f,y,u.message)}return null}function Os(){}function ef(){}function fm(u){if(!u.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],y=0;y<f.length;y++){var w=f[y];try{return new ActiveXObject(w),u.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return u.f}function tf(){}function Vp(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Xe(this.qc,this),this.a.onerror=Xe(this.Tb,this),this.a.onprogress=Xe(this.rc,this),this.a.ontimeout=Xe(this.vc,this)}function Hi(u,f){u.readyState=f,u.onreadystatechange&&u.onreadystatechange()}function xh(u,f,y){this.reset(u,f,y,void 0,void 0)}function jp(u){this.f=u,this.b=this.c=this.a=null}function dl(u,f){this.name=u,this.value=f}ft(yo,B),ft(Ya,B),Ya.prototype.w=function(){var u={code:this.code,message:this.message};this.email&&(u.email=this.email),this.phoneNumber&&(u.phoneNumber=this.phoneNumber),this.tenantId&&(u.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&ne(u,f),u},Ya.prototype.toJSON=function(){return this.w()},Os.prototype.c=null,ft(ef,Os),ef.prototype.a=function(){var u=fm(this);return u?new ActiveXObject(u):new XMLHttpRequest},ef.prototype.b=function(){var u={};return fm(this)&&(u[0]=!0,u[1]=!0),u},Jd=new ef,ft(tf,Os),tf.prototype.a=function(){var u=new XMLHttpRequest;if("withCredentials"in u)return u;if(typeof XDomainRequest<"u")return new Vp;throw Error("Unsupported browser")},tf.prototype.b=function(){return{}},(I=Vp.prototype).open=function(u,f,y){if(null!=y&&!y)throw Error("Only async requests are supported.");this.a.open(u,f)},I.send=function(u){if(u){if("string"!=typeof u)throw Error("Only string data is supported");this.a.send(u)}else this.a.send()},I.abort=function(){this.a.abort()},I.setRequestHeader=function(){},I.getResponseHeader=function(u){return"content-type"==u.toLowerCase()?this.a.contentType:""},I.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Hi(this,4)},I.Tb=function(){this.status=500,this.response=this.responseText="",Hi(this,4)},I.vc=function(){this.Tb()},I.rc=function(){this.status=200,Hi(this,1)},I.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},xh.prototype.a=null,xh.prototype.reset=function(u,f,y,w,D){w||Ji(),delete this.a},dl.prototype.toString=function(){return this.name};var jr=new dl("SEVERE",1e3),Oh=new dl("WARNING",900),pm=new dl("CONFIG",700),Nh=new dl("FINE",500);function ss(u){return u.c?u.c:u.a?ss(u.a):($e("Root logger has no level set."),null)}jp.prototype.log=function(u,f,y){if(u.value>=ss(this).value)for(xt(f)&&(f=f()),u=new xh(u,String(f),this.f),y&&(u.a=y),y=this;y;)y=y.a};var Ph={},Zu=null;function Ps(u){var f;if(Zu||(Zu=new jp(""),Ph[""]=Zu,Zu.c=pm),!(f=Ph[u])){f=new jp(u);var y=u.lastIndexOf("."),w=u.substr(y+1);(y=Ps(u.substr(0,y))).b||(y.b={}),y.b[w]=f,f.a=y,Ph[u]=f}return f}function No(u,f){u&&u.log(Nh,f,void 0)}function ra(u){this.f=u}function Ju(u){dr.call(this),this.u=u,this.h=void 0,this.readyState=ia,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ps("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}ft(ra,Os),ra.prototype.a=function(){return new Ju(this.f)},ra.prototype.b=function(u){return function(){return u}}({}),ft(Ju,dr);var ia=0;function Up(u){u.c.read().then(u.pc.bind(u)).catch(u.Va.bind(u))}function fl(u){u.readyState=4,u.g=null,u.c=null,u.m=null,pl(u)}function pl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}function ec(u){dr.call(this),this.headers=new ci,this.D=u||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=tc,this.u=this.S=!1}(I=Ju.prototype).open=function(u,f){if(this.readyState!=ia)throw this.abort(),Error("Error reopening a connection");this.s=u,this.f=f,this.readyState=1,pl(this)},I.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};u&&(f.body=u),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},I.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,fl(this)),this.readyState=ia},I.uc=function(u){this.a&&(this.g=u,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=u.headers,this.readyState=2,pl(this)),this.a&&(this.readyState=3,pl(this),this.a&&("arraybuffer"===this.responseType?u.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof z.ReadableStream<"u"&&"body"in u?(this.response=this.responseText="",this.c=u.body.getReader(),this.m=new TextDecoder,Up(this)):u.text().then(this.tc.bind(this),this.Va.bind(this)))))},I.pc=function(u){if(this.a){var f=this.m.decode(u.value?u.value:new Uint8Array(0),{stream:!u.done});f&&(this.response=this.responseText+=f),u.done?fl(this):pl(this),3==this.readyState&&Up(this)}},I.tc=function(u){this.a&&(this.response=this.responseText=u,fl(this))},I.sc=function(u){this.a&&(this.response=u,fl(this))},I.Va=function(u){var f=this.i;f&&f.log(Oh,"Failed to fetch url "+this.f,u instanceof Error?u:Error(u)),this.a&&fl(this)},I.setRequestHeader=function(u,f){this.l.append(u,f)},I.getResponseHeader=function(u){return this.b?this.b.get(u.toLowerCase())||"":((u=this.i)&&u.log(Oh,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},I.getAllResponseHeaders=function(){if(!this.b){var u=this.i;return u&&u.log(Oh,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}u=[];for(var f=this.b.entries(),y=f.next();!y.done;)u.push((y=y.value)[0]+": "+y[1]),y=f.next();return u.join("\r\n")},Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(u){this.h=u?"include":"same-origin"}}),ft(ec,dr);var tc="";ec.prototype.b=Ps("goog.net.XhrIo");var nc=/^https?$/i,gm=["POST","PUT"];function Rn(u){return"content-type"==u.toLowerCase()}function oa(u,f){u.c=!1,u.a&&(u.f=!0,u.a.abort(),u.f=!1),u.h=f,gl(u),nf(u)}function gl(u){u.J||(u.J=!0,u.dispatchEvent("complete"),u.dispatchEvent("error"))}function vm(u){if(u.c&&typeof se<"u")if(u.C[1]&&4==gi(u)&&2==as(u))No(u.b,pr(u,"Local request error detected and ignored"));else if(u.i&&4==gi(u))Si(u.Wb,0,u);else if(u.dispatchEvent("readystatechange"),4==gi(u)){No(u.b,pr(u,"Request complete")),u.c=!1;try{var w,f=as(u);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}if(!(w=y)){var D;if(D=0===f){var x=String(u.l).match(Mp)[1]||null;if(!x&&z.self&&z.self.location){var N=z.self.location.protocol;x=N.substr(0,N.length-1)}D=!nc.test(x?x.toLowerCase():"")}w=D}if(w)u.dispatchEvent("complete"),u.dispatchEvent("success");else{try{var U=2<gi(u)?u.a.statusText:""}catch(ce){No(u.b,"Can not get status: "+ce.message),U=""}u.h=U+" ["+as(u)+"]",gl(u)}}finally{nf(u)}}}function nf(u,f){if(u.a){Hp(u);var y=u.a,w=u.C[0]?Fe:null;u.a=null,u.C=null,f||u.dispatchEvent("ready");try{y.onreadystatechange=w}catch(D){(u=u.b)&&u.log(jr,"Problem encountered resetting onreadystatechange: "+D.message,void 0)}}}function Hp(u){u.a&&u.u&&(u.a.ontimeout=null),u.s&&(z.clearTimeout(u.s),u.s=null)}function gi(u){return u.a?u.a.readyState:0}function as(u){try{return 2<gi(u)?u.a.status:-1}catch{return-1}}function pr(u,f){return f+" ["+u.P+" "+u.l+" "+as(u)+"]"}function rc(u){var f=Xa;this.g=[],this.u=f,this.s=u||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ni(u,f,y){u.a=!0,u.c=y,u.f=!f,_m(u)}function qi(u){if(u.a){if(!u.v)throw new kn(u);u.v=!1}}function Ur(u,f,y,w){u.g.push([f,y,w]),u.a&&_m(u)}function ym(u){return Zt(u.g,function(f){return xt(f[1])})}function _m(u){if(u.h&&u.a&&ym(u)){var f=u.h,y=Hr[f];y&&(z.clearTimeout(y.a),delete Hr[f]),u.h=0}u.b&&(u.b.l--,delete u.b),f=u.c;for(var w=y=!1;u.g.length&&!u.i;){var D=u.g.shift(),x=D[0],N=D[1];if(D=D[2],x=u.f?N:x)try{var U=x.call(D||u.s,f);void 0!==U&&(u.f=u.f&&(U==f||U instanceof Error),u.c=f=U),(lr(f)||"function"==typeof z.Promise&&f instanceof z.Promise)&&(w=!0,u.i=!0)}catch(ce){f=ce,u.f=!0,ym(u)||(y=!0)}}u.c=f,w&&(U=Xe(u.m,u,!0),w=Xe(u.m,u,!1),f instanceof rc?(Ur(f,U,w),f.C=!0):f.then(U,w)),y&&(f=new zi(f),Hr[f.a]=f,u.h=f.a)}function kn(){et.call(this)}function ri(){et.call(this)}function zi(u){this.a=z.setTimeout(Xe(this.c,this),0),this.b=u}(I=ec.prototype).Ma=function(){typeof se<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",No(this.b,pr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},I.abort=function(){this.a&&this.c&&(No(this.b,pr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),nf(this))},I.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),nf(this,!0)),ec.bb.Da.call(this)},I.Wb=function(){this.ya||(this.N||this.i||this.f?vm(this):this.Jc())},I.Jc=function(){vm(this)},I.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case tc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var u=this.b;return u&&u.log(jr,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return No(this.b,"Can not get response: "+f.message),null}},rc.prototype.cancel=function(u){if(this.a)this.c instanceof rc&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,u?f.cancel(u):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(u=new ri(this),qi(this),ni(this,!1,u))}},rc.prototype.m=function(u,f){this.i=!1,ni(this,u,f)},rc.prototype.then=function(u,f,y){var w,D,x=new Pt(function(N,U){w=N,D=U});return Ur(this,w,function(N){N instanceof ri?x.cancel():D(N)}),x.then(u,f,y)},rc.prototype.$goog_Thenable=!0,ft(kn,et),kn.prototype.message="Deferred has already fired",kn.prototype.name="AlreadyCalledError",ft(ri,et),ri.prototype.message="Deferred was canceled",ri.prototype.name="CanceledError",zi.prototype.c=function(){throw delete Hr[this.a],this.b};var Hr={};function ki(u){var f={},y=f.document||document,w=pt(u).toString(),D=Gs(document,"SCRIPT"),x={Xb:D,Ma:void 0},N=new rc(x),U=null,ce=null!=f.timeout?f.timeout:5e3;return 0<ce&&(U=window.setTimeout(function(){sa(D,!0);var a=new oc(Qv,"Timeout reached for loading script "+w);qi(N),ni(N,!1,a)},ce),x.Ma=U),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(sa(D,f.xd||!1,U),qi(N),ni(N,!0,null))},D.onerror=function(){sa(D,!0,U);var a=new oc(ml,"Error while loading script "+w);qi(N),ni(N,!1,a)},ne(x=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Ru(D,x),function Ip(u,f){X(u,"HTMLScriptElement"),u.src=pt(f),(f=u.ownerDocument&&u.ownerDocument.defaultView)&&f!=z?f=Te(f.document):(null===Me&&(Me=Te(z.document)),f=Me),f&&u.setAttribute("nonce",f)}(D,u),function ic(u){var f;return(f=(u||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:u.documentElement}(y).appendChild(D),N}function Xa(){if(this&&this.Xb){var u=this.Xb;u&&"SCRIPT"==u.tagName&&sa(u,!0,this.Ma)}}function sa(u,f,y){null!=y&&z.clearTimeout(y),u.onload=Fe,u.onerror=Fe,u.onreadystatechange=Fe,f&&window.setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},0)}var ml=0,Qv=1;function oc(u,f){var y="Jsloader error (code #"+u+")";f&&(y+=": "+f),et.call(this,y),this.code=u}function vl(u){this.f=u}function Kn(u,f,y){if(this.c=u,this.l=(u=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=u.secureTokenTimeout||sc,this.g=G(u.secureTokenHeaders||p_),this.h=u.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=u.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=u.firebaseTimeout||ac,this.a=G(u.firebaseHeaders||uc),y&&(this.a["X-Client-Version"]=y,this.g["X-Client-Version"]=y),y="Node"==Se(),!(y=z.XMLHttpRequest||y&&me.Z.INTERNAL.node&&me.Z.INTERNAL.node.XMLHttpRequest)&&!Ai())throw new B("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Ai()?new ra(self):Ln()?new vl(y):new tf,this.b=null}ft(oc,et),ft(vl,Os),vl.prototype.a=function(){return new this.f},vl.prototype.b=function(){return{}};var De,us="idToken",sc=new Ui(3e4,6e4),p_={"Content-Type":"application/x-www-form-urlencoded"},ac=new Ui(3e4,6e4),uc={"Content-Type":"application/json"};function zp(u,f){f?u.a["X-Firebase-Locale"]=f:delete u.a["X-Firebase-Locale"]}function _o(u,f){f&&(u.l=yl("https://securetoken.googleapis.com/v1/token",f),u.h=yl("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),u.i=yl("https://identitytoolkit.googleapis.com/v2/",f))}function yl(u,f){return u=Ti(u),f=Ti(f.url),u.f=u.a+u.f,Nd(u,f.c),u.a=f.a,Kc(u,f.g),u.toString()}function aa(u,f){f?(u.a["X-Client-Version"]=f,u.g["X-Client-Version"]=f):(delete u.a["X-Client-Version"],delete u.g["X-Client-Version"])}function $p(u,f,y,w,D,x,N){(function $v(){var u=ei();return!((u="Chrome"!=at(u)?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&30>u||wr&&xe&&!(9<xe))})()||Ai()?u=Xe(u.u,u):(De||(De=new Pt(function(U,ce){!function rf(u,f){((window.gapi||{}).client||{}).request?u():(z[Gp]=function(){((window.gapi||{}).client||{}).request?u():f(Error("CORS_UNSUPPORTED"))},function Vn(u,f){Ur(u,null,f,void 0)}(ki(ai(uo,{onload:Gp})),function(){f(Error("CORS_UNSUPPORTED"))}))}(U,ce)})),u=Xe(u.s,u)),u(f,y,w,D,x,N)}Kn.prototype.T=function(){return this.b},Kn.prototype.u=function(u,f,y,w,D,x){if(Ai()&&(typeof z.fetch>"u"||typeof z.Headers>"u"||typeof z.Request>"u"))throw new B("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var N=new ec(this.f);if(x){N.g=Math.max(0,x);var U=setTimeout(function(){N.dispatchEvent("timeout")},x)}Pa(N,"complete",function(){U&&clearTimeout(U);var ce=null;try{ce=JSON.parse(function qp(u){try{return u.a?u.a.responseText:""}catch(f){return No(u.b,"Can not get responseText: "+f.message),""}}(this))||null}catch{ce=null}f&&f(ce)}),tn(N,"ready",function(){U&&clearTimeout(U),Dn(this)}),tn(N,"timeout",function(){U&&clearTimeout(U),Dn(this),f&&f(null)}),function oe(u,f,y,w,D){if(u.a)throw Error("[goog.net.XhrIo] Object is active with another request="+u.l+"; newUri="+f);y=y?y.toUpperCase():"GET",u.l=f,u.h="",u.P=y,u.J=!1,u.c=!0,u.a=u.D?u.D.a():Jd.a(),u.C=function Zd(u){return u.c||(u.c=u.b())}(u.D?u.D:Jd),u.a.onreadystatechange=Xe(u.Wb,u);try{No(u.b,pr(u,"Opening Xhr")),u.N=!0,u.a.open(y,String(f),!0),u.N=!1}catch(N){return No(u.b,pr(u,"Error opening Xhr: "+N.message)),void oa(u,N)}f=w||"";var x=new ci(u.headers);D&&function vh(u,f){if(u.forEach&&"function"==typeof u.forEach)u.forEach(f,void 0);else if(Ut(u)||"string"==typeof u)bn(u,f,void 0);else for(var y=mh(u),w=xd(u),D=w.length,x=0;x<D;x++)f.call(void 0,w[x],y&&y[x],u)}(D,function(N,U){x.set(U,N)}),D=function si(u){e:{for(var f=Rn,y=u.length,w="string"==typeof u?u.split(""):u,D=0;D<y;D++)if(D in w&&f.call(void 0,w[D],D,u)){f=D;break e}f=-1}return 0>f?null:"string"==typeof u?u.charAt(f):u[f]}(x.Y()),w=z.FormData&&f instanceof z.FormData,!xn(gm,y)||D||w||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),x.forEach(function(N,U){this.a.setRequestHeader(U,N)},u),u.m&&(u.a.responseType=u.m),"withCredentials"in u.a&&u.a.withCredentials!==u.S&&(u.a.withCredentials=u.S);try{Hp(u),0<u.g&&(u.u=function mm(u){return wr&&Md(9)&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(u.a),No(u.b,pr(u,"Will abort after "+u.g+"ms if incomplete, xhr2 "+u.u)),u.u?(u.a.timeout=u.g,u.a.ontimeout=Xe(u.Ma,u)):u.s=Si(u.Ma,u.g,u)),No(u.b,pr(u,"Sending request")),u.i=!0,u.a.send(f),u.i=!1}catch(N){No(u.b,pr(u,"Send error: "+N.message)),oa(u,N)}}(N,u,y,w,D)};var uo=new Ae(fn,"https://apis.google.com/js/client.js?onload=%{onload}"),Gp="__fcb"+Math.floor(1e6*Math.random()).toString();function Fs(u){if("string"!=typeof(u=u.email)||!d_.test(u))throw new B("invalid-email")}function af(u){"email"in u&&Fs(u)}function qr(u){if(!u[us])throw u.mfaPendingCredential?new B("multi-factor-auth-required",null,G(u)):new B("internal-error")}function Qa(u){if(u.phoneNumber||u.temporaryProof){if(!u.phoneNumber||!u.temporaryProof)throw new B("internal-error")}else{if(!u.sessionInfo)throw new B("missing-verification-id");if(!u.code)throw new B("missing-verification-code")}}Kn.prototype.s=function(u,f,y,w,D){var x=this;De.then(function(){window.gapi.client.setApiKey(x.c);var N=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:u,method:y,body:w,headers:D,authType:"none",callback:function(U){window.gapi.auth.setToken(N),f&&f(U)}})}).o(function(N){f&&f({error:{message:N&&N.message||"CORS_UNSUPPORTED"}})})},Kn.prototype.Ab=function(){return nn(this,ey,{})},Kn.prototype.Cb=function(u,f){return nn(this,Ja,{idToken:u,email:f})},Kn.prototype.Db=function(u,f){return nn(this,eg,{idToken:u,password:f})};var bl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function bo(u){if(!u.phoneVerificationInfo)throw new B("internal-error");if(!u.phoneVerificationInfo.sessionInfo)throw new B("missing-verification-id");if(!u.phoneVerificationInfo.code)throw new B("missing-verification-code")}function uf(u){if(!u.requestUri||!u.sessionId&&!u.postBody&&!u.pendingToken)throw new B("internal-error")}function Wp(u,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(u.sessionId?f.nonce=u.sessionId:u.postBody&&Bd(u=new La(u.postBody),"nonce")&&(f.nonce=u.get("nonce"))),f}function cf(u){var f=null;if(u.needConfirmation?(u.code="account-exists-with-different-credential",f=xs(u)):"FEDERATED_USER_ID_ALREADY_LINKED"==u.errorMessage?(u.code="credential-already-in-use",f=xs(u)):"EMAIL_EXISTS"==u.errorMessage?(u.code="email-already-in-use",f=xs(u)):u.errorMessage&&(f=tg(u.errorMessage)),f)throw f;qr(u)}function Kp(u,f){return f.returnIdpCredential=!0,nn(u,ca,f)}function Lh(u,f){return f.returnIdpCredential=!0,nn(u,Im,f)}function lf(u,f){return f.returnIdpCredential=!0,f.autoCreate=!1,nn(u,dc,f)}function Po(u){if(!u.oobCode)throw new B("invalid-action-code")}(I=Kn.prototype).Eb=function(u,f){var y={idToken:u},w=[];return Ao(bl,function(D,x){var N=f[x];null===N?w.push(D):x in f&&(y[x]=N)}),w.length&&(y.deleteAttribute=w),nn(this,Ja,y)},I.wb=function(u,f){return ne(u={requestType:"PASSWORD_RESET",email:u},f),nn(this,Xp,u)},I.xb=function(u,f){return ne(u={requestType:"EMAIL_SIGNIN",email:u},f),nn(this,hc,u)},I.vb=function(u,f){return ne(u={requestType:"VERIFY_EMAIL",idToken:u},f),nn(this,wl,u)},I.Fb=function(u,f,y){return ne(u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:f},y),nn(this,Jv,u)},I.gb=function(u){return nn(this,In,u)},I.ob=function(u,f){return nn(this,m_,{oobCode:u,newPassword:f})},I.Sa=function(u){return nn(this,hf,{oobCode:u})},I.kb=function(u){return nn(this,Em,{oobCode:u})};var Em={endpoint:"setAccountInfo",A:Po,Z:"email",B:!0},hf={endpoint:"resetPassword",A:Po,G:function(u){var f=u.requestType;if(!f||!u.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new B("internal-error")},B:!0},g_={endpoint:"signupNewUser",A:function(u){if(Fs(u),!u.password)throw new B("weak-password")},G:qr,V:!0,B:!0},Cm={endpoint:"createAuthUri",B:!0},Fo={endpoint:"deleteAccount",O:["idToken"]},cc={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(u){if(!Array.isArray(u.deleteProvider))throw new B("internal-error")}},cs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Fs,G:qr,V:!0,B:!0},Za={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Fs,G:qr,V:!0},Dm={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:bo,G:qr,B:!0,Na:!0},lc={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:bo,G:qr,B:!0,Na:!0},Yp={endpoint:"getAccountInfo"},hc={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("EMAIL_SIGNIN"!=u.requestType)throw new B("internal-error");Fs(u)},Z:"email",B:!0},wl={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(u){if("VERIFY_EMAIL"!=u.requestType)throw new B("internal-error")},Z:"email",B:!0},Jv={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(u){if("VERIFY_AND_CHANGE_EMAIL"!=u.requestType)throw new B("internal-error")},Z:"email",B:!0},Xp={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("PASSWORD_RESET"!=u.requestType)throw new B("internal-error");Fs(u)},Z:"email",B:!0},Qp={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Zp={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(u){if(!u.recaptchaSiteKey)throw new B("internal-error")}},m_={endpoint:"resetPassword",A:Po,Z:"email",B:!0},Jp={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ja={endpoint:"setAccountInfo",O:["idToken"],A:af,V:!0},eg={endpoint:"setAccountInfo",O:["idToken"],A:function(u){if(af(u),!u.password)throw new B("weak-password")},G:qr,V:!0},ey={endpoint:"signupNewUser",G:qr,V:!0,B:!0},ty={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(u){if(!u.phoneEnrollmentInfo)throw new B("internal-error");if(!u.phoneEnrollmentInfo.phoneNumber)throw new B("missing-phone-number");if(!u.phoneEnrollmentInfo.recaptchaToken)throw new B("missing-app-credential")},G:function(u){if(!u.phoneSessionInfo||!u.phoneSessionInfo.sessionInfo)throw new B("internal-error")},B:!0,Na:!0},Sm={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(u){if(!u.phoneSignInInfo||!u.phoneSignInInfo.recaptchaToken)throw new B("missing-app-credential")},G:function(u){if(!u.phoneResponseInfo||!u.phoneResponseInfo.sessionInfo)throw new B("internal-error")},B:!0,Na:!0},ca={endpoint:"verifyAssertion",A:uf,Za:Wp,G:cf,V:!0,B:!0},dc={endpoint:"verifyAssertion",A:uf,Za:Wp,G:function(u){if(u.errorMessage&&"USER_NOT_FOUND"==u.errorMessage)throw new B("user-not-found");if(u.errorMessage)throw tg(u.errorMessage);qr(u)},V:!0,B:!0},Im={endpoint:"verifyAssertion",A:function(u){if(uf(u),!u.idToken)throw new B("internal-error")},Za:Wp,G:cf,V:!0},df={endpoint:"verifyCustomToken",A:function(u){if(!u.token)throw new B("invalid-custom-token")},G:qr,V:!0,B:!0},ff={endpoint:"verifyPassword",A:function(u){if(Fs(u),!u.password)throw new B("wrong-password")},G:qr,V:!0,B:!0},In={endpoint:"verifyPhoneNumber",A:Qa,G:qr,B:!0},Bh={endpoint:"verifyPhoneNumber",A:function(u){if(!u.idToken)throw new B("internal-error");Qa(u)},G:function(u){if(u.temporaryProof)throw u.code="credential-already-in-use",xs(u);qr(u)}},pf={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Qa,G:qr,B:!0},El={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(u){if(!!u[us]^!!u.refreshToken)throw new B("internal-error")},B:!0,Na:!0};function nn(u,f,y){if(!function Lu(u,f){if(!f||!f.length)return!0;if(!u)return!1;for(var y=0;y<f.length;y++){var w=u[f[y]];if(null==w||""===w)return!1}return!0}(y,f.O))return Xn(new B("internal-error"));var x,w=!!f.Na,D=f.Vb||"POST";return tt(y).then(f.A).then(function(){return f.V&&(y.returnSecureToken=!0),f.B&&u.b&&typeof y.tenantId>"u"&&(y.tenantId=u.b),function sf(u,f,y,w,D,x,N){var U=Ti(f+y);Er(U,"key",u.c),N&&Er(U,"cb",Date.now().toString());var ce="GET"==w;if(ce)for(var a in D)D.hasOwnProperty(a)&&Er(U,a,D[a]);return new Pt(function(s,l){$p(u,U.toString(),function(d){d?d.error?l(ng(d,x||{})):s(d):l(new B("network-request-failed"))},w,ce?void 0:jd(ko(D)),u.a,u.v.get())})}(u,w?u.i:u.h,f.endpoint,D,y,f.Ib,f.mb||!1)}).then(function(N){return x=N,f.Za?f.Za(y,x):x}).then(f.G).then(function(){if(!f.Z)return x;if(!(f.Z in x))throw new B("internal-error");return x[f.Z]})}function tg(u){return ng({error:{errors:[{message:u}],code:400,message:u}})}function ng(u,f){var y=(u.error&&u.error.errors&&u.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(y=w[y]?new B(w[y]):null)return y;for(var D in y=u.error&&u.error.message||"",ne(w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=y.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,w)if(0===y.indexOf(D))return new B(w[D],f);return!f&&u&&(f=xr(u)),new B("internal-error",f)}function Tm(u){this.b=u,this.a=null,this.sb=function ny(u){return function Mm(){return Dl||(Dl=new Pt(function(u,f){function y(){Cr(),Qe("gapi.load")("gapi.iframes",{callback:u,ontimeout:function(){Cr(),f(Error("Network Error"))},timeout:Cl.get()})}if(Qe("gapi.iframes.Iframe"))u();else if(Qe("gapi.load"))y();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();z[w]=function(){Qe("gapi.load")?y():f(Error("Network Error"))},tt(ki(w=ai(v_,{onload:w}))).o(function(){f(Error("Network Error"))})}}).o(function(u){throw Dl=null,u}))}().then(function(){return new Pt(function(f,y){Qe("gapi.iframes.getContext")().open({where:document.body,url:u.b,messageHandlersFilter:Qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function D(){clearTimeout(x),f()}u.a=w,u.a.restyle({setHideOnLeave:!1});var x=setTimeout(function(){y(Error("Network Error"))},rg.get());w.ping(D).then(D,function(){y(Error("Network Error"))})})})})}(this)}var v_=new Ae(fn,"https://apis.google.com/js/api.js?onload=%{onload}"),Cl=new Ui(3e4,6e4),rg=new Ui(5e3,15e3),Dl=null;function eu(u,f,y,w){this.l=u,this.h=f,this.i=y,this.g=w,this.f=null,u=this.g?Pd((u=Ti(this.g.url)).c,u.a,u.g,"/emulator/auth/iframe"):Pd("https",this.l,null,"/__/auth/iframe"),this.a=u,Er(this.a,"apiKey",this.h),Er(this.a,"appName",this.i),this.b=null,this.c=[]}function tu(u,f,y,w,D,x){this.u=u,this.s=f,this.c=y,this.m=w,this.v=x,this.i=this.g=this.l=null,this.a=D,this.h=this.f=null}function fc(u){try{return me.Z.app(u).auth().Ga()}catch{return[]}}function gf(u,f,y,w,D,x){this.s=u,this.g=f,this.b=y,this.f=x,this.c=w||null,this.i=D||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Vh(u){var f=Zc();return function bm(u){return nn(u,Qp,{}).then(function(f){return f.authorizedDomains||[]})}(u).then(function(y){e:{var w=Ti(f),D=w.c;w=w.a;for(var x=0;x<y.length;x++){var N=y[x],U=w,ce=D;if(0==N.indexOf("chrome-extension://")?U=Ti(N).a==U&&"chrome-extension"==ce:"http"!=ce&&"https"!=ce?U=!1:Qo.test(N)?U=U==N:(N=N.split(".").join("\\."),U=new RegExp("^(.+\\."+N+"|"+N+")$","i").test(U)),U){y=!0;break e}}y=!1}if(!y)throw new yo(Zc())})}function iy(u){return u.m||(u.m=Jr().then(function(){if(!u.u){var f=u.c,y=u.i,w=fc(u.b),D=new eu(u.s,u.g,u.b,u.f);D.f=f,D.b=y,D.c=Hn(w||[]),u.u=D.toString()}u.v=new Tm(u.u),function km(u){if(!u.v)throw Error("IfcHandler must be initialized!");!function ry(u,f){u.sb.then(function(){u.a.register("authEvent",f,Qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(u.v,function(f){var y={};if(f&&f.authEvent){var w=!1;for(f=hl(f.authEvent),y=0;y<u.h.length;y++)w=u.h[y](f)||w;return(y={}).status=w?"ACK":"ERROR",tt(y)}return y.status="ERROR",tt(y)})}(u)})),u.m}function Rm(u){return u.l||(u.C=u.c?el(u.c,fc(u.b)):null,u.l=new Kn(u.g,ct(u.i),u.C),u.f&&_o(u.l,u.f)),u.l}function pc(u,f,y,w,D,x,N,U,ce,a,s,l){return(u=new tu(u,f,y,w,D,l)).l=x,u.g=N,u.i=U,u.b=G(ce||null),u.f=a,u.zb(s).toString()}function tr(u){if(this.a=u||me.Z.INTERNAL.reactNative&&me.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new B("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function xm(u){this.b=u,this.a={},this.f=Xe(this.c,this)}eu.prototype.toString=function(){return this.f?Er(this.a,"v",this.f):li(this.a.b,"v"),this.b?Er(this.a,"eid",this.b):li(this.a.b,"eid"),this.c.length?Er(this.a,"fw",this.c.join(",")):li(this.a.b,"fw"),this.a.toString()},tu.prototype.zb=function(u){return this.h=u,this},tu.prototype.toString=function(){if(this.v){var u=Ti(this.v.url);u=Pd(u.c,u.a,u.g,"/emulator/auth/handler")}else u=Pd("https",this.u,null,"/__/auth/handler");if(Er(u,"apiKey",this.s),Er(u,"appName",this.c),Er(u,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var y=me.Z.app(this.c).auth().la()}catch{y=null}for(var w in f.pb=y,Er(u,"providerId",this.a.providerId),f=ko((y=this.a).Jb))f[w]=f[w].toString();w=y.Qc,f=G(f);for(var D=0;D<w.length;D++){var x=w[D];x in f&&delete f[x]}y.qb&&y.pb&&!f[y.qb]&&(f[y.qb]=y.pb),W(f)||Er(u,"customParameters",xr(f))}if("function"==typeof this.a.Rb&&(y=this.a.Rb()).length&&Er(u,"scopes",y.join(",")),this.l?Er(u,"redirectUrl",this.l):li(u.b,"redirectUrl"),this.g?Er(u,"eventId",this.g):li(u.b,"eventId"),this.i?Er(u,"v",this.i):li(u.b,"v"),this.b)for(var N in this.b)this.b.hasOwnProperty(N)&&!po(u,N)&&Er(u,N,this.b[N]);return this.h?Er(u,"tid",this.h):li(u.b,"tid"),this.f?Er(u,"eid",this.f):li(u.b,"eid"),(N=fc(this.c)).length&&Er(u,"fw",N.join(",")),u.toString()},(I=gf.prototype).Pb=function(u,f,y){var w=new B("popup-closed-by-user"),D=new B("web-storage-unsupported"),x=this,N=!1;return this.ma().then(function(){(function mf(u){var f={type:"webStorageSupport"};return iy(u).then(function(){return function Am(u,f){return u.sb.then(function(){return new Pt(function(y){u.a.send(f.type,f,y,Qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(u.v,f)}).then(function(y){if(y&&y.length&&typeof y[0].webStorageSupport<"u")return y[0].webStorageSupport;throw Error()})})(x).then(function(U){U||(u&&Va(u),f(D),N=!0)})}).o(function(){}).then(function(){if(!N)return function Eh(u){return new Pt(function(f){return function y(){Ii(2e3).then(function(){if(u&&!u.closed)return y();f()})}()})}(u)}).then(function(){if(!N)return Ii(y).then(function(){f(w)})})},I.Yb=function(){var u=ei();return!Wt(u)&&!tl(u)},I.Ub=function(){return!1},I.Nb=function(u,f,y,w,D,x,N,U){if(!u)return Xn(new B("popup-blocked"));if(N&&!Wt())return this.ma().o(function(a){Va(u),D(a)}),w(),tt();this.a||(this.a=Vh(Rm(this)));var ce=this;return this.a.then(function(){var a=ce.ma().o(function(s){throw Va(u),D(s),s});return w(),a}).then(function(){Sr(y),N||Pu(pc(ce.s,ce.g,ce.b,f,y,null,x,ce.c,void 0,ce.i,U,ce.f),u)}).o(function(a){throw"auth/network-request-failed"==a.code&&(ce.a=null),a})},I.Ob=function(u,f,y,w){this.a||(this.a=Vh(Rm(this)));var D=this;return this.a.then(function(){Sr(f),Pu(pc(D.s,D.g,D.b,u,f,Zc(),y,D.c,void 0,D.i,w,D.f))}).o(function(x){throw"auth/network-request-failed"==x.code&&(D.a=null),x})},I.ma=function(){var u=this;return iy(this).then(function(){return u.v.sb}).o(function(){throw u.a=null,new B("network-request-failed")})},I.ac=function(){return!0},I.Ea=function(u){this.h.push(u)},I.Ta=function(u){Un(this.h,function(f){return f==u})},(I=tr.prototype).get=function(u){return tt(this.a.getItem(u)).then(function(f){return f&&Zn(f)})},I.set=function(u,f){return tt(this.a.setItem(u,xr(f)))},I.U=function(u){return tt(this.a.removeItem(u))},I.ca=function(){},I.ia=function(){};var bf,vf=[];function Om(u,f,y){W(u.a)&&u.b.addEventListener("message",u.f),typeof u.a[f]>"u"&&(u.a[f]=[]),u.a[f].push(y)}function _f(u){this.a=u}function jh(u){this.c=u,this.b=!1,this.a=[]}function la(u,f,y,w){var D,N,U,ce,x=y||{},a=null;if(u.b)return Xn(Error("connection_unavailable"));var s=w?800:50,l=typeof MessageChannel<"u"?new MessageChannel:null;return new Pt(function(d,g){l?(D=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),U=setTimeout(function(){g(Error("unsupported_event"))},s),u.a.push(a={messageChannel:l,onMessage:N=function(v){v.data.eventId===D&&("ack"===v.data.status?(clearTimeout(U),ce=setTimeout(function(){g(Error("timeout"))},3e3)):"done"===v.data.status?(clearTimeout(ce),typeof v.data.response<"u"?d(v.data.response):g(Error("unknown_error"))):(clearTimeout(U),clearTimeout(ce),g(Error("invalid_response"))))}}),l.port1.addEventListener("message",N),u.c.postMessage({eventType:f,eventId:D,data:x},[l.port2])):g(Error("connection_unavailable"))}).then(function(d){return Nr(u,a),d}).o(function(d){throw Nr(u,a),d})}function Nr(u,f){if(f){var y=f.messageChannel;y&&(y.port1.removeEventListener("message",f.onMessage),y.port1.close()),Un(u.a,function(D){return D==f})}}function Uh(){if(!og())throw new B("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=z.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var u=this;Ai()&&self?(this.v=function yf(){var u=Ai()?self:null;if(bn(vf,function(y){y.b==u&&(f=y)}),!f){var f=new xm(u);vf.push(f)}return f}(),Om(this.v,"keyChanged",function(f,y){return Ef(u).then(function(w){return 0<w.length&&bn(u.a,function(D){D(w)}),{keyProcessed:xn(w,y.key)}})}),Om(this.v,"ping",function(){return tt(["keyChanged"])})):function di(){var u=z.navigator;return u&&u.serviceWorker?tt().then(function(){return u.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):tt(null)}().then(function(f){(u.h=f)&&(u.g=new jh(new _f(f)),la(u.g,"ping",null,!0).then(function(y){y[0].fulfilled&&xn(y[0].value,"keyChanged")&&(u.s=!0)}).o(function(){}))})}function wf(u){return new Pt(function(f,y){var w=u.m.open("firebaseLocalStorageDb",1);w.onerror=function(D){try{D.preventDefault()}catch{}y(Error(D.target.error))},w.onupgradeneeded=function(D){D=D.target.result;try{D.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(x){y(x)}},w.onsuccess=function(D){(D=D.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(D):function ig(u){return new Pt(function(f,y){var w=u.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){f()},w.onerror=function(D){y(Error(D.target.error))}})}(u).then(function(){return wf(u)}).then(function(x){f(x)}).o(function(x){y(x)})}})}function Ls(u){return u.i||(u.i=wf(u)),u.i}function Hh(u,f){var w=0;return new Pt(function y(D,x){Ls(u).then(f).then(D).o(function(N){if(!(3<++w))return Ls(u).then(function(U){return U.close(),u.i=void 0,y(D,x)}).o(function(U){x(U)});x(N)})})}function og(){try{return!!z.indexedDB}catch{return!1}}function gc(u){return u.objectStore("firebaseLocalStorage")}function mc(u,f){return u.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function ha(u){return new Pt(function(f,y){u.onsuccess=function(w){w&&w.target?f(w.target.result):f()},u.onerror=function(w){y(w.target.error)}})}function Nm(u,f){return u.g&&u.h&&function Js(){var u=z.navigator;return u&&u.serviceWorker&&u.serviceWorker.controller||null}()===u.h?la(u.g,"keyChanged",{key:f},u.s).then(function(){}).o(function(){}):tt()}function Ef(u){return Ls(u).then(function(f){var y=gc(mc(f,!1));return y.getAll?ha(y.getAll()):new Pt(function(w,D){var x=[],N=y.openCursor();N.onsuccess=function(U){(U=U.target.result)?(x.push(U.value),U.continue()):w(x)},N.onerror=function(U){D(U.target.error)}})}).then(function(f){var y={},w=[];if(0==u.b){for(w=0;w<f.length;w++)y[f[w].fbase_key]=f[w].value;w=kp(u.c,y),u.c=y}return w})}function sg(u){u.l&&u.l.cancel("STOP_EVENT"),u.f&&(clearTimeout(u.f),u.f=null)}function sy(u){var f=this,y=null;this.a=[],this.type="indexedDB",this.c=u,this.b=tt().then(function(){if(og()){var w=Kt(),D="__sak"+w;return bf||(bf=new Uh),(y=bf).set(D,w).then(function(){return y.get(D)}).then(function(x){if(x!==w)throw Error("indexedDB not supported!");return y.U(D)}).then(function(){return y}).o(function(){return f.c})}return f.c}).then(function(w){return f.type=w.type,w.ca(function(D){bn(f.a,function(x){x(D)})}),w})}function Sl(){this.a={},this.type="inMemory"}function wo(){if(!function nu(){var u="Node"==Se();if(!(u=Il()||u&&me.Z.INTERNAL.node&&me.Z.INTERNAL.node.localStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Se()?new B("internal-error","The LocalStorage compatibility library was not found."):new B("web-storage-unsupported");this.a=Il()||me.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Il(){try{var u=z.localStorage,f=Kt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function Ir(){this.type="nullStorage"}function ag(){if(!function qh(){var u="Node"==Se();if(!(u=ay()||u&&me.Z.INTERNAL.node&&me.Z.INTERNAL.node.sessionStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Se()?new B("internal-error","The SessionStorage compatibility library was not found."):new B("web-storage-unsupported");this.a=ay()||me.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ay(){try{var u=z.sessionStorage,f=Kt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function Cf(){var u={};u.Browser=zh,u.Node=ls,u.ReactNative=Df,u.Worker=vc,this.a=u[Se()]}xm.prototype.c=function(u){var f=u.data.eventType,y=u.data.eventId,w=this.a[f];if(w&&0<w.length){u.ports[0].postMessage({status:"ack",eventId:y,eventType:f,response:null});var D=[];bn(w,function(x){D.push(tt().then(function(){return x(u.origin,u.data.data)}))}),M(D).then(function(x){var N=[];bn(x,function(U){N.push({fulfilled:U.Qb,value:U.value,reason:U.reason?U.reason.message:void 0})}),bn(N,function(U){for(var ce in U)typeof U[ce]>"u"&&delete U[ce]}),u.ports[0].postMessage({status:"done",eventId:y,eventType:f,response:N})})}},_f.prototype.postMessage=function(u,f){this.a.postMessage(u,f)},jh.prototype.close=function(){for(;0<this.a.length;)Nr(this,this.a[0]);this.b=!0},(I=Uh.prototype).set=function(u,f){var y=this,w=!1;return Hh(this,function(D){return ha((D=gc(mc(D,!0))).get(u))}).then(function(D){return Hh(y,function(x){if(x=gc(mc(x,!0)),D)return D.value=f,ha(x.put(D));y.b++,w=!0;var N={};return N.fbase_key=u,N.value=f,ha(x.add(N))})}).then(function(){return y.c[u]=f,Nm(y,u)}).oa(function(){w&&y.b--})},I.get=function(u){return Hh(this,function(f){return ha(gc(mc(f,!1)).get(u))}).then(function(f){return f&&f.value})},I.U=function(u){var f=this,y=!1;return Hh(this,function(w){return y=!0,f.b++,ha(gc(mc(w,!0)).delete(u))}).then(function(){return delete f.c[u],Nm(f,u)}).oa(function(){y&&f.b--})},I.ca=function(u){0==this.a.length&&function oy(u){sg(u),function f(){u.f=setTimeout(function(){u.l=Ef(u).then(function(y){0<y.length&&bn(u.a,function(w){w(y)})}).then(function(){f()}).o(function(y){"STOP_EVENT"!=y.message&&f()})},800)}()}(this),this.a.push(u)},I.ia=function(u){Un(this.a,function(f){return f==u}),0==this.a.length&&sg(this)},(I=sy.prototype).get=function(u){return this.b.then(function(f){return f.get(u)})},I.set=function(u,f){return this.b.then(function(y){return y.set(u,f)})},I.U=function(u){return this.b.then(function(f){return f.U(u)})},I.ca=function(u){this.a.push(u)},I.ia=function(u){Un(this.a,function(f){return f==u})},(I=Sl.prototype).get=function(u){return tt(this.a[u])},I.set=function(u,f){return this.a[u]=f,tt()},I.U=function(u){return delete this.a[u],tt()},I.ca=function(){},I.ia=function(){},(I=wo.prototype).get=function(u){var f=this;return tt().then(function(){return Zn(f.a.getItem(u))})},I.set=function(u,f){var y=this;return tt().then(function(){var w=xr(f);null===w?y.U(u):y.a.setItem(u,w)})},I.U=function(u){var f=this;return tt().then(function(){f.a.removeItem(u)})},I.ca=function(u){z.window&&kr(z.window,"storage",u)},I.ia=function(u){z.window&&sr(z.window,"storage",u)},(I=Ir.prototype).get=function(){return tt(null)},I.set=function(){return tt()},I.U=function(){return tt()},I.ca=function(){},I.ia=function(){},(I=ag.prototype).get=function(u){var f=this;return tt().then(function(){return Zn(f.a.getItem(u))})},I.set=function(u,f){var y=this;return tt().then(function(){var w=xr(f);null===w?y.U(u):y.a.setItem(u,w)})},I.U=function(u){var f=this;return tt().then(function(){f.a.removeItem(u)})},I.ca=function(){},I.ia=function(){};var ug,Sf,zh={F:wo,cb:ag},ls={F:wo,cb:ag},Df={F:tr,cb:Ir},vc={F:wo,cb:Ir},ru={rd:"local",NONE:"none",td:"session"};function Tl(){var u=!(tl(ei())||!ro()),f=Wt(),y=Zs();this.m=u,this.h=f,this.l=y,this.a={},ug||(ug=new Cf),u=ug;try{this.g=!Qc()&&Or()||!z.indexedDB?new u.a.F:new sy(Ai()?new Sl:new u.a.F)}catch{this.g=new Sl,this.h=!0}try{this.i=new u.a.cb}catch{this.i=new Sl}this.v=new Sl,this.f=Xe(this.Zb,this),this.b={}}function hs(){return Sf||(Sf=new Tl),Sf}function Bs(u,f){switch(f){case"session":return u.i;case"none":return u.v;default:return u.g}}function $h(u,f){return"firebase:"+u.name+(f?":"+f:"")}function Gh(u,f,y){return y=$h(f,y),"local"==f.F&&(u.b[y]=null),Bs(u,f.F).U(y)}function lg(u){u.c&&(clearInterval(u.c),u.c=null)}function Al(u){this.a=u,this.b=hs()}(I=Tl.prototype).get=function(u,f){return Bs(this,u.F).get($h(u,f))},I.set=function(u,f,y){var w=$h(u,y),D=this,x=Bs(this,u.F);return x.set(w,f).then(function(){return x.get(w)}).then(function(N){"local"==u.F&&(D.b[w]=N)})},I.addListener=function(u,f,y){u=$h(u,f),this.l&&(this.b[u]=z.localStorage.getItem(u)),W(this.a)&&(Bs(this,"local").ca(this.f),this.h||(Qc()||!Or())&&z.indexedDB||!this.l||function cg(u){lg(u),u.c=setInterval(function(){for(var f in u.a){var y=z.localStorage.getItem(f),w=u.b[f];y!=w&&(u.b[f]=y,y=new Nt({type:"storage",key:f,target:window,oldValue:w,newValue:y,a:!0}),u.Zb(y))}},1e3)}(this)),this.a[u]||(this.a[u]=[]),this.a[u].push(y)},I.removeListener=function(u,f,y){u=$h(u,f),this.a[u]&&(Un(this.a[u],function(w){return w==y}),0==this.a[u].length&&delete this.a[u]),W(this.a)&&(Bs(this,"local").ia(this.f),lg(this))},I.Zb=function(u){if(u&&u.g){var f=u.a.key;if(null==f)for(var y in this.a){var w=this.b[y];typeof w>"u"&&(w=null);var D=z.localStorage.getItem(y);D!==w&&(this.b[y]=D,this.nb(y))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(typeof u.a.a<"u"?Bs(this,"local").ia(this.f):lg(this),this.m)if(y=z.localStorage.getItem(f),(w=u.a.newValue)!==y)null!==w?z.localStorage.setItem(f,w):z.localStorage.removeItem(f);else if(this.b[f]===w&&typeof u.a.a>"u")return;var x=this;y=function(){(typeof u.a.a<"u"||x.b[f]!==z.localStorage.getItem(f))&&(x.b[f]=z.localStorage.getItem(f),x.nb(f))},wr&&xe&&10==xe&&z.localStorage.getItem(f)!==u.a.newValue&&u.a.newValue!==u.a.oldValue?setTimeout(y,10):y()}}else bn(u,Xe(this.nb,this))},I.nb=function(u){this.a[u]&&bn(this.a[u],function(f){f()})};var Ml,Wh={name:"authEvent",F:"local"};function Fm(){this.a=hs()}function Kh(u,f){this.b=Tf,this.f=z.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=u,this.h=f,this.l=z.Int32Array?new Int32Array(64):Array(64),void 0===Ml&&(Ml=z.Int32Array?new Int32Array(Xh):Xh),this.reset()}ft(Kh,function Lm(){this.b=-1});for(var Tf=64,iu=Tf-1,mi=[],hg=0;hg<iu;hg++)mi[hg]=0;var yc=gn(128,mi);function Af(u){for(var f=u.f,y=u.l,w=0,D=0;D<f.length;)y[w++]=f[D]<<24|f[D+1]<<16|f[D+2]<<8|f[D+3],D=4*w;for(f=16;64>f;f++){var x=(0|y[f-16])+(((D=0|y[f-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)|0,N=(0|y[f-7])+(((w=0|y[f-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;y[f]=x+N|0}w=0|u.a[0],D=0|u.a[1];var U=0|u.a[2],ce=0|u.a[3],a=0|u.a[4],s=0|u.a[5],l=0|u.a[6];for(x=0|u.a[7],f=0;64>f;f++){var d=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&D^w&U^D&U)|0;N=(x=x+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))|0)+((N=(N=a&s^~a&l)+(0|Ml[f])|0)+(0|y[f])|0)|0,x=l,l=s,s=a,a=ce+N|0,ce=U,U=D,D=w,w=N+d|0}u.a[0]=u.a[0]+w|0,u.a[1]=u.a[1]+D|0,u.a[2]=u.a[2]+U|0,u.a[3]=u.a[3]+ce|0,u.a[4]=u.a[4]+a|0,u.a[5]=u.a[5]+s|0,u.a[6]=u.a[6]+l|0,u.a[7]=u.a[7]+x|0}function Yh(u,f,y){void 0===y&&(y=f.length);var w=0,D=u.c;if("string"==typeof f)for(;w<y;)u.f[D++]=f.charCodeAt(w++),D==u.b&&(Af(u),D=0);else{if(!Ut(f))throw Error("message must be string or array");for(;w<y;){var x=f[w++];if(!("number"==typeof x&&0<=x&&255>=x&&x==(0|x)))throw Error("message must be a byte array");u.f[D++]=x,D==u.b&&(Af(u),D=0)}}u.c=D,u.g+=y}Kh.prototype.reset=function(){this.g=this.c=0,this.a=z.Int32Array?new Int32Array(this.h):Hn(this.h)};var Xh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bm(){Kh.call(this,8,uy)}ft(Bm,Kh);var uy=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Mf(u,f,y,w,D,x){this.v=u,this.i=f,this.l=y,this.m=w||null,this.u=D||null,this.s=x,this.h=f+":"+y,this.C=new Fm,this.g=new Al(this.h),this.f=null,this.b=[],this.a=this.c=null}function ou(u){return new B("invalid-cordova-configuration",u)}function Qh(u,f){for(var y=0;y<u.b.length;y++)try{u.b[y](f)}catch{}}function Vm(u){return u.f||(u.f=u.ma().then(function(){return new Pt(function(f){u.Ea(function y(w){return f(w),u.Ta(y),!1}),function $i(u){function f(N){w=!0,D&&D.cancel(),Rf(u).then(function(U){var ce=y;if(U&&N&&N.url){var a=null;-1!=(ce=Ga(N.url)).indexOf("/__/auth/callback")&&(a=(a="object"==typeof(a=Zn(po(a=Ti(ce),"firebaseError")||null))?ve(a):null)?new ao(U.c,U.b,null,null,a,null,U.T()):new ao(U.c,U.b,ce,U.f,null,null,U.T())),ce=a||y}Qh(u,ce)})}var y=new ao("unknown",null,null,null,new B("no-auth-event")),w=!1,D=Ii(500).then(function(){return Rf(u).then(function(){w||Qh(u,y)})}),x=z.handleOpenURL;z.handleOpenURL=function(N){if(0==N.toLowerCase().indexOf(Qe("BuildInfo.packageName",z).toLowerCase()+"://")&&f({url:N}),"function"==typeof x)try{x(N)}catch(U){console.error(U)}},Bp||(Bp=new Bn),function Ri(u){var f=Bp;f.a.push(u),f.b||(f.b=function(y){for(var w=0;w<f.a.length;w++)f.a[w](y)},"function"==typeof(u=Qe("universalLinks.subscribe",z))&&u(null,f.b))}(f)}(u)})})),u.f}function Rf(u){var f=null;return function If(u){return u.b.get(Wh,u.a).then(function(f){return hl(f)})}(u.g).then(function(y){return f=y,Gh((y=u.g).b,Wh,y.a)}).then(function(){return f})}function kf(u){this.a=u,this.b=hs()}(I=Mf.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function ie(){return ge(void 0)?Jr().then(function(){return new Pt(function(u,f){var y=z.document,w=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);y.addEventListener("deviceready",function(){clearTimeout(w),u()},!1)})}):Xn(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Qe("universalLinks.subscribe",z))throw ou("cordova-universal-links-plugin-fix is not installed");if(typeof Qe("BuildInfo.packageName",z)>"u")throw ou("cordova-plugin-buildinfo is not installed");if("function"!=typeof Qe("cordova.plugins.browsertab.openUrl",z))throw ou("cordova-plugin-browsertab is not installed");if("function"!=typeof Qe("cordova.InAppBrowser.open",z))throw ou("cordova-plugin-inappbrowser is not installed")},function(){throw new B("cordova-not-ready")})},I.Pb=function(u,f){return f(new B("operation-not-supported-in-this-environment")),tt()},I.Nb=function(){return Xn(new B("operation-not-supported-in-this-environment"))},I.ac=function(){return!1},I.Yb=function(){return!0},I.Ub=function(){return!0},I.Ob=function(u,f,y,w){if(this.c)return Xn(new B("redirect-operation-pending"));var D=this,x=z.document,N=null,U=null,ce=null,a=null;return this.c=tt().then(function(){return Sr(f),Vm(D)}).then(function(){return function dg(u,f,y,w,D){var x=function cy(){for(var u=20,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}(),N=new ao(f,w,null,x,new B("no-auth-event"),null,D),U=Qe("BuildInfo.packageName",z);if("string"!=typeof U)throw new B("invalid-cordova-configuration");var ce=Qe("BuildInfo.displayName",z),a={};if(ei().toLowerCase().match(/iphone|ipad|ipod/))a.ibi=U;else{if(!ei().toLowerCase().match(/android/))return Xn(new B("operation-not-supported-in-this-environment"));a.apn=U}ce&&(a.appDisplayName=ce),x=function ly(u){var f=new Bm;Yh(f,u),u=[];var y=8*f.g;Yh(f,yc,56>f.c?56-f.c:f.b-(f.c-56));for(var w=63;56<=w;w--)f.f[w]=255&y,y/=256;for(Af(f),w=y=0;w<f.i;w++)for(var D=24;0<=D;D-=8)u[y++]=f.a[w]>>D&255;return function $u(u){return $t(u,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(u)}(x),a.sessionId=x;var s=pc(u.v,u.i,u.l,f,y,null,w,u.m,a,u.u,D,u.s);return u.ma().then(function(){var l=u.h;return u.C.a.set(Wh,N.w(),l)}).then(function(){var l=Qe("cordova.plugins.browsertab.isAvailable",z);if("function"!=typeof l)throw new B("invalid-cordova-configuration");var d=null;l(function(g){if(g){if("function"!=typeof(d=Qe("cordova.plugins.browsertab.openUrl",z)))throw new B("invalid-cordova-configuration");d(s)}else{if("function"!=typeof(d=Qe("cordova.InAppBrowser.open",z)))throw new B("invalid-cordova-configuration");g=ei(),u.a=d(s,g.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||g.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(D,u,f,y,w)}).then(function(){return new Pt(function(s,l){U=function(){var d=Qe("cordova.plugins.browsertab.close",z);return s(),"function"==typeof d&&d(),D.a&&"function"==typeof D.a.close&&(D.a.close(),D.a=null),!1},D.Ea(U),a=function(){Vr()&&ce()},x.addEventListener("resume",ce=function(){N||(N=Ii(2e3).then(function(){l(new B("redirect-cancelled-by-user"))}))},!1),ei().toLowerCase().match(/android/)||x.addEventListener("visibilitychange",a,!1)}).o(function(s){return Rf(D).then(function(){throw s})})}).oa(function(){ce&&x.removeEventListener("resume",ce,!1),a&&x.removeEventListener("visibilitychange",a,!1),N&&N.cancel(),U&&D.Ta(U),D.c=null})},I.Ea=function(u){this.b.push(u),Vm(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new ao("unknown",null,null,null,new B("no-auth-event")),u(f))})},I.Ta=function(u){Un(this.b,function(f){return f==u})};var Zh={name:"pendingRedirect",F:"session"};function zr(u){return Gh(u.b,Zh,u.a)}function Rl(u,f,y,w){this.i={},this.u=0,this.D=u,this.v=f,this.m=y,this.J=w,this.h=[],this.f=!1,this.l=Xe(this.s,this),this.b=new Co,this.C=new Bf,this.g=new kf(Pf(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jm(this.D,this.v,this.m,Ct,this.J)}function jm(u,f,y,w,D){var x=me.Z.SDK_VERSION||null;return ge()?new Mf(u,f,y,x,w,D):new gf(u,f,y,x,w,D)}function Um(u){u.f||(u.f=!0,u.a.Ea(u.l));var f=u.a;return u.a.ma().o(function(y){throw u.a==f&&u.reset(),y})}function ed(u){u.a.Yb()&&Um(u).o(function(f){var y=new ao("unknown",null,null,null,new B("operation-not-supported-in-this-environment"));pg(f)&&u.s(y)}),u.a.Ub()||Ff(u.b)}function Of(u,f){xn(u.h,f)||u.h.push(f),u.f||function Jh(u){return u.b.get(Zh,u.a).then(function(f){return"pending"==f})}(u.g).then(function(y){y?zr(u.g).then(function(){Um(u).o(function(w){var D=new ao("unknown",null,null,null,new B("operation-not-supported-in-this-environment"));pg(w)&&u.s(D)})}):ed(u)}).o(function(){ed(u)})}function Nf(u,f){Un(u.h,function(y){return y==f})}Rl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jm(this.D,this.v,this.m,null,this.J),this.i={}},Rl.prototype.s=function(u){if(!u)throw new B("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),u&&u.getUid()&&this.i.hasOwnProperty(u.getUid()))return!1;for(var f=!1,y=0;y<this.h.length;y++){var w=this.h[y];if(w.Gb(u.c,u.b)){(f=this.c[u.c])&&(f.h(u,w),u&&(u.f||u.b)&&(this.i[u.getUid()]=!0,this.u=Date.now())),f=!0;break}}return Ff(this.b),f};var Hm=new Ui(2e3,1e4),fg=new Ui(3e4,6e4);function qm(u,f,y,w,D,x,N){return u.a.Nb(f,y,w,function(){u.f||(u.f=!0,u.a.Ea(u.l))},function(){u.reset()},D,x,N)}function pg(u){return!(!u||"auth/cordova-not-ready"!=u.code)}function zm(u,f,y,w,D){var x;return function xf(u){return u.b.set(Zh,"pending",u.a)}(u.g).then(function(){return u.a.Ob(f,y,w,D).o(function(N){if(pg(N))throw new B("operation-not-supported-in-this-environment");return x=N,zr(u.g).then(function(){throw x})}).then(function(){return u.a.ac()?new Pt(function(){}):zr(u.g).then(function(){return u.ra()}).then(function(){}).o(function(){})})})}function $m(u,f,y,w,D){return u.a.Pb(w,function(x){f.na(y,null,x,D)},Hm.get())}Rl.prototype.ra=function(){return this.b.ra()};var td={};function Pf(u,f,y){return u=u+":"+f,y&&(u=u+":"+y.url),u}function Eo(u,f,y,w){var D=Pf(f,y,w);return td[D]||(td[D]=new Rl(u,f,y,w)),td[D]}function Co(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ff(u){u.g||(u.g=!0,kl(u,!1,null,null))}function Lf(u){u.g&&!u.i&&kl(u,!1,null,null)}function gg(u,f){if(u.b=function(){return tt(f)},u.f.length)for(var y=0;y<u.f.length;y++)u.f[y](f)}function kl(u,f,y,w){f?w?function su(u,f){if(u.b=function(){return Xn(f)},u.c.length)for(var y=0;y<u.c.length;y++)u.c[y](f)}(u,w):gg(u,y):gg(u,{user:null}),u.f=[],u.c=[]}function Bf(){}function Wm(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(u){this.jb=u},enumerable:!1})}function nd(u,f){this.a=f,Ge(this,"verificationId",u)}function Vf(u,f,y,w){return new rr(u).gb(f,y).then(function(D){return new nd(D,w)})}function rd(u){var f=hm(u);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new B("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ue(this,{token:u,expirationTime:xo(1e3*f.exp),authTime:xo(1e3*f.auth_time),issuedAtTime:xo(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function vg(u,f,y){var w=f&&f[xl];if(!w)throw new B("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=u,this.f=G(f),this.g=y,this.c=new ul(null,w),this.b=[];var D=this;bn(f[yg]||[],function(x){(x=Bu(x))&&D.b.push(x)}),Ge(this,"auth",this.a),Ge(this,"session",this.c),Ge(this,"hints",this.b)}Co.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Co.prototype.h=function(u,f){if(u){this.reset(),this.g=!0;var y=u.c,w=u.b,D=u.a&&"auth/web-storage-unsupported"==u.a.code,x=u.a&&"auth/operation-not-supported-in-this-environment"==u.a.code;this.i=!(!D&&!x),"unknown"!=y||D||x?u.a?(kl(this,!0,null,u.a),tt()):f.Fa(y,w)?function Gm(u,f,y){y=y.Fa(f.c,f.b);var w=f.g,D=f.f,x=f.i,N=f.T(),U=!!f.c.match(/Redirect$/);y(w,D,N,x).then(function(ce){kl(u,U,ce,null)}).o(function(ce){kl(u,U,null,ce)})}(this,u,f):Xn(new B("invalid-auth-event")):(kl(this,!1,null,null),tt())}else Xn(new B("invalid-auth-event"))},Co.prototype.ra=function(){var u=this;return new Pt(function(f,y){u.b?u.b().then(f,y):(u.f.push(f),u.c.push(y),function lo(u){var f=new B("timeout");u.a&&u.a.cancel(),u.a=Ii(fg.get()).then(function(){u.b||(u.g=!0,kl(u,!0,null,f))})}(u))})},Bf.prototype.h=function(u,f){if(u){var y=u.c,w=u.b;u.a?(f.na(u.c,null,u.a,u.b),tt()):f.Fa(y,w)?function mg(u,f){var y=u.b,w=u.c;f.Fa(w,y)(u.g,u.f,u.T(),u.i).then(function(D){f.na(w,D,null,y)}).o(function(D){f.na(w,null,D,y)})}(u,f):Xn(new B("invalid-auth-event"))}else Xn(new B("invalid-auth-event"))},nd.prototype.confirm=function(u){return u=Xv(this.verificationId,u),this.a(u)};var yg="mfaInfo",xl="mfaPendingCredential";function _c(u,f,y,w){B.call(this,"multi-factor-auth-required",w,f),this.b=new vg(u,f,y),Ge(this,"resolver",this.b)}function _g(u,f,y){if(u&&_t(u.serverResponse)&&"auth/multi-factor-auth-required"===u.code)try{return new _c(f,u.serverResponse,y,u.message)}catch{}return null}function Km(){}function Ol(u){Ge(this,"factorId",u.fa),this.a=u}function wg(u){if(Ol.call(this,u),this.a.fa!=rr.PROVIDER_ID)throw new B("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ds(u,f){for(var y in We.call(this,u),f)this[y]=f[y]}function Eg(u,f){this.a=u,this.b=[],this.c=Xe(this.yc,this),kr(this.a,"userReloaded",this.c);var y=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&bn(f.multiFactor.enrolledFactors,function(w){var D=null,x={};if(w){w.uid&&(x[ju]=w.uid),w.displayName&&(x[Ud]=w.displayName),w.enrollmentTime&&(x[Vu]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(x[nl]=w.phoneNumber);try{D=new Uu(x)}catch{}w=D}else w=null;w&&y.push(w)}),jf(this,y)}function jf(u,f){u.b=f,Ge(u,"enrolledFactors",f)}function Cg(u,f,y){if(this.h=u,this.i=f,this.g=y,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Uf(u,f){u.stop(),u.b=Ii(function Ym(u,f){return f?(u.a=u.c,u.g()):(f=u.a,u.a*=2,u.a>u.f&&(u.a=u.f),f)}(u,f)).then(function(){return function f_(){var u=z.document,f=null;return Vr()||!u?tt():new Pt(function(y){f=function(){Vr()&&(u.removeEventListener("visibilitychange",f,!1),y())},u.addEventListener("visibilitychange",f,!1)}).o(function(y){throw u.removeEventListener("visibilitychange",f,!1),y})}()}).then(function(){return u.h()}).then(function(){Uf(u,!0)}).o(function(y){u.i(y)&&Uf(u,!1)})}function Nl(u){this.f=u,this.b=this.a=null,this.c=Date.now()}function wc(u,f){typeof f>"u"&&(f=u.b?(f=u.b).a-f.g:0),u.c=Date.now()+1e3*f}function Hf(u,f){u.b=es(f[us]||""),u.a=f.refreshToken,wc(u,typeof(f=f.expiresIn)<"u"?Number(f):void 0)}function Pl(u,f){this.a=u||null,this.b=f||null,Ue(this,{lastSignInTime:xo(f||null),creationTime:xo(u||null)})}function Dg(u,f,y,w,D,x){Ue(this,{uid:u,displayName:w||null,photoURL:D||null,email:y||null,phoneNumber:x||null,providerId:f})}function Pr(u,f,y){this.N=[],this.l=u.apiKey,this.m=u.appName,this.s=u.authDomain||null;var w=me.Z.SDK_VERSION?el(me.Z.SDK_VERSION):null;this.a=new Kn(this.l,ct(Ct),w),(this.u=u.emulatorConfig||null)&&_o(this.a,this.u),this.h=new Nl(this.a),Sc(this,f[us]),Hf(this.h,f),Ge(this,"refreshToken",this.h.a),Wf(this,y||{}),dr.call(this),this.P=!1,this.s&&ja()&&(this.b=Eo(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function Qm(u){return new Cg(function(){return u.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=u.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=Xe(this.ib,this);var D=this;this.za=null,this.Pa=function(x){D.xa(x.h)},this.qa=null,this.Ba=function(x){qf(D,x.c)},this.$=null,this.aa=[],this.Oa=function(x){od(D,x.f)},this.ja=null,this.S=new Eg(this,y),Ge(this,"multiFactor",this.S)}function qf(u,f){u.u=f,_o(u.a,f),u.b&&(f=u.b,u.b=Eo(u.s,u.l,u.m,u.u),u.P&&(Nf(f,u),Of(u.b,u)))}function Cc(u,f){u.qa&&sr(u.qa,"languageCodeChanged",u.Pa),(u.qa=f)&&kr(f,"languageCodeChanged",u.Pa)}function zf(u,f){u.$&&sr(u.$,"emulatorConfigChanged",u.Ba),(u.$=f)&&kr(f,"emulatorConfigChanged",u.Ba)}function od(u,f){u.aa=f,aa(u.a,me.Z.SDK_VERSION?el(me.Z.SDK_VERSION,u.aa):null)}function Dc(u,f){u.ja&&sr(u.ja,"frameworkChanged",u.Oa),(u.ja=f)&&kr(f,"frameworkChanged",u.Oa)}function Sg(u){try{return me.Z.app(u.m).auth()}catch{throw new B("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+u.m+"'!")}}function Ig(u){u.J||u.D.b||(u.D.start(),sr(u,"tokenChanged",u.ba),kr(u,"tokenChanged",u.ba))}function $f(u){sr(u,"tokenChanged",u.ba),u.D.stop()}function Sc(u,f){u.Aa=f,Ge(u,"_lat",f)}function fs(u){for(var f=[],y=0;y<u.W.length;y++)f.push(u.W[y](u));return M(f).then(function(){return u})}function da(u){u.b&&!u.P&&(u.P=!0,Of(u.b,u))}function Wf(u,f){Ue(u,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new Pl(f.createdAt,f.lastLoginAt),providerData:[]}),u.a.b=u.tenantId}function Ic(){}function ln(u){return tt().then(function(){if(u.J)throw new B("app-deleted")})}function Fl(u){return $t(u.providerData,function(f){return f.providerId})}function au(u,f){f&&(Ll(u,f.providerId),u.providerData.push(f))}function Ll(u,f){Un(u.providerData,function(y){return y.providerId==f})}function Tn(u,f,y){("uid"!=f||y)&&u.hasOwnProperty(f)&&Ge(u,f,y)}function vi(u,f){u!=f&&(Ue(u,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),Ge(u,"metadata",f.metadata?function Ec(u){return new Pl(u.a,u.b)}(f.metadata):new Pl),bn(f.providerData,function(y){au(u,y)}),function id(u,f){u.b=f.b,u.a=f.a,u.c=f.c}(u.h,f.h),Ge(u,"refreshToken",u.h.a),jf(u.S,f.S.b))}function Vs(u){return u.I().then(function(f){var y=u.isAnonymous;return function Bl(u,f){return nn(u.a,Yp,{idToken:f}).then(Xe(u.Kc,u))}(u,f).then(function(){return y||Tn(u,"isAnonymous",!1),f})})}function Lo(u,f){f[us]&&u.Aa!=f[us]&&(Hf(u.h,f),u.dispatchEvent(new ds("tokenChanged")),Sc(u,f[us]),Tn(u,"refreshToken",u.h.a))}function Kf(u,f){return Vs(u).then(function(){if(xn(Fl(u),f))return fs(u).then(function(){throw new B("provider-already-linked")})})}function Vl(u,f,y){return Mi({user:u,credential:Qd(f),additionalUserInfo:f=kh(f),operationType:y})}function Tc(u,f){return Lo(u,f),u.reload().then(function(){return u})}function Ag(u,f,y,w,D){if(!ja())return Xn(new B("operation-not-supported-in-this-environment"));if(u.i&&!D)return Xn(u.i);var x=go(y.providerId),N=Kt(u.uid+":::"),U=null;(!Wt()||ro())&&u.s&&y.isOAuthProvider&&(U=pc(u.s,u.l,u.m,f,y,null,N,me.Z.SDK_VERSION||null,null,null,u.tenantId,u.u));var ce=wh(U,x&&x.va,x&&x.ua);return w=w().then(function(){if(gr(u),!D)return u.I().then(function(){})}).then(function(){return qm(u.b,ce,f,y,N,!!U,u.tenantId)}).then(function(){return new Pt(function(a,s){u.na(f,null,new B("cancelled-popup-request"),u.g||null),u.f=a,u.C=s,u.g=N,u.c=$m(u.b,u,f,ce,N)})}).then(function(a){return ce&&Va(ce),a?Mi(a):null}).o(function(a){throw ce&&Va(ce),a}),At(u,w,D)}function Zm(u,f,y,w,D){if(!ja())return Xn(new B("operation-not-supported-in-this-environment"));if(u.i&&!D)return Xn(u.i);var x=null,N=Kt(u.uid+":::");return w=w().then(function(){if(gr(u),!D)return u.I().then(function(){})}).then(function(){return u.ga=N,fs(u)}).then(function(U){return u.ha&&(U=(U=u.ha).b.set(fa,u.w(),U.a)),U}).then(function(){return zm(u.b,f,y,N,u.tenantId)}).o(function(U){if(x=U,u.ha)return jl(u.ha);throw x}).then(function(){if(x)throw x}),At(u,w,D)}function gr(u){if(!u.b||!u.P)throw new B(u.b&&!u.P?"internal-error":"auth-domain-config-required")}function At(u,f,y){var w=function Jm(u,f,y){return u.i&&!y?(f.cancel(),Xn(u.i)):f.o(function(w){throw!w||"auth/user-disabled"!=w.code&&"auth/user-token-expired"!=w.code||(u.i||u.dispatchEvent(new ds("userInvalidated")),u.i=w),w})}(u,f,y);return u.N.push(w),w.oa(function(){Nn(u.N,w)}),w.o(function(D){var x=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(x=_g(D.w(),Sg(u),Xe(u.jc,u))),x||D})}function Yf(u){if(!u.apiKey)return null;var f={apiKey:u.apiKey,authDomain:u.authDomain,appName:u.appName,emulatorConfig:u.emulatorConfig},y={};if(!u.stsTokenManager||!u.stsTokenManager.accessToken)return null;y[us]=u.stsTokenManager.accessToken,y.refreshToken=u.stsTokenManager.refreshToken||null;var w=u.stsTokenManager.expirationTime;w&&(y.expiresIn=(w-Date.now())/1e3);var D=new Pr(f,y,u);return u.providerData&&bn(u.providerData,function(x){x&&au(D,Mi(x))}),u.redirectEventId&&(D.ga=u.redirectEventId),D}function Ac(u){this.a=u,this.b=hs()}vg.prototype.Rc=function(u){var f=this;return u.tb(this.a.a,this.c).then(function(y){var w=G(f.f);return delete w[yg],delete w[xl],ne(w,y),f.g(w)})},ft(_c,B),Km.prototype.tb=function(u,f,y){return f.type==cl?function bc(u,f,y,w){return y.Ha().then(function(D){return D={idToken:D},typeof w<"u"&&(D.displayName=w),ne(D,{phoneVerificationInfo:Xd(u.a)}),nn(f,Dm,D)})}(this,u,f,y):function bg(u,f,y){return y.Ha().then(function(w){return ne(w={mfaPendingCredential:w},{phoneVerificationInfo:Xd(u.a)}),nn(f,lc,w)})}(this,u,f)},ft(Ol,Km),ft(wg,Ol),ft(ds,We),(I=Eg.prototype).yc=function(u){jf(this,function hy(u){var f=[];return bn(u.mfaInfo||[],function(y){(y=Bu(y))&&f.push(y)}),f}(u.hd))},I.Sb=function(){return this.a.I().then(function(u){return new ul(u,null)})},I.fc=function(u,f){var y=this,w=this.a.a;return this.Sb().then(function(D){return u.tb(w,D,f)}).then(function(D){return Lo(y.a,D),y.a.reload()})},I.bd=function(u){var f=this,y="string"==typeof u?u:u.uid,w=this.a.a;return this.a.I().then(function(D){return nn(w,El,{idToken:D,mfaEnrollmentId:y})}).then(function(D){var x=Du(f.b,function(N){return N.uid!=y});return jf(f,x),Lo(f.a,D),f.a.reload().o(function(N){if("auth/user-token-expired"!=N.code)throw N})})},I.w=function(){return{multiFactor:{enrolledFactors:$t(this.b,function(u){return u.w()})}}},Cg.prototype.start=function(){this.a=this.c,Uf(this,!0)},Cg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Nl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Nl.prototype.getToken=function(u){return u=!!u,this.b&&!this.a?Xn(new B("user-token-expired")):u||!this.b||Date.now()>this.c-3e4?this.a?function Xm(u,f){return function _l(u,f){return new Pt(function(y,w){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?$p(u,u.l+"?key="+encodeURIComponent(u.c),function(D){D?D.error?w(ng(D)):D.access_token&&D.refresh_token?y(D):w(new B("internal-error")):w(new B("network-request-failed"))},"POST",Ld(f).toString(),u.g,u.m.get()):w(new B("internal-error"))})}(u.f,f).then(function(y){return u.b=es(y.access_token),u.a=y.refresh_token,wc(u,y.expires_in),{accessToken:u.b.toString(),refreshToken:u.a}}).o(function(y){throw"auth/user-token-expired"==y.code&&(u.a=null),y})}(this,{grant_type:"refresh_token",refresh_token:this.a}):tt(null):tt({accessToken:this.b.toString(),refreshToken:this.a})},Pl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},ft(Pr,dr),Pr.prototype.xa=function(u){this.za=u,zp(this.a,u)},Pr.prototype.la=function(){return this.za},Pr.prototype.Ga=function(){return Hn(this.aa)},Pr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Ge(Pr.prototype,"providerId","firebase"),(I=Pr.prototype).reload=function(){var u=this;return At(this,ln(this).then(function(){return Vs(u).then(function(){return fs(u)}).then(Ic)}))},I.oc=function(u){return this.I(u).then(function(f){return new rd(f)})},I.I=function(u){var f=this;return At(this,ln(this).then(function(){return f.h.getToken(u)}).then(function(y){if(!y)throw new B("internal-error");return y.accessToken!=f.Aa&&(Sc(f,y.accessToken),f.dispatchEvent(new ds("tokenChanged"))),Tn(f,"refreshToken",y.refreshToken),y.accessToken}))},I.Kc=function(u){if(!(u=u.users)||!u.length)throw new B("internal-error");Wf(this,{uid:(u=u[0]).localId,displayName:u.displayName,photoURL:u.photoUrl,email:u.email,emailVerified:!!u.emailVerified,phoneNumber:u.phoneNumber,lastLoginAt:u.lastLoginAt,createdAt:u.createdAt,tenantId:u.tenantId});for(var f=function Tg(u){return(u=u.providerUserInfo)&&u.length?$t(u,function(f){return new Dg(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(u),y=0;y<f.length;y++)au(this,f[y]);Tn(this,"isAnonymous",!(this.email&&u.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ds("userReloaded",{hd:u}))},I.Lc=function(u){return Ua("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(u)},I.ub=function(u){var f=this,y=null;return At(this,u.c(this.a,this.uid).then(function(w){return Lo(f,w),y=Vl(f,w,"reauthenticate"),f.i=null,f.reload()}).then(function(){return y}),!0)},I.Cc=function(u){return Ua("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(u)},I.rb=function(u){var f=this,y=null;return At(this,Kf(this,u.providerId).then(function(){return f.I()}).then(function(w){return u.b(f.a,w)}).then(function(w){return y=Vl(f,w,"link"),Tc(f,w)}).then(function(){return y}))},I.Dc=function(u,f){var y=this;return At(this,Kf(this,"phone").then(function(){return Vf(Sg(y),u,f,Xe(y.rb,y))}))},I.Mc=function(u,f){var y=this;return At(this,tt().then(function(){return Vf(Sg(y),u,f,Xe(y.ub,y))}),!0)},I.Cb=function(u){var f=this;return At(this,this.I().then(function(y){return f.a.Cb(y,u)}).then(function(y){return Lo(f,y),f.reload()}))},I.ed=function(u){var f=this;return At(this,this.I().then(function(y){return u.b(f.a,y)}).then(function(y){return Lo(f,y),f.reload()}))},I.Db=function(u){var f=this;return At(this,this.I().then(function(y){return f.a.Db(y,u)}).then(function(y){return Lo(f,y),f.reload()}))},I.Eb=function(u){if(void 0===u.displayName&&void 0===u.photoURL)return ln(this);var f=this;return At(this,this.I().then(function(y){return f.a.Eb(y,{displayName:u.displayName,photoUrl:u.photoURL})}).then(function(y){return Lo(f,y),Tn(f,"displayName",y.displayName||null),Tn(f,"photoURL",y.photoUrl||null),bn(f.providerData,function(w){"password"===w.providerId&&(Ge(w,"displayName",f.displayName),Ge(w,"photoURL",f.photoURL))}),fs(f)}).then(Ic))},I.cd=function(u){var f=this;return At(this,Vs(this).then(function(y){return xn(Fl(f),u)?function wm(u,f,y){return nn(u,cc,{idToken:f,deleteProvider:y})}(f.a,y,[u]).then(function(w){var D={};return bn(w.providerUserInfo||[],function(x){D[x.providerId]=!0}),bn(Fl(f),function(x){D[x]||Ll(f,x)}),D[rr.PROVIDER_ID]||Ge(f,"phoneNumber",null),fs(f)}):fs(f).then(function(){throw new B("no-such-provider")})}))},I.delete=function(){var u=this;return At(this,this.I().then(function(f){return nn(u.a,Fo,{idToken:f})}).then(function(){u.dispatchEvent(new ds("userDeleted"))})).then(function(){for(var f=0;f<u.N.length;f++)u.N[f].cancel("app-deleted");Cc(u,null),zf(u,null),Dc(u,null),u.N=[],u.J=!0,$f(u),Ge(u,"refreshToken",null),u.b&&Nf(u.b,u)})},I.Gb=function(u,f){return!!("linkViaPopup"==u&&(this.g||null)==f&&this.f||"reauthViaPopup"==u&&(this.g||null)==f&&this.f||"linkViaRedirect"==u&&(this.ga||null)==f||"reauthViaRedirect"==u&&(this.ga||null)==f)},I.na=function(u,f,y,w){"linkViaPopup"!=u&&"reauthViaPopup"!=u||w!=(this.g||null)||(y&&this.C?this.C(y):f&&!y&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},I.Fa=function(u,f){return"linkViaPopup"==u&&f==(this.g||null)?Xe(this.Lb,this):"reauthViaPopup"==u&&f==(this.g||null)?Xe(this.Mb,this):"linkViaRedirect"==u&&(this.ga||null)==f?Xe(this.Lb,this):"reauthViaRedirect"==u&&(this.ga||null)==f?Xe(this.Mb,this):null},I.Ec=function(u){var f=this;return Ag(this,"linkViaPopup",u,function(){return Kf(f,u.providerId).then(function(){return fs(f)})},!1)},I.Nc=function(u){return Ag(this,"reauthViaPopup",u,function(){return tt()},!0)},I.Fc=function(u){var f=this;return Zm(this,"linkViaRedirect",u,function(){return Kf(f,u.providerId)},!1)},I.Oc=function(u){return Zm(this,"reauthViaRedirect",u,function(){return tt()},!0)},I.Lb=function(u,f,y,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var x=null;return At(this,this.I().then(function(N){return Lh(D.a,{requestUri:u,postBody:w,sessionId:f,idToken:N})}).then(function(N){return x=Vl(D,N,"link"),Tc(D,N)}).then(function(){return x}))},I.Mb=function(u,f,y,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var x=null;return At(this,tt().then(function(){return Dr(lf(D.a,{requestUri:u,sessionId:f,postBody:w,tenantId:y}),D.uid)}).then(function(U){return x=Vl(D,U,"reauthenticate"),Lo(D,U),D.i=null,D.reload()}).then(function(){return x}),!0)},I.vb=function(u){var f=this,y=null;return At(this,this.I().then(function(w){return y=w,typeof u>"u"||W(u)?{}:ea(new qd(u))}).then(function(w){return f.a.vb(y,w)}).then(function(w){if(f.email!=w)return f.reload()}).then(function(){}))},I.Fb=function(u,f){var y=this,w=null;return At(this,this.I().then(function(D){return w=D,typeof f>"u"||W(f)?{}:ea(new qd(f))}).then(function(D){return y.a.Fb(w,u,D)}).then(function(D){if(y.email!=D)return y.reload()}).then(function(){}))},I.jc=function(u){var f=null,y=this;return At(this,u=Dr(tt(u),y.uid).then(function(w){return f=Vl(y,w,"reauthenticate"),Lo(y,w),y.i=null,y.reload()}).then(function(){return f}),!0)},I.toJSON=function(){return this.w()},I.w=function(){var u={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ne(u,this.metadata.w()),bn(this.providerData,function(f){u.providerData.push(function As(u){var y,f={};for(y in u)u.hasOwnProperty(y)&&(f[y]=u[y]);return f}(f))}),ne(u,this.S.w()),u};var fa={name:"redirectUser",F:"session"};function jl(u){return Gh(u.b,fa,u.a)}function Mg(u){this.a=u,this.b=hs(),this.c=null,this.f=function Mt(u){var f=ps("local"),y=ps("session"),w=ps("none");return function y_(u,f,y){var w=$h(f,y),D=Bs(u,f.F);return u.get(f,y).then(function(x){var N=null;try{N=Zn(z.localStorage.getItem(w))}catch{}if(N&&!x)return z.localStorage.removeItem(w),u.set(f,N,y);N&&x&&"localStorage"!=D.type&&z.localStorage.removeItem(w)})}(u.b,f,u.a).then(function(){return u.b.get(y,u.a)}).then(function(D){return D?y:u.b.get(w,u.a).then(function(x){return x?w:u.b.get(f,u.a).then(function(N){return N?f:u.b.get(ir,u.a).then(function(U){return U?ps(U):f})})})}).then(function(D){return u.c=D,Xf(u,D.F)}).o(function(){u.c||(u.c=f)})}(this),this.b.addListener(ps("local"),this.a,Xe(this.g,this))}function Xf(u,f){var w,y=[];for(w in ru)ru[w]!==f&&y.push(Gh(u.b,ps(ru[w]),u.a));return y.push(Gh(u.b,ir,u.a)),function R(u){return new Pt(function(f,y){var w=u.length,D=[];if(w)for(var x=function(a,s){w--,D[a]=s,0==w&&f(D)},N=function(a){y(a)},U=0;U<u.length;U++)Yo(u[U],Qt(x,U),N);else f(D)})}(y)}Mg.prototype.g=function(){var u=this,f=ps("local");Ul(this,function(){return tt().then(function(){return u.c&&"local"!=u.c.F?u.b.get(f,u.a):null}).then(function(y){if(y)return Xf(u,"local").then(function(){u.c=f})})})};var ir={name:"persistence",F:"session"};function ps(u){return{name:"authUser",F:u}}function sd(u,f){return Ul(u,function(){return u.b.set(u.c,f.w(),u.a)})}function Qf(u){return Ul(u,function(){return Gh(u.b,u.c,u.a)})}function Zf(u,f,y){return Ul(u,function(){return u.b.get(u.c,u.a).then(function(w){return w&&f&&(w.authDomain=f),w&&y&&(w.emulatorConfig=y),Yf(w||{})})})}function Ul(u,f){return u.f=u.f.then(f,f),u.f}function Bo(u){if(this.l=!1,Ge(this,"settings",new Wm),Ge(this,"app",u),!vn(this).options||!vn(this).options.apiKey)throw new B("invalid-api-key");u=me.Z.SDK_VERSION?el(me.Z.SDK_VERSION):null,this.a=new Kn(vn(this).options&&vn(this).options.apiKey,ct(Ct),u),this.P=[],this.s=[],this.N=[],this.Pa=me.Z.INTERNAL.createSubscribe(Xe(this.zc,this)),this.W=void 0,this.ib=me.Z.INTERNAL.createSubscribe(Xe(this.Ac,this)),cu(this,null),this.i=new Mg(vn(this).options.apiKey+":"+vn(this).name),this.D=new Ac(vn(this).options.apiKey+":"+vn(this).name),this.$=zn(this,function iv(u){var f=vn(u).options.authDomain,y=function __(u){var f=function dy(u,f){return u.b.get(fa,u.a).then(function(y){return y&&f&&(y.authDomain=f),Yf(y||{})})}(u.D,vn(u).options.authDomain).then(function(y){return(u.m=y)&&(y.ha=u.D),jl(u.D)});return zn(u,f)}(u).then(function(){return Zf(u.i,f,u.R)}).then(function(w){return w?(w.ha=u.D,u.m&&(u.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return sd(u.i,w).then(function(){return w})}).o(function(D){return"auth/network-request-failed"==D.code?w:Qf(u.i)})):null}).then(function(w){cu(u,w||null)});return zn(u,y)}(this)),this.h=zn(this,function xg(u){return u.$.then(function(){return ad(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var f=u.i;f.b.addListener(ps("local"),f.a,u.ja)}})}(this)),this.ba=!1,this.ja=Xe(this.Zc,this),this.Ba=Xe(this.da,this),this.qa=Xe(this.mc,this),this.za=Xe(this.wc,this),this.Aa=Xe(this.xc,this),this.b=null,function rv(u){var f=vn(u).options.authDomain,y=vn(u).options.apiKey;f&&ja()&&(u.Oa=u.$.then(function(){if(!u.l){if(u.b=Eo(f,y,vn(u).name,u.R),Of(u.b,u),Ht(u)&&da(Ht(u)),u.m){da(u.m);var w=u.m;w.xa(u.la()),Cc(w,u),od(w=u.m,u.J),Dc(w,u),qf(w=u.m,u.R),zf(w,u),u.m=null}return u.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Xe(this.delete,this),this.INTERNAL.logFramework=Xe(this.Gc,this),this.u=0,dr.call(this),function kg(u){Object.defineProperty(u,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),u.aa=null,Object.defineProperty(u,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),u.S=null,Object.defineProperty(u,"emulatorConfig",{get:function(){if(this.R){var f=Ti(this.R.url);f=Mi({protocol:f.c,host:f.a,port:f.g,options:Mi({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function tv(u){We.call(this,"languageCodeChanged"),this.h=u}function nv(u){We.call(this,"emulatorConfigChanged"),this.c=u}function Rg(u){We.call(this,"frameworkChanged"),this.f=u}function qn(u){return u.Oa||Xn(new B("auth-domain-config-required"))}function ad(u){if(!ja())return Xn(new B("operation-not-supported-in-this-environment"));var f=qn(u).then(function(){return u.b.ra()}).then(function(y){return y?Mi(y):null});return zn(u,f)}function cu(u,f){Ht(u)&&(function Gf(u,f){Un(u.W,function(y){return y==f})}(Ht(u),u.Ba),sr(Ht(u),"tokenChanged",u.qa),sr(Ht(u),"userDeleted",u.za),sr(Ht(u),"userInvalidated",u.Aa),$f(Ht(u))),f&&(f.W.push(u.Ba),kr(f,"tokenChanged",u.qa),kr(f,"userDeleted",u.za),kr(f,"userInvalidated",u.Aa),0<u.u&&Ig(f)),Ge(u,"currentUser",f),f&&(f.xa(u.la()),Cc(f,u),od(f,u.J),Dc(f,u),qf(f,u.R),zf(f,u))}function lu(u,f){var y=null,w=null;return zn(u,f.then(function(D){return y=Qd(D),w=kh(D),function ud(u,f){var y={};return y.apiKey=vn(u).options.apiKey,y.authDomain=vn(u).options.authDomain,y.appName=vn(u).name,u.R&&(y.emulatorConfig=u.R),u.$.then(function(){return function ev(u,f,y,w){var D=new Pr(u,f);return y&&(D.ha=y),w&&od(D,w),D.reload().then(function(){return D})}(y,f,u.D,u.Ga())}).then(function(w){return Ht(u)&&w.uid==Ht(u).uid?(vi(Ht(u),w),u.da(w)):(cu(u,w),da(w),u.da(w))}).then(function(){xi(u)})}(u,D)},function(D){var x=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(x=_g(D.w(),u,Xe(u.kc,u))),x||D}).then(function(){return Mi({user:Ht(u),credential:y,additionalUserInfo:w,operationType:"signIn"})}))}function vn(u){return u.app}function Ht(u){return u.currentUser}function Mc(u){return Ht(u)&&Ht(u)._lat||null}function xi(u){if(u.ba){for(var f=0;f<u.s.length;f++)u.s[f]&&u.s[f](Mc(u));if(u.W!==u.getUid()&&u.N.length)for(u.W=u.getUid(),f=0;f<u.N.length;f++)u.N[f]&&u.N[f](Mc(u))}}function zn(u,f){return u.P.push(f),f.oa(function(){Nn(u.P,f)}),f}function Gi(){}function Hl(){this.a={},this.b=1e12}Mg.prototype.yb=function(u){var f=null,y=this;return function Pm(u){var f=new B("invalid-persistence-type"),y=new B("unsupported-persistence-type");e:{for(w in ru)if(ru[w]==u){var w=!0;break e}w=!1}if(!w||"string"!=typeof u)throw f;switch(Se()){case"ReactNative":if("session"===u)throw y;break;case"Node":if("none"!==u)throw y;break;case"Worker":if("session"===u||!og()&&"none"!==u)throw y;break;default:if(!Zs()&&"none"!==u)throw y}}(u),Ul(this,function(){return u!=y.c.F?y.b.get(y.c,y.a).then(function(w){return f=w,Xf(y,u)}).then(function(){if(y.c=ps(u),f)return y.b.set(y.c,f,y.a)}):tt()})},ft(Bo,dr),ft(tv,We),ft(nv,We),ft(Rg,We),(I=Bo.prototype).yb=function(u){return zn(this,u=this.i.yb(u))},I.xa=function(u){this.aa===u||this.l||(this.aa=u,zp(this.a,this.aa),this.dispatchEvent(new tv(this.la())))},I.la=function(){return this.aa},I.fd=function(){var u=z.navigator;this.xa(u&&(u.languages&&u.languages[0]||u.language||u.userLanguage)||null)},I.gd=function(u,f){if(!this.R){if(!/^https?:\/\//.test(u))throw new B("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Jf(u){typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),z.document&&!u&&Jr().then(function(){var f=z.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),z.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:u,ec:f},this.settings.jb=!0,_o(this.a,this.R),this.dispatchEvent(new nv(this.R))}},I.Gc=function(u){this.J.push(u),aa(this.a,me.Z.SDK_VERSION?el(me.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Rg(this.J))},I.Ga=function(){return Hn(this.J)},I.zb=function(u){this.S===u||this.l||(this.S=u,this.a.b=this.S)},I.T=function(){return this.S},I.toJSON=function(){return{apiKey:vn(this).options.apiKey,authDomain:vn(this).options.authDomain,appName:vn(this).name,currentUser:Ht(this)&&Ht(this).w()}},I.Gb=function(u,f){switch(u){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},I.na=function(u,f,y,w){"signInViaPopup"==u&&this.g==w&&(y&&this.C?this.C(y):f&&!y&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},I.Fa=function(u,f){return"signInViaRedirect"==u||"signInViaPopup"==u&&this.g==f&&this.f?Xe(this.ic,this):null},I.ic=function(u,f,y,w){var D=this,x={requestUri:u,postBody:w,sessionId:f,tenantId:y};return this.c&&(this.c.cancel(),this.c=null),D.$.then(function(){return lu(D,Kp(D.a,x))})},I.Xc=function(u){if(!ja())return Xn(new B("operation-not-supported-in-this-environment"));var f=this,y=go(u.providerId),w=Kt(),D=null;(!Wt()||ro())&&vn(this).options.authDomain&&u.isOAuthProvider&&(D=pc(vn(this).options.authDomain,vn(this).options.apiKey,vn(this).name,"signInViaPopup",u,null,w,me.Z.SDK_VERSION||null,null,null,this.T(),this.R));var x=wh(D,y&&y.va,y&&y.ua);return zn(this,y=qn(this).then(function(N){return qm(N,x,"signInViaPopup",u,w,!!D,f.T())}).then(function(){return new Pt(function(N,U){f.na("signInViaPopup",null,new B("cancelled-popup-request"),f.g),f.f=N,f.C=U,f.g=w,f.c=$m(f.b,f,"signInViaPopup",x,w)})}).then(function(N){return x&&Va(x),N?Mi(N):null}).o(function(N){throw x&&Va(x),N}))},I.Yc=function(u){if(!ja())return Xn(new B("operation-not-supported-in-this-environment"));var f=this,y=qn(this).then(function(){return function uu(u){return Ul(u,function(){return u.b.set(ir,u.c.F,u.a)})}(f.i)}).then(function(){return zm(f.b,"signInViaRedirect",u,void 0,f.T())});return zn(this,y)},I.ra=function(){var u=this;return ad(this).then(function(f){return u.b&&Lf(u.b.b),f}).o(function(f){throw u.b&&Lf(u.b.b),f})},I.dd=function(u){if(!u)return Xn(new B("null-user"));if(this.S!=u.tenantId)return Xn(new B("tenant-id-mismatch"));var f=this,y={};y.apiKey=vn(this).options.apiKey,y.authDomain=vn(this).options.authDomain,y.appName=vn(this).name;var w=function js(u,f,y,w){var D=u.h,x={};return x[us]=D.b&&D.b.toString(),x.refreshToken=D.a,f=new Pr(f||{apiKey:u.l,authDomain:u.s,appName:u.m},x),y&&(f.ha=y),w&&od(f,w),vi(f,u),f}(u,y,f.D,f.Ga());return zn(this,this.h.then(function(){if(vn(f).options.apiKey!=u.l)return w.reload()}).then(function(){return Ht(f)&&u.uid==Ht(f).uid?(vi(Ht(f),u),f.da(u)):(cu(f,w),da(w),f.da(w))}).then(function(){xi(f)}))},I.Bb=function(){var u=this;return zn(this,this.h.then(function(){return u.b&&Lf(u.b.b),Ht(u)?(cu(u,null),Qf(u.i).then(function(){xi(u)})):tt()}))},I.Zc=function(){var u=this;return Zf(this.i,vn(this).options.authDomain).then(function(f){if(!u.l){var y;if(y=Ht(u)&&f){y=Ht(u).uid;var w=f.uid;y=null!=y&&""!==y&&null!=w&&""!==w&&y==w}if(y)return vi(Ht(u),f),Ht(u).I();(Ht(u)||f)&&(cu(u,f),f&&(da(f),f.ha=u.D),u.b&&Of(u.b,u),xi(u))}})},I.da=function(u){return sd(this.i,u)},I.mc=function(){xi(this),this.da(Ht(this))},I.wc=function(){this.Bb()},I.xc=function(){this.Bb()},I.kc=function(u){var f=this;return this.h.then(function(){return lu(f,tt(u))})},I.zc=function(u){var f=this;this.addAuthTokenListener(function(){u.next(Ht(f))})},I.Ac=function(u){var f=this;!function pa(u,f){u.N.push(f),zn(u,u.h.then(function(){!u.l&&xn(u.N,f)&&u.W!==u.getUid()&&(u.W=u.getUid(),f(Mc(u)))}))}(this,function(){u.next(Ht(f))})},I.Ic=function(u,f,y){var w=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof u?u(Ht(w)):"function"==typeof u.next&&u.next(Ht(w))}),this.Pa(u,f,y)},I.Hc=function(u,f,y){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),"function"==typeof u?u(Ht(w)):"function"==typeof u.next&&u.next(Ht(w))}),this.ib(u,f,y)},I.nc=function(u){var f=this;return zn(this,this.h.then(function(){return Ht(f)?Ht(f).I(u).then(function(w){return{accessToken:w}}):null}))},I.Tc=function(u){var f=this;return this.h.then(function(){return lu(f,nn(f.a,df,{token:u}))}).then(function(y){var w=y.user;return Tn(w,"isAnonymous",!1),f.da(w),y})},I.Uc=function(u,f){var y=this;return this.h.then(function(){return lu(y,nn(y.a,ff,{email:u,password:f}))})},I.dc=function(u,f){var y=this;return this.h.then(function(){return lu(y,nn(y.a,g_,{email:u,password:f}))})},I.ab=function(u){var f=this;return this.h.then(function(){return lu(f,u.ka(f.a))})},I.Sc=function(u){return Ua("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(u)},I.Ab=function(){var u=this;return this.h.then(function(){var f=Ht(u);if(f&&f.isAnonymous){var y=Mi({providerId:null,isNewUser:!1});return Mi({user:f,credential:null,additionalUserInfo:y,operationType:"signIn"})}return lu(u,u.a.Ab()).then(function(w){var D=w.user;return Tn(D,"isAnonymous",!0),u.da(D),w})})},I.getUid=function(){return Ht(this)&&Ht(this).uid||null},I.cc=function(u){this.addAuthTokenListener(u),this.u++,0<this.u&&Ht(this)&&Ig(Ht(this))},I.Pc=function(u){var f=this;bn(this.s,function(y){y==u&&f.u--}),0>this.u&&(this.u=0),0==this.u&&Ht(this)&&$f(Ht(this)),this.removeAuthTokenListener(u)},I.addAuthTokenListener=function(u){var f=this;this.s.push(u),zn(this,this.h.then(function(){f.l||xn(f.s,u)&&u(Mc(f))}))},I.removeAuthTokenListener=function(u){Un(this.s,function(f){return f==u})},I.delete=function(){this.l=!0;for(var u=0;u<this.P.length;u++)this.P[u].cancel("app-deleted");return this.P=[],this.i&&(u=this.i).b.removeListener(ps("local"),u.a,this.ja),this.b&&(Nf(this.b,this),Lf(this.b.b)),Promise.resolve()},I.hc=function(u){return zn(this,function ua(u,f){return nn(u,Cm,{identifier:f,continueUri:hi()?Zc():"http://localhost"}).then(function(y){return y.signinMethods||[]})}(this.a,u))},I.Bc=function(u){return!!na(u)},I.xb=function(u,f){var y=this;return zn(this,tt().then(function(){var w=new qd(f);if(!w.c)throw new B("argument-error",Jo+" must be true when sending sign in link to email");return ea(w)}).then(function(w){return y.a.xb(u,w)}).then(function(){}))},I.jd=function(u){return this.Sa(u).then(function(f){return f.data.email})},I.ob=function(u,f){return zn(this,this.a.ob(u,f).then(function(){}))},I.Sa=function(u){return zn(this,this.a.Sa(u).then(function(f){return new xp(f)}))},I.kb=function(u){return zn(this,this.a.kb(u).then(function(){}))},I.wb=function(u,f){var y=this;return zn(this,tt().then(function(){return typeof f>"u"||W(f)?{}:ea(new qd(f))}).then(function(w){return y.a.wb(u,w)}).then(function(){}))},I.Wc=function(u,f){return zn(this,Vf(this,u,f,Xe(this.ab,this)))},I.Vc=function(u,f){var y=this;return zn(this,tt().then(function(){var w=f||Zc(),D=Yd(u,w);if(!(w=na(w)))throw new B("argument-error","Invalid email link!");if(w.tenantId!==y.T())throw new B("tenant-id-mismatch");return y.ab(D)}))},Gi.prototype.render=function(){},Gi.prototype.reset=function(){},Gi.prototype.getResponse=function(){},Gi.prototype.execute=function(){};var cd=null;function ep(u,f){return(f=ql(f))&&u.a[f]||null}function ql(u){return(u=typeof u>"u"?1e12:u)?u.toString():null}function gs(u,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=wn(u);var y=this;this.i=function(){y.execute()},this.h?this.execute():kr(this.f,"click",this.i)}function Og(u){if(u.g)throw Error("reCAPTCHA mock was already deleted!")}function Ng(){}function ld(){}Hl.prototype.render=function(u,f){return this.a[this.b.toString()]=new gs(u,f),this.b++},Hl.prototype.reset=function(u){var f=ep(this,u);u=ql(u),f&&u&&(f.delete(),delete this.a[u])},Hl.prototype.getResponse=function(u){return(u=ep(this,u))?u.getResponse():null},Hl.prototype.execute=function(u){(u=ep(this,u))&&u.execute()},gs.prototype.getResponse=function(){return Og(this),this.b},gs.prototype.execute=function(){Og(this);var u=this;this.a||(this.a=setTimeout(function(){u.b=function Jc(){for(var u=50,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}();var f=u.c.callback,y=u.c["expired-callback"];if(f)try{f(u.b)}catch{}u.a=setTimeout(function(){if(u.a=null,u.b=null,y)try{y()}catch{}u.h&&u.execute()},6e4)},500))},gs.prototype.delete=function(){Og(this),this.g=!0,clearTimeout(this.a),this.a=null,sr(this.f,"click",this.i)},Ge(Ng,"FACTOR_ID","phone"),ld.prototype.g=function(){return cd||(cd=new Hl),tt(cd)},ld.prototype.c=function(){};var tp=null;function hd(){this.b=z.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pg=new Ae(fn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),np=new Ui(3e4,6e4);hd.prototype.g=function(u){var f=this;return new Pt(function(y,w){var D=setTimeout(function(){w(new B("network-request-failed"))},np.get());!z.grecaptcha||u!==f.f&&!f.b?(z[f.a]=function(){if(z.grecaptcha){f.f=u;var N=z.grecaptcha.render;z.grecaptcha.render=function(U,ce){return U=N(U,ce),f.b++,U},clearTimeout(D),y(z.grecaptcha)}else clearTimeout(D),w(new B("internal-error"));delete z[f.a]},tt(ki(ai(Pg,{onload:f.a,hl:u||""}))).o(function(){clearTimeout(D),w(new B("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(D),y(z.grecaptcha))})},hd.prototype.c=function(){this.b--};var Fg=null;function zl(u,f,y,w,D,x,N){if(Ge(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,N?(tp||(tp=new ld),N=tp):(Fg||(Fg=new hd),N=Fg),this.m=N,this.a=y||{theme:"light",type:"image"},this.h=[],this.a[fe])throw new B("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[op],!z.document)throw new B("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!wn(f)||!this.i&&wn(f).hasChildNodes())throw new B("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Kn(u,x||null,D||null),this.u=w||function(){return null};var U=this;this.l=[];var ce=this.a[rp];this.a[rp]=function(s){if(Us(U,s),"function"==typeof ce)ce(s);else if("string"==typeof ce){var l=Qe(ce,z);"function"==typeof l&&l(s)}};var a=this.a[ip];this.a[ip]=function(){if(Us(U,null),"function"==typeof a)a();else if("string"==typeof a){var s=Qe(a,z);"function"==typeof s&&s()}}}var rp="callback",ip="expired-callback",fe="sitekey",op="size";function Us(u,f){for(var y=0;y<u.l.length;y++)try{u.l[y](f)}catch{}}function ho(u,f){return u.h.push(f),f.oa(function(){Nn(u.h,f)}),f}function $l(u){if(u.J)throw new B("internal-error","RecaptchaVerifier instance has been destroyed.")}function sp(u,f,y){var w=!1;try{this.b=y||me.Z.app()}catch{throw new B("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new B("invalid-api-key");y=this.b.options.apiKey;var D=this,x=null;try{x=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}x=me.Z.SDK_VERSION?el(me.Z.SDK_VERSION,x):null,zl.call(this,y,u,f,function(){try{var N=D.b.auth().la()}catch{N=null}return N},x,ct(Ct),w)}function hu(u,f,y,w){e:{y=Array.prototype.slice.call(y);for(var D=0,x=!1,N=0;N<f.length;N++)if(f[N].optional)x=!0;else{if(x)throw new B("internal-error","Argument validator encountered a required argument after an optional argument.");D++}if(x=f.length,y.length<D||x<y.length)w="Expected "+(D==x?1==D?"1 argument":D+" arguments":D+"-"+x+" arguments")+" but got "+y.length+".";else{for(D=0;D<y.length;D++)if(x=f[D].optional&&void 0===y[D],!f[D].M(y[D])&&!x){if(f=f[D],0>D||D>=Vo.length)throw new B("internal-error","Argument validator received an unsupported number of arguments.");y=Vo[D],w=(w?"":y+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}w=null}}if(w)throw new B("argument-error",u+" failed: "+w)}(I=zl.prototype).Ia=function(){var u=this;return this.f?this.f:this.f=ho(this,tt().then(function(){if(hi()&&!Ai())return Jr();throw new B("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return u.m.g(u.u())}).then(function(f){return u.g=f,nn(u.s,Zp,{})}).then(function(f){u.a[fe]=f.recaptchaSiteKey}).o(function(f){throw u.f=null,f}))},I.render=function(){$l(this);var u=this;return ho(this,this.Ia().then(function(){if(null===u.c){var f=u.v;if(!u.i){var y=wn(f);f=function fh(u,f,y){var w=arguments,D=document,x=String(w[0]),N=w[1];if(!Rd&&N&&(N.name||N.type)){if(x=["<",x],N.name&&x.push(' name="',Rr(N.name),'"'),N.type){x.push(' type="',Rr(N.type),'"');var U={};ne(U,N),delete U.type,N=U}x.push(">"),x=x.join("")}return x=Gs(D,x),N&&("string"==typeof N?x.className=N:Array.isArray(N)?x.className=N.join(" "):Ru(x,N)),2<w.length&&ka(D,x,w),x}("DIV"),y.appendChild(f)}u.c=u.g.render(f,u.a)}return u.c}))},I.verify=function(){$l(this);var u=this;return ho(this,this.render().then(function(f){return new Pt(function(y){var w=u.g.getResponse(f);if(w)y(w);else{var D=function(x){x&&(function Hs(u,f){Un(u.l,function(y){return y==f})}(u,D),y(x))};u.l.push(D),u.i&&u.g.execute(u.c)}})}))},I.reset=function(){$l(this),null!==this.c&&this.g.reset(this.c)},I.clear=function(){$l(this),this.J=!0,this.m.c();for(var u=0;u<this.h.length;u++)this.h[u].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){u=wn(this.v);for(var f;f=u.firstChild;)u.removeChild(f)}},ft(sp,zl);var Vo="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qe(u,f){return{name:u||"",K:"a valid string",optional:!!f,M:function(y){return"string"==typeof y}}}function dd(u,f){return{name:u||"",K:"a boolean",optional:!!f,M:function(y){return"boolean"==typeof y}}}function cr(u,f){return{name:u||"",K:"a valid object",optional:!!f,M:_t}}function Gl(u,f){return{name:u||"",K:"a function",optional:!!f,M:function(y){return"function"==typeof y}}}function ms(u,f){return{name:u||"",K:"null",optional:!!f,M:function(y){return null===y}}}function vs(u){return{name:u?u+"Credential":"credential",K:u?"a valid "+u+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||u&&f.providerId!==u)}}}function du(u,f){return _t(u)&&"string"==typeof u.type&&u.type===f&&"function"==typeof u.Ha}function Oi(u){return _t(u)&&"string"==typeof u.uid}function mr(u,f,y,w){return{name:y||"",K:u.K+" or "+f.K,optional:!!w,M:function(D){return u.M(D)||f.M(D)}}}function $n(u,f){for(var y in f){var w=f[y].name;u[w]=ov(w,u[y],f[y].j)}}function kc(u,f){for(var y in f){var w=f[y].name;w!==y&&Object.defineProperty(u,w,{get:Qt(function(D){return this[D]},y),set:Qt(function(D,x,N,U){hu(D,[N],[U],!0),this[x]=U},w,y,f[y].lb),enumerable:!0})}}function or(u,f,y,w){u[f]=ov(f,y,w)}function ov(u,f,y){function w(){var N=Array.prototype.slice.call(arguments);return hu(D,y,N),f.apply(this,N)}if(!y)return f;var x,D=function sv(u){return(u=u.split("."))[u.length-1]}(u);for(x in f)w[x]=f[x];for(x in f.prototype)w.prototype[x]=f.prototype[x];return w}$n(Bo.prototype,{kb:{name:"applyActionCode",j:[qe("code")]},Sa:{name:"checkActionCode",j:[qe("code")]},ob:{name:"confirmPasswordReset",j:[qe("code"),qe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qe("email"),qe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[mr(cr(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[mr(cr(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[qe("email"),mr(cr("opt_actionCodeSettings",!0),ms(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[qe("email"),cr("actionCodeSettings")]},yb:{name:"setPersistence",j:[qe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[vs()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[vs()]},Tc:{name:"signInWithCustomToken",j:[qe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qe("email"),qe("password")]},Vc:{name:"signInWithEmailLink",j:[qe("email"),qe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qe("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[mr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof Pr)}},ms(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qe("url"),cr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qe("code")]}}),kc(Bo.prototype,{lc:{name:"languageCode",lb:mr(qe(),ms(),"languageCode")},ti:{name:"tenantId",lb:mr(qe(),ms(),"tenantId")}}),(Bo.Persistence=ru).LOCAL="local",Bo.Persistence.SESSION="session",Bo.Persistence.NONE="none",$n(Pr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[dd("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[dd("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[vs()]},rb:{name:"linkWithCredential",j:[vs()]},Dc:{name:"linkWithPhoneNumber",j:[qe("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[vs()]},ub:{name:"reauthenticateWithCredential",j:[vs()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qe("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[mr(cr("opt_actionCodeSettings",!0),ms(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qe(null,!0)]},cd:{name:"unlink",j:[qe("provider")]},Cb:{name:"updateEmail",j:[qe("email")]},Db:{name:"updatePassword",j:[qe("password")]},ed:{name:"updatePhoneNumber",j:[vs("phone")]},Eb:{name:"updateProfile",j:[cr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[qe("email"),mr(cr("opt_actionCodeSettings",!0),ms(null,!0),"opt_actionCodeSettings",!0)]}}),$n(Hl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$n(Gi.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$n(Pt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),kc(Wm.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:dd("appVerificationDisabledForTesting")}}),$n(nd.prototype,{confirm:{name:"confirm",j:[qe("verificationCode")]}}),or(ks,"fromJSON",function(u){u="string"==typeof u?JSON.parse(u):u;for(var f,y=[Kd,Kv,Yv,ll],w=0;w<y.length;w++)if(f=y[w](u))return f;return null},[mr(qe(),cr(),"json")]),or(Wn,"credential",function(u,f){return new Le(u,f)},[qe("email"),qe("password")]),$n(Le.prototype,{w:{name:"toJSON",j:[qe(null,!0)]}}),$n(mo.prototype,{Ca:{name:"addScope",j:[qe("scope")]},Ka:{name:"setCustomParameters",j:[cr("customOAuthParameters")]}}),or(mo,"credential",Ka,[mr(qe(),cr(),"token")]),or(Wn,"credentialWithLink",Yd,[qe("email"),qe("emailLink")]),$n(vo.prototype,{Ca:{name:"addScope",j:[qe("scope")]},Ka:{name:"setCustomParameters",j:[cr("customOAuthParameters")]}}),or(vo,"credential",fr,[mr(qe(),cr(),"token")]),$n(Lt.prototype,{Ca:{name:"addScope",j:[qe("scope")]},Ka:{name:"setCustomParameters",j:[cr("customOAuthParameters")]}}),or(Lt,"credential",os,[mr(qe(),mr(cr(),ms()),"idToken"),mr(qe(),ms(),"accessToken",!0)]),$n(Qu.prototype,{Ka:{name:"setCustomParameters",j:[cr("customOAuthParameters")]}}),or(Qu,"credential",dm,[mr(qe(),cr(),"token"),qe("secret",!0)]),$n(Jn.prototype,{Ca:{name:"addScope",j:[qe("scope")]},credential:{name:"credential",j:[mr(qe(),mr(cr(),ms()),"optionsOrIdToken"),mr(qe(),ms(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[cr("customOAuthParameters")]}}),$n(is.prototype,{w:{name:"toJSON",j:[qe(null,!0)]}}),$n(rs.prototype,{w:{name:"toJSON",j:[qe(null,!0)]}}),or(rr,"credential",Xv,[qe("verificationId"),qe("verificationCode")]),$n(rr.prototype,{gb:{name:"verifyPhoneNumber",j:[mr(qe(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(y){return!!y&&(y.session&&y.phoneNumber?du(y.session,cl)&&"string"==typeof y.phoneNumber:y.session&&y.multiFactorHint?du(y.session,ns)&&Oi(y.multiFactorHint):y.session&&y.multiFactorUid?du(y.session,ns)&&"string"==typeof y.multiFactorUid:!!y.phoneNumber&&"string"==typeof y.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]}}),$n(er.prototype,{w:{name:"toJSON",j:[qe(null,!0)]}}),$n(B.prototype,{toJSON:{name:"toJSON",j:[qe(null,!0)]}}),$n(Ya.prototype,{toJSON:{name:"toJSON",j:[qe(null,!0)]}}),$n(yo.prototype,{toJSON:{name:"toJSON",j:[qe(null,!0)]}}),$n(_c.prototype,{toJSON:{name:"toJSON",j:[qe(null,!0)]}}),$n(vg.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}}]}}),$n(Eg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}},qe("displayName",!0)]},bd:{name:"unenroll",j:[mr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Oi},qe(),"multiFactorInfoIdentifier")]}}),$n(sp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),or(il,"parseLink",qu,[qe("link")]),or(Ng,"assertion",function(u){return new wg(u)},[vs("phone")]),function(){if(!(typeof me.Z<"u"&&me.Z.INTERNAL&&me.Z.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var u={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Rs,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Hu,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bo,AuthCredential:ks,Error:B};or(u,"EmailAuthProvider",Wn,[]),or(u,"FacebookAuthProvider",mo,[]),or(u,"GithubAuthProvider",vo,[]),or(u,"GoogleAuthProvider",Lt,[]),or(u,"TwitterAuthProvider",Qu,[]),or(u,"OAuthProvider",Jn,[qe("providerId")]),or(u,"SAMLAuthProvider",Xu,[qe("providerId")]),or(u,"PhoneAuthProvider",rr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(u){return!!(u&&u instanceof Bo)}}]),or(u,"RecaptchaVerifier",sp,[mr(qe(),{name:"",K:"an HTML element",optional:!1,M:function(u){return!!(u&&u instanceof Element)}},"recaptchaContainer"),cr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(u){return!!(u&&u instanceof me.Z.app.App)}}]),or(u,"ActionCodeURL",il,[]),or(u,"PhoneMultiFactorGenerator",Ng,[]),me.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new Bo(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:u,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),me.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:Xe((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:Xe(f.nc,f),addAuthTokenListener:Xe(f.cc,f),removeAuthTokenListener:Xe(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),me.Z.registerVersion("@firebase/auth","0.16.8"),me.Z.INTERNAL.extendNamespace({User:Pr})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},361:(Ia,oi,zt)=>{zt.r(oi);var me=zt(367),I=zt(655),ze=zt(492),nt=zt(3),Vt=function(a,s){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(l[g]=d[g])})(a,s)};function Tr(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],d=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var se,bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z=z||{},Ee=bi||self;function Me(){}function Te(a){var s=typeof a;return"array"==(s="object"!=s?s:a?Array.isArray(a)?"array":s:"null")||"object"==s&&"number"==typeof a.length}function Fe(a){var s=typeof a;return"object"==s&&null!=a||"function"==s}var Ut="closure_uid_"+(1e9*Math.random()>>>0),xt=0;function _t(a,s,l){return a.call.apply(a.bind,arguments)}function yr(a,s,l){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),a.apply(s,g)}}return function(){return a.apply(s,arguments)}}function Yt(a,s,l){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_t:yr).apply(null,arguments)}function wi(a,s){var l=Array.prototype.slice.call(arguments,1);return function(){var d=l.slice();return d.push.apply(d,arguments),a.apply(this,d)}}function bt(a,s){function l(){}l.prototype=s.prototype,a.Z=s.prototype,a.prototype=new l,a.prototype.constructor=a,a.Vb=function(d,g,v){for(var b=Array(arguments.length-2),C=2;C<arguments.length;C++)b[C-2]=arguments[C];return s.prototype[g].apply(d,b)}}function Yn(){this.s=this.s,this.o=this.o}var Qt={};Yn.prototype.s=!1,Yn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function jt(a){return Object.prototype.hasOwnProperty.call(a,Ut)&&a[Ut]||(a[Ut]=++xt)}(this);delete Qt[a]}},Yn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ji=Array.prototype.indexOf?function(a,s){return Array.prototype.indexOf.call(a,s,void 0)}:function(a,s){if("string"==typeof a)return"string"!=typeof s||1!=s.length?-1:a.indexOf(s,0);for(var l=0;l<a.length;l++)if(l in a&&a[l]===s)return l;return-1},ft=Array.prototype.forEach?function(a,s,l){Array.prototype.forEach.call(a,s,l)}:function(a,s,l){for(var d=a.length,g="string"==typeof a?a.split(""):a,v=0;v<d;v++)v in g&&s.call(l,g[v],v,a)};function B(a){return Array.prototype.concat.apply([],arguments)}function ve(a){var s=a.length;if(0<s){for(var l=Array(s),d=0;d<s;d++)l[d]=a[d];return l}return[]}function ye(a){return/^[\s\xa0]*$/.test(a)}var Ct,Oe=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function le(a,s){return-1!=a.indexOf(s)}function ct(a,s){return a<s?-1:a>s?1:0}e:{var lr=Ee.navigator;if(lr){var et=lr.userAgent;if(et){Ct=et;break e}}Ct=""}function ke(a,s,l){for(var d in a)s.call(l,a[d],d,a)}function $e(a){var s={};for(var l in a)s[l]=a[l];return s}var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(a,s){for(var l,d,g=1;g<arguments.length;g++){for(l in d=arguments[g])a[l]=d[l];for(var v=0;v<rt.length;v++)l=rt[v],Object.prototype.hasOwnProperty.call(d,l)&&(a[l]=d[l])}}function Ze(a){return Ze[" "](a),a}Ze[" "]=Me;var Zt,a,st=le(Ct,"Opera"),Kr=le(Ct,"Trident")||le(Ct,"MSIE"),Ho=le(Ct,"Edge"),bn=Ho||Kr,_r=le(Ct,"Gecko")&&!(le(Ct.toLowerCase(),"webkit")&&!le(Ct,"Edge"))&&!(le(Ct,"Trident")||le(Ct,"MSIE"))&&!le(Ct,"Edge"),Du=le(Ct.toLowerCase(),"webkit")&&!le(Ct,"Edge");function $t(){var a=Ee.document;return a?a.documentMode:void 0}e:{var si="",xn=(a=Ct,_r?/rv:([^\);]+)(\)|;)/.exec(a):Ho?/Edge\/([\d\.]+)/.exec(a):Kr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Du?/WebKit\/(\S+)/.exec(a):st?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(xn&&(si=xn?xn[1]:""),Kr){var Nn=$t();if(null!=Nn&&Nn>parseFloat(si)){Zt=String(Nn);break e}}Zt=si}var Un={};var eo=Ee.document&&Kr&&($t()||parseInt(Zt,10))||void 0,oh=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var a=!1,s=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Ee.addEventListener("test",Me,s),Ee.removeEventListener("test",Me,s)}catch{}return a}();function Ar(a,s){this.type=a,this.g=this.target=s,this.defaultPrevented=!1}function qo(a,s){if(Ar.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var l=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=s,s=a.relatedTarget){if(_r){e:{try{Ze(s.nodeName);var g=!0;break e}catch{}g=!1}g||(s=null)}}else"mouseover"==l?s=a.fromElement:"mouseout"==l&&(s=a.toElement);this.relatedTarget=s,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Td[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&qo.Z.h.call(this)}}Ar.prototype.h=function(){this.defaultPrevented=!0},bt(qo,Ar);var Td={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ci="closure_listenable_"+(1e6*Math.random()|0),sh=0;function Dt(a,s,l,d,g){this.listener=a,this.proxy=null,this.src=s,this.type=l,this.capture=!!d,this.ia=g,this.key=++sh,this.ca=this.fa=!1}function Bi(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function br(a){this.src=a,this.g={},this.h=0}function Vc(a,s){var l=s.type;if(l in a.g){var v,d=a.g[l],g=Ji(d,s);(v=0<=g)&&Array.prototype.splice.call(d,g,1),v&&(Bi(s),0==a.g[l].length&&(delete a.g[l],a.h--))}}function Su(a,s,l,d){for(var g=0;g<a.length;++g){var v=a[g];if(!v.ca&&v.listener==s&&v.capture==!!l&&v.ia==d)return g}return-1}br.prototype.add=function(a,s,l,d,g){var v=a.toString();(a=this.g[v])||(a=this.g[v]=[],this.h++);var b=Su(a,s,d,g);return-1<b?(s=a[b],l||(s.fa=!1)):((s=new Dt(s,this.src,v,!!d,g)).fa=l,a.push(s)),s};var Pn="closure_lm_"+(1e6*Math.random()|0),Ao={};function W(a,s,l,d,g){if(d&&d.once)return ne(a,s,l,d,g);if(Array.isArray(s)){for(var v=0;v<s.length;v++)W(a,s[v],l,d,g);return null}return l=Mr(l),a&&a[Ci]?a.N(s,l,Fe(d)?!!d.capture:!!d,g):G(a,s,l,!1,d,g)}function G(a,s,l,d,g,v){if(!s)throw Error("Invalid event type");var b=Fe(g)?!!g.capture:!!g,C=fn(a);if(C||(a[Pn]=C=new br(a)),(l=C.add(s,l,d,b,v)).proxy)return l;if(d=function Q(){var s=Jt;return function a(l){return s.call(a.src,a.listener,l)}}(),l.proxy=d,d.src=a,d.listener=l,a.addEventListener)oh||(g=b),void 0===g&&(g=!1),a.addEventListener(s.toString(),d,g);else if(a.attachEvent)a.attachEvent(dt(s.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}return l}function ne(a,s,l,d,g){if(Array.isArray(s)){for(var v=0;v<s.length;v++)ne(a,s[v],l,d,g);return null}return l=Mr(l),a&&a[Ci]?a.O(s,l,Fe(d)?!!d.capture:!!d,g):G(a,s,l,!0,d,g)}function X(a,s,l,d,g){if(Array.isArray(s))for(var v=0;v<s.length;v++)X(a,s[v],l,d,g);else d=Fe(d)?!!d.capture:!!d,l=Mr(l),a&&a[Ci]?(a=a.i,(s=String(s).toString())in a.g&&-1<(l=Su(v=a.g[s],l,d,g))&&(Bi(v[l]),Array.prototype.splice.call(v,l,1),0==v.length&&(delete a.g[s],a.h--))):a&&(a=fn(a))&&(s=a.g[s.toString()],a=-1,s&&(a=Su(s,l,d,g)),(l=-1<a?s[a]:null)&&Ae(l))}function Ae(a){if("number"!=typeof a&&a&&!a.ca){var s=a.src;if(s&&s[Ci])Vc(s.i,a);else{var l=a.type,d=a.proxy;s.removeEventListener?s.removeEventListener(l,d,a.capture):s.detachEvent?s.detachEvent(dt(l),d):s.addListener&&s.removeListener&&s.removeListener(d),(l=fn(s))?(Vc(l,a),0==l.h&&(l.src=null,s[Pn]=null)):Bi(a)}}}function dt(a){return a in Ao?Ao[a]:Ao[a]="on"+a}function Jt(a,s){if(a.ca)a=!0;else{s=new qo(s,this);var l=a.listener,d=a.ia||a.src;a.fa&&Ae(a),a=l.call(d,s)}return a}function fn(a){return(a=a[Pn])instanceof br?a:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mr(a){return"function"==typeof a?a:(a[sn]||(a[sn]=function(s){return a.handleEvent(s)}),a[sn])}function en(){Yn.call(this),this.i=new br(this),this.P=this,this.I=null}function pt(a,s){var l,d=a.I;if(d)for(l=[];d;d=d.I)l.push(d);if(a=a.P,d=s.type||s,"string"==typeof s)s=new Ar(s,a);else if(s instanceof Ar)s.target=s.target||a;else{var g=s;ht(s=new Ar(d,a),g)}if(g=!0,l)for(var v=l.length-1;0<=v;v--){var b=s.g=l[v];g=ai(b,d,!0,s)&&g}if(g=ai(b=s.g=a,d,!0,s)&&g,g=ai(b,d,!1,s)&&g,l)for(v=0;v<l.length;v++)g=ai(b=s.g=l[v],d,!1,s)&&g}function ai(a,s,l,d){if(!(s=a.i.g[String(s)]))return!0;s=s.concat();for(var g=!0,v=0;v<s.length;++v){var b=s[v];if(b&&!b.ca&&b.capture==l){var C=b.listener,T=b.ia||b.src;b.fa&&Vc(a.i,b),g=!1!==C.call(T,d)&&g}}return g&&!d.defaultPrevented}bt(en,Yn),en.prototype[Ci]=!0,en.prototype.removeEventListener=function(a,s,l,d){X(this,a,s,l,d)},en.prototype.M=function(){if(en.Z.M.call(this),this.i){var s,a=this.i;for(s in a.g){for(var l=a.g[s],d=0;d<l.length;d++)Bi(l[d]);delete a.g[s],a.h--}}this.I=null},en.prototype.N=function(a,s,l,d){return this.i.add(String(a),s,!1,l,d)},en.prototype.O=function(a,s,l,d){return this.i.add(String(a),s,!0,l,d)};var zs=Ee.JSON.stringify;function ah(){var a=ch,s=null;return a.g&&(s=a.g,a.g=a.g.next,a.g||(a.h=null),s.next=null),s}var Iu,An=function(){function a(){this.h=this.g=null}return a.prototype.add=function(s,l){var d=to.get();d.set(s,l),this.h?this.h.next=d:this.g=d,this.h=d},a}(),to=new(function(){function a(s,l){this.i=s,this.j=l,this.h=0,this.g=null}return a.prototype.get=function(){var s;return 0<this.h?(this.h--,this.g=(s=this.g).next,s.next=null):s=this.i(),s},a}())(function(){return new gt},function(a){return a.reset()}),gt=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(s,l){this.h=s,this.g=l,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function zo(a){Ee.setTimeout(function(){throw a},0)}function uh(a,s){Iu||function it(){var a=Ee.Promise.resolve(void 0);Iu=function(){a.then(Ce)}}(),$o||(Iu(),$o=!0),ch.add(a,s)}var $o=!1,ch=new An;function Ce(){for(var a;a=ah();){try{a.h.call(a.g)}catch(l){zo(l)}var s=to;s.j(a),100>s.h&&(s.h++,a.next=s.g,s.g=a)}$o=!1}function Ds(a,s){en.call(this),this.h=a||1,this.g=s||Ee,this.j=Yt(this.kb,this),this.l=Date.now()}function lt(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function un(a,s,l){if("function"==typeof a)l&&(a=Yt(a,l));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Yt(a.handleEvent,a)}return 2147483647<Number(s)?-1:Ee.setTimeout(a,s||0)}function lh(a){a.g=un(function(){a.g=null,a.i&&(a.i=!1,lh(a))},a.j);var s=a.h;a.h=null,a.m.apply(null,s)}bt(Ds,en),(se=Ds.prototype).da=!1,se.S=null,se.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pt(this,"tick"),this.da&&(lt(this),this.start()))}},se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){Ds.Z.M.call(this),lt(this),delete this.g};var Ip=function(a){function s(l,d){var g=a.call(this)||this;return g.m=l,g.j=d,g.h=null,g.i=!1,g.g=null,g}return function Zi(a,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}Vt(a,s),a.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}(s,a),s.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:lh(this)},s.prototype.M=function(){a.prototype.M.call(this),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},s}(Yn);function Ta(a){Yn.call(this),this.h=a,this.g={}}bt(Ta,Yn);var Go=[];function Rr(a,s,l,d){Array.isArray(l)||(l&&(Go[0]=l.toString()),l=Go);for(var g=0;g<l.length;g++){var v=W(s,l[g],d||a.handleEvent,!1,a.h||a);if(!v)break;a.g[v.key]=v}}function hh(a){ke(a.g,function(s,l){this.g.hasOwnProperty(l)&&Ae(s)},a),a.g={}}function jc(){this.g=!0}function Aa(a,s,l,d){a.info(function(){return"XMLHTTP TEXT ("+s+"): "+function Ad(a,s){if(!a.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(a=0;a<l.length;a++)if(Array.isArray(l[a])){var d=l[a];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var v=g[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var b=1;b<g.length;b++)g[b]=""}}}return zs(l)}catch{return s}}(a,l)+(d?" "+d:"")})}Ta.prototype.M=function(){Ta.Z.M.call(this),hh(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jc.prototype.Aa=function(){this.g=!1},jc.prototype.info=function(){};var Wo={},dh=null;function Ma(){return dh=dh||new en}function Au(a){Ar.call(this,Wo.Ma,a)}function $s(a){var s=Ma();pt(s,new Au(s,a))}function Yr(a,s){Ar.call(this,Wo.STAT_EVENT,a),this.stat=s}function It(a){var s=Ma();pt(s,new Yr(s,a))}function Md(a,s){Ar.call(this,Wo.Na,a),this.size=s}function Ra(a,s){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){a()},s)}Wo.Ma="serverreachability",bt(Au,Ar),Wo.STAT_EVENT="statevent",bt(Yr,Ar),Wo.Na="timingevent",bt(Md,Ar);var Mu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rd(){}function Ru(){}Rd.prototype.h=null;var Gs,Ss={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fh(){Ar.call(this,"d")}function ka(){Ar.call(this,"c")}function Is(){}function Ko(a,s,l,d){this.l=a,this.j=s,this.m=l,this.X=d||1,this.V=new Ta(this),this.P=Uc,this.W=new Ds(a=bn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ph}function ph(){this.i=null,this.g="",this.h=!1}bt(fh,Ar),bt(ka,Ar),bt(Is,Rd),Is.prototype.g=function(){return new XMLHttpRequest},Is.prototype.i=function(){return{}},Gs=new Is;var Uc=45e3,Je={},xa={};function Oa(a,s,l){a.K=1,a.v=Tt(_e(s)),a.s=l,a.U=!0,Di(a,null)}function Di(a,s){a.F=Date.now(),hr(a),a.A=_e(a.v);var l=a.A,d=a.X;Array.isArray(d)||(d=[String(d)]),Br(l.h,"t",d),a.C=0,l=a.l.H,a.h=new ph,a.g=sm(a.l,l?s:null,!a.s),0<a.O&&(a.L=new Ip(Yt(a.Ia,a,a.g),a.O)),Rr(a.V,a.g,"readystatechange",a.gb),s=a.H?$e(a.H):{},a.s?(a.u||(a.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,s)):(a.u="GET",a.g.ea(a.A,a.u,null,s)),$s(1),function Tp(a,s,l,d,g,v){a.info(function(){if(a.g)if(v)for(var b="",C=v.split("&"),T=0;T<C.length;T++){var O=C[T].split("=");if(1<O.length){var P=O[0];O=O[1];var j=P.split("_");b=2<=j.length&&"type"==j[1]?b+(P+"=")+O+"&":b+(P+"=redacted&")}}else b=null;else b=v;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+s+"\n"+l+"\n"+b})}(a.j,a.u,a.A,a.m,a.X,a.s)}function Hc(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function Pt(a,s,l){for(var g,d=!0;!a.I&&a.C<l.length;){if((g=ui(a,l))==xa){4==s&&(a.o=4,It(14),d=!1),Aa(a.j,a.m,null,"[Incomplete Response]");break}if(g==Je){a.o=4,It(15),Aa(a.j,a.m,l,"[Invalid Chunk]"),d=!1;break}Aa(a.j,a.m,g,null),tt(a,g)}Hc(a)&&g!=xa&&g!=Je&&(a.h.g="",a.C=0),4!=s||0!=l.length||a.h.h||(a.o=1,It(16),d=!1),a.i=a.i&&d,d?0<l.length&&!a.aa&&(a.aa=!0,(s=a.l).g==a&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),La(s),s.L=!0,It(11))):(Aa(a.j,a.m,l,"[Invalid Chunked Response]"),Xt(a),Xr(a))}function ui(a,s){var l=a.C,d=s.indexOf("\n",l);return-1==d?xa:(l=Number(s.substring(l,d)),isNaN(l)?Je:(d+=1)+l>s.length?xa:(s=s.substr(d,l),a.C=d+l,s))}function hr(a){a.Y=Date.now()+a.P,Vi(a,a.P)}function Vi(a,s){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Ra(Yt(a.eb,a),s)}function qc(a){a.B&&(Ee.clearTimeout(a.B),a.B=null)}function Xr(a){0==a.l.G||a.I||li(a.l,a)}function Xt(a){qc(a);var s=a.L;s&&"function"==typeof s.na&&s.na(),a.L=null,lt(a.W),hh(a.V),a.g&&(s=a.g,a.g=null,s.abort(),s.na())}function tt(a,s){try{var l=a.l;if(0!=l.G&&(l.g==a||zc(l.i,a)))if(l.I=a.N,!a.J&&zc(l.i,a)&&3==l.G){try{var d=l.Ca.g.parse(s)}catch{d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0]){e:if(!l.u){if(l.g){if(!(l.g.F+3e3<a.F))break e;Ld(l),Ti(l)}yh(l),It(18)}}else l.ta=g[1],0<l.ta-l.U&&37500>g[2]&&l.N&&0==l.A&&!l.v&&(l.v=Ra(Yt(l.ab,l),6e3));if(1>=Ks(l.i)&&l.ka){try{l.ka()}catch{}l.ka=void 0}}else no(l,11)}else if((a.J||l.g==a)&&Ld(l),!ye(s))for(g=l.Ca.g.parse(s),s=0;s<g.length;s++){var v=g[s];if(l.U=v[0],v=v[1],2==l.G)if("c"==v[0]){l.J=v[1],l.la=v[2];var b=v[3];null!=b&&(l.ma=b,l.h.info("VER="+l.ma));var C=v[4];null!=C&&(l.za=C,l.h.info("SVER="+l.za));var T=v[5];null!=T&&"number"==typeof T&&0<T&&(l.K=d=1.5*T,l.h.info("backChannelRequestTimeoutMs_="+d)),d=l;var O=a.g;if(O){var P=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var j=d.i;!j.g&&(le(P,"spdy")||le(P,"quic")||le(P,"h2"))&&(j.j=j.l,j.g=new Set,j.h&&(kr(j,j.h),j.h=null))}if(d.D){var q=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(d.sa=q,vt(d.F,d.D,q))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-a.F,l.h.info("Handshake RTT: "+l.O+"ms"));var J=a;if((d=l).oa=Nu(d,d.H?d.la:null,d.W),J.J){Qr(d.i,J);var ee=J,ue=d.K;ue&&ee.setTimeout(ue),ee.B&&(qc(ee),hr(ee)),d.g=J}else Rp(d);0<l.l.length&&Ou(l)}else"stop"!=v[0]&&"close"!=v[0]||no(l,7);else 3==l.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?no(l,7):po(l):"noop"!=v[0]&&l.j&&l.j.wa(v),l.A=0)}$s(4)}catch{}}function Yo(a,s){if(a.forEach&&"function"==typeof a.forEach)a.forEach(s,void 0);else if(Te(a)||"string"==typeof a)ft(a,s,void 0);else{if(a.T&&"function"==typeof a.T)var l=a.T();else if(a.R&&"function"==typeof a.R)l=void 0;else if(Te(a)||"string"==typeof a){l=[];for(var d=a.length,g=0;g<d;g++)l.push(g)}else for(g in l=[],d=0,a)l[d++]=g;d=function Xn(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Te(a)){for(var s=[],l=a.length,d=0;d<l;d++)s.push(a[d]);return s}for(d in s=[],l=0,a)s[l++]=a[d];return s}(a),g=d.length;for(var v=0;v<g;v++)s.call(void 0,d[v],l&&l[v],a)}}function R(a,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var d=0;d<l;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof R)for(l=a.T(),d=0;d<l.length;d++)this.set(l[d],a.get(l[d]));else for(d in a)this.set(d,a[d])}function M(a){if(a.i!=a.g.length){for(var s=0,l=0;s<a.g.length;){var d=a.g[s];L(a.h,d)&&(a.g[l++]=d),s++}a.g.length=l}if(a.i!=a.g.length){var g={};for(l=s=0;s<a.g.length;)L(g,d=a.g[s])||(a.g[l++]=d,g[d]=1),s++;a.g.length=l}}function L(a,s){return Object.prototype.hasOwnProperty.call(a,s)}(se=Ko.prototype).setTimeout=function(a){this.P=a},se.gb=function(a){a=a.target;var s=this.L;s&&3==Qs(a)?s.l():this.Ia(a)},se.Ia=function(a){try{if(a==this.g)e:{var s=Qs(this.g),l=this.g.Da(),d=this.g.ba();if(!(3>s)&&(3!=s||bn||this.g&&(this.h.h||this.g.ga()||Fa(this.g)))){this.I||4!=s||7==l||$s(8==l||0>=d?3:2),qc(this);var g=this.g.ba();this.N=g;t:if(Hc(this)){var v=Fa(this.g);a="";var b=v.length,C=4==Qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Xr(this);var T="";break t}this.h.i=new Ee.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(v[l],{stream:C&&l==b-1});v.splice(0,b),this.h.g+=a,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==g,function wr(a,s,l,d,g,v,b){a.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+s+"\n"+l+"\n"+v+" "+b})}(this.j,this.u,this.A,this.m,this.X,s,g),this.i){if(this.$&&!this.J){t:{if(this.g){var O,P=this.g;if((O=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(O)){var j=O;break t}}j=null}if(!(g=j)){this.i=!1,this.o=3,It(12),Xt(this),Xr(this);break e}Aa(this.j,this.m,g,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tt(this,g)}this.U?(Pt(this,s,T),bn&&this.i&&3==s&&(Rr(this.V,this.W,"tick",this.fb),this.W.start())):(Aa(this.j,this.m,T,null),tt(this,T)),4==s&&Xt(this),this.i&&!this.I&&(4==s?li(this.l,this):(this.i=!1,hr(this)))}else 400==g&&0<T.indexOf("Unknown SID")?(this.o=3,It(12)):(this.o=0,It(13)),Xt(this),Xr(this)}}}catch{}},se.fb=function(){if(this.g){var a=Qs(this.g),s=this.g.ga();this.C<s.length&&(qc(this),Pt(this,a,s),this.i&&4!=a&&hr(this))}},se.cancel=function(){this.I=!0,Xt(this)},se.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function Tu(a,s){a.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&($s(3),It(17)),Xt(this),this.o=2,Xr(this)):Vi(this,this.Y-a)},(se=R.prototype).R=function(){M(this);for(var a=[],s=0;s<this.g.length;s++)a.push(this.h[this.g[s]]);return a},se.T=function(){return M(this),this.g.concat()},se.get=function(a,s){return L(this.h,a)?this.h[a]:s},se.set=function(a,s){L(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=s},se.forEach=function(a,s){for(var l=this.T(),d=0;d<l.length;d++){var g=l[d],v=this.get(g);a.call(s,v,g,this)}};var H=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function te(a,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof te){this.g=void 0!==s?s:a.g,je(this,a.j),this.s=a.s,be(this,a.i),Ke(this,a.m),this.l=a.l,s=a.h;var l=new We;l.i=s.i,s.g&&(l.g=new R(s.g),l.h=s.h),mt(this,l),this.o=a.o}else a&&(l=String(a).match(H))?(this.g=!!s,je(this,l[1]||"",!0),this.s=wt(l[2]||""),be(this,l[3]||"",!0),Ke(this,l[4]),this.l=wt(l[5]||"",!0),mt(this,l[6]||"",!0),this.o=wt(l[7]||"")):(this.g=!!s,this.h=new We(null,this.g))}function _e(a){return new te(a)}function je(a,s,l){a.j=l?wt(s,!0):s,a.j&&(a.j=a.j.replace(/:$/,""))}function be(a,s,l){a.i=l?wt(s,!0):s}function Ke(a,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);a.m=s}else a.m=null}function mt(a,s,l){s instanceof We?(a.h=s,function Qn(a,s){s&&!a.j&&(Nt(a),a.i=null,a.g.forEach(function(l,d){var g=d.toLowerCase();d!=g&&(Gn(this,d),Br(this,g,l))},a)),a.j=s}(a.h,a.g)):(l||(s=cn(s,Lr)),a.h=new We(s,a.g))}function vt(a,s,l){a.h.set(s,l)}function Tt(a){return vt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function wt(a,s){return a?s?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function cn(a,s,l){return"string"==typeof a?(a=encodeURI(a).replace(s,Gt),l&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Gt(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}te.prototype.toString=function(){var a=[],s=this.j;s&&a.push(cn(s,Dn,!0),":");var l=this.i;return(l||"file"==s)&&(a.push("//"),(s=this.s)&&a.push(cn(s,Dn,!0),"@"),a.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&a.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&a.push("/"),a.push(cn(l,"/"==l.charAt(0)?nr:Fn,!0))),(l=this.h.toString())&&a.push("?",l),(l=this.o)&&a.push("#",cn(l,Ne)),a.join("")};var Dn=/[#\/\?@]/g,Fn=/[#\?:]/g,nr=/[#\?]/g,Lr=/[#\?@]/g,Ne=/#/g;function We(a,s){this.h=this.g=null,this.i=a||null,this.j=!!s}function Nt(a){a.g||(a.g=new R,a.h=0,a.i&&function K(a,s){if(a){a=a.split("&");for(var l=0;l<a.length;l++){var d=a[l].indexOf("="),g=null;if(0<=d){var v=a[l].substring(0,d);g=a[l].substring(d+1)}else v=a[l];s(v,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(a.i,function(s,l){a.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function Gn(a,s){Nt(a),s=Ro(a,s),L(a.g.h,s)&&(a.i=null,a.h-=a.g.get(s).length,L((a=a.g).h,s)&&(delete a.h[s],a.i--,a.g.length>2*a.i&&M(a)))}function Mo(a,s){return Nt(a),s=Ro(a,s),L(a.g.h,s)}function Br(a,s,l){Gn(a,s),0<l.length&&(a.i=null,a.g.set(Ro(a,s),ve(l)),a.h+=l.length)}function Ro(a,s){return s=String(s),a.j&&(s=s.toLowerCase()),s}(se=We.prototype).add=function(a,s){Nt(this),this.i=null,a=Ro(this,a);var l=this.g.get(a);return l||this.g.set(a,l=[]),l.push(s),this.h+=1,this},se.forEach=function(a,s){Nt(this),this.g.forEach(function(l,d){ft(l,function(g){a.call(s,g,d,this)},this)},this)},se.T=function(){Nt(this);for(var a=this.g.R(),s=this.g.T(),l=[],d=0;d<s.length;d++)for(var g=a[d],v=0;v<g.length;v++)l.push(s[d]);return l},se.R=function(a){Nt(this);var s=[];if("string"==typeof a)Mo(this,a)&&(s=B(s,this.g.get(Ro(this,a))));else{a=this.g.R();for(var l=0;l<a.length;l++)s=B(s,a[l])}return s},se.set=function(a,s){return Nt(this),this.i=null,Mo(this,a=Ro(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[s]),this.h+=1,this},se.get=function(a,s){return a&&0<(a=this.R(a)).length?String(a[0]):s},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],s=this.g.T(),l=0;l<s.length;l++){var d=s[l],g=encodeURIComponent(String(d));d=this.R(d);for(var v=0;v<d.length;v++){var b=g;""!==d[v]&&(b+="="+encodeURIComponent(String(d[v]))),a.push(b)}}return this.i=a.join("&")};var Na=function a(s,l){this.h=s,this.g=l};function Ws(a){this.l=a||Ft,a=Ee.PerformanceNavigationTiming?0<(a=Ee.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ea&&Ee.g.Ea()&&Ee.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ft=10;function ku(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Ks(a){return a.h?1:a.g?a.g.size:0}function zc(a,s){return a.h?a.h==s:!!a.g&&a.g.has(s)}function kr(a,s){a.g?a.g.add(s):a.h=s}function Qr(a,s){a.h&&a.h==s?a.h=null:a.g&&a.g.has(s)&&a.g.delete(s)}function $c(a){var s,l;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var d=a.i;try{for(var g=Tr(a.g.values()),v=g.next();!v.done;v=g.next())d=d.concat(v.value.D)}catch(C){s={error:C}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}return d}return ve(a.i)}function Ts(){}function sr(){this.g=new Ts}function xu(a,s,l){var d=l||"";try{Yo(a,function(g,v){var b=g;Fe(g)&&(b=zs(g)),s.push(d+v+"="+encodeURIComponent(b))})}catch(g){throw s.push(d+"type="+encodeURIComponent("_badmap")),g}}function Mn(a,s,l,d,g){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,g(d)}catch{}}function Gc(a){this.l=a.$b||null,this.j=a.ib||!1}function kd(a,s){en.call(this),this.D=a,this.u=s,this.m=void 0,this.readyState=Ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ws.prototype.cancel=function(){var a,s;if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Tr(this.g.values()),d=l.next();!d.done;d=l.next())d.value.cancel()}catch(v){a={error:v}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this.g.clear()}},Ts.prototype.stringify=function(a){return Ee.JSON.stringify(a,void 0)},Ts.prototype.parse=function(a){return Ee.JSON.parse(a,void 0)},bt(Gc,Rd),Gc.prototype.g=function(){return new kd(this.l,this.j)},Gc.prototype.i=function(a){return function(){return a}}({}),bt(kd,en);var Ys=0;function Wc(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function Xo(a){a.readyState=4,a.l=null,a.j=null,a.A=null,dr(a)}function dr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(se=kd.prototype).open=function(a,s){if(this.readyState!=Ys)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=s,this.readyState=1,dr(this)},se.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(s.body=a),(this.D||Ee).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xo(this)),this.readyState=Ys},se.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ee.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wc(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},se.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var s=a.value?a.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!a.done}))&&(this.response=this.responseText+=s)}a.done?Xo(this):dr(this),3==this.readyState&&Wc(this)}},se.Ua=function(a){this.g&&(this.response=this.responseText=a,Xo(this))},se.Ta=function(a){this.g&&(this.response=a,Xo(this))},se.ha=function(){this.g&&Xo(this)},se.setRequestHeader=function(a,s){this.v.append(a,s)},se.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],s=this.h.entries(),l=s.next();!l.done;)a.push((l=l.value)[0]+": "+l[1]),l=s.next();return a.join("\r\n")},Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Pa=Ee.JSON.parse;function tn(a){en.call(this),this.headers=new R,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gh,this.K=this.L=!1}bt(tn,en);var gh="",Si=/^https?$/i,Ii=["POST","PUT"];function mh(a){return"content-type"==a.toLowerCase()}function vh(a,s){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=s,a.m=5,ci(a),Xs(a)}function ci(a){a.D||(a.D=!0,pt(a,"complete"),pt(a,"error"))}function Od(a){if(a.h&&typeof z<"u"&&(!a.C[1]||4!=Qs(a)||2!=a.ba()))if(a.v&&4==Qs(a))un(a.Fa,0,a);else if(pt(a,"readystatechange"),4==Qs(a)){a.h=!1;try{var d,s=a.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(d=l)){var g;if(g=0===s){var v=String(a.H).match(H)[1]||null;if(!v&&Ee.self&&Ee.self.location){var b=Ee.self.location.protocol;v=b.substr(0,b.length-1)}g=!Si.test(v?v.toLowerCase():"")}d=g}if(d)pt(a,"complete"),pt(a,"success");else{a.m=6;try{var C=2<Qs(a)?a.g.statusText:""}catch{C=""}a.j=C+" ["+a.ba()+"]",ci(a)}}finally{Xs(a)}}}function Xs(a,s){if(a.g){Mp(a);var l=a.g,d=a.C[0]?Me:null;a.g=null,a.C=null,s||pt(a,"ready");try{l.onreadystatechange=d}catch{}}}function Mp(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(Ee.clearTimeout(a.A),a.A=null)}function Qs(a){return a.g?a.g.readyState:0}function Fa(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case gh:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(a,s,l){e:{for(d in l){var d=!1;break e}d=!0}d||(l=function Nd(a){var s="";return ke(a,function(l,d){s+=d,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof a?null!=l&&encodeURIComponent(String(l)):vt(a,s,l))}function Yc(a,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[a]||s}function Er(a){this.za=0,this.l=[],this.h=new jc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yc("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yc("baseRetryDelayMs",5e3,a),this.$a=Yc("retryDelaySeedMs",1e4,a),this.Ya=Yc("forwardChannelMaxRetries",2,a),this.ra=Yc("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new Ws(a&&a.concurrentRequestLimit),this.Ca=new sr,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function po(a){if(Pd(a),3==a.G){var s=a.V++,l=_e(a.F);vt(l,"SID",a.J),vt(l,"RID",s),vt(l,"TYPE","terminate"),Fd(a,l),(s=new Ko(a,a.h,s,void 0)).K=2,s.v=Tt(_e(l)),l=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(l=Ee.navigator.sendBeacon(s.v.toString(),"")),!l&&Ee.Image&&((new Image).src=s.v,l=!0),l||(s.g=sm(s.l,null),s.g.ea(s.v)),s.F=Date.now(),hr(s)}Vd(a)}function Ti(a){a.g&&(La(a),a.g.cancel(),a.g=null)}function Pd(a){Ti(a),a.u&&(Ee.clearTimeout(a.u),a.u=null),Ld(a),a.i.cancel(),a.m&&("number"==typeof a.m&&Ee.clearTimeout(a.m),a.m=null)}function Xc(a,s){a.l.push(new Na(a.Za++,s)),3==a.G&&Ou(a)}function Ou(a){ku(a.i)||a.m||(a.m=!0,uh(a.Ha,a),a.C=0)}function om(a,s){var l;l=s?s.m:a.V++;var d=_e(a.F);vt(d,"SID",a.J),vt(d,"RID",l),vt(d,"AID",a.U),Fd(a,d),a.o&&a.s&&Kc(d,a.o,a.s),l=new Ko(a,a.h,l,a.C+1),null===a.o&&(l.H=a.s),s&&(a.l=s.D.concat(a.l)),s=zv(a,l,1e3),l.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),kr(a.i,l),Oa(l,d,s)}function Fd(a,s){a.j&&Yo({},function(l,d){vt(s,d,l)})}function zv(a,s,l){l=Math.min(a.l.length,l);var d=a.j?Yt(a.j.Oa,a.j,a):null;e:for(var g=a.l,v=-1;;){var b=["count="+l];-1==v?0<l?b.push("ofs="+(v=g[0].h)):v=0:b.push("ofs="+v);for(var C=!0,T=0;T<l;T++){var O=g[T].h,P=g[T].g;if(0>(O-=v))v=Math.max(0,g[T].h-100),C=!1;else try{xu(P,b,"req"+O+"_")}catch{d&&d(P)}}if(C){d=b.join("&");break e}}return a=a.l.splice(0,l),s.D=a,d}function Rp(a){a.g||a.u||(a.Y=1,uh(a.Ga,a),a.A=0)}function yh(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=Ra(Yt(a.Ga,a),Bd(a,a.A)),a.A++,0))}function La(a){null!=a.B&&(Ee.clearTimeout(a.B),a.B=null)}function Ba(a){a.g=new Ko(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var s=_e(a.oa);vt(s,"RID","rpc"),vt(s,"SID",a.J),vt(s,"CI",a.N?"0":"1"),vt(s,"AID",a.U),Fd(a,s),vt(s,"TYPE","xmlhttp"),a.o&&a.s&&Kc(s,a.o,a.s),a.K&&a.g.setTimeout(a.K);var l=a.g;a=a.la,l.K=1,l.v=Tt(_e(s)),l.s=null,l.U=!0,Di(l,a)}function Ld(a){null!=a.v&&(Ee.clearTimeout(a.v),a.v=null)}function li(a,s){var l=null;if(a.g==s){Ld(a),La(a),a.g=null;var d=2}else{if(!zc(a.i,s))return;l=s.D,Qr(a.i,s),d=1}if(a.I=s.N,0!=a.G)if(s.i)if(1==d){l=s.s?s.s.length:0,s=Date.now()-s.F;var g=a.C;pt(d=Ma(),new Md(d,l,s,g)),Ou(a)}else Rp(a);else if(3==(g=s.o)||0==g&&0<a.I||!(1==d&&function h_(a,s){return!(Ks(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=s.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=Ra(Yt(a.Ha,a,s),Bd(a,a.C)),a.C++,0)))}(a,s)||2==d&&yh(a)))switch(l&&0<l.length&&(s=a.i,s.i=s.i.concat(l)),g){case 1:no(a,5);break;case 4:no(a,10);break;case 3:no(a,6);break;default:no(a,2)}}function Bd(a,s){var l=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(l*=2),l*s}function no(a,s){if(a.h.info("Error code "+s),2==s){var l=null;a.j&&(l=null);var d=Yt(a.jb,a);l||(l=new te("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||je(l,"https"),Tt(l)),function Ap(a,s){var l=new jc;if(Ee.Image){var d=new Image;d.onload=wi(Mn,l,d,"TestLoadImage: loaded",!0,s),d.onerror=wi(Mn,l,d,"TestLoadImage: error",!1,s),d.onabort=wi(Mn,l,d,"TestLoadImage: abort",!1,s),d.ontimeout=wi(Mn,l,d,"TestLoadImage: timeout",!1,s),Ee.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=a}else s(!1)}(l.toString(),d)}else It(2);a.G=0,a.j&&a.j.va(s),Vd(a),Pd(a)}function Vd(a){a.G=0,a.I=-1,a.j&&((0!=$c(a.i).length||0!=a.l.length)&&(a.i.i.length=0,ve(a.l),a.l.length=0),a.j.ua())}function Nu(a,s,l){var d=function Fr(a){return a instanceof te?_e(a):new te(a,void 0)}(l);if(""!=d.i)s&&be(d,s+"."+d.i),Ke(d,d.m);else{var g=Ee.location;d=function mn(a,s,l,d){var g=new te(null,void 0);return a&&je(g,a),s&&be(g,s),l&&Ke(g,l),d&&(g.l=d),g}(g.protocol,s?s+"."+g.hostname:g.hostname,+g.port,l)}return a.aa&&ke(a.aa,function(v,b){vt(d,b,v)}),l=a.sa,(s=a.D)&&l&&vt(d,s,l),vt(d,"VER",a.ma),Fd(a,d),d}function sm(a,s,l){if(s&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new tn(l&&a.Ba&&!a.qa?new Gc({ib:!0}):a.qa)).L=a.H,s}function jd(){}function _h(){if(Kr&&!(10<=Number(eo)))throw Error("Environmental error: no available transport.")}function ji(a,s){en.call(this),this.g=new Er(s),this.l=a,this.h=s&&s.messageUrlParams||null,a=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(a?a["X-WebChannel-Content-Type"]=s.messageContentType:a={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(a?a["X-WebChannel-Client-Profile"]=s.ya:a={"X-WebChannel-Client-Profile":s.ya}),this.g.P=a,(a=s&&s.httpHeadersOverwriteParam)&&!ye(a)&&(this.g.o=a),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!ye(s)&&(this.g.D=s,null!==(a=this.h)&&s in a&&s in(a=this.h)&&delete a[s]),this.j=new Zr(this)}function bh(a){fh.call(this);var s=a.__sm__;if(s){e:{for(var l in s){a=l;break e}a=void 0}(this.i=a)&&(a=this.i,s=null!==s&&a in s?s[a]:void 0),this.data=s}else this.data=a}function am(){ka.call(this),this.status=1}function Zr(a){this.g=a}(se=tn.prototype).ea=function(a,s,l,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);s=s?s.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gs.g(),this.C=function wn(a){return a.h||(a.h=a.i())}(this.u?this.u:Gs),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(s,String(a),!0),this.F=!1}catch(v){return void vh(this,v)}a=l||"";var g=new R(this.headers);d&&Yo(d,function(v,b){g.set(b,v)}),d=function de(a){e:{for(var s=mh,l=a.length,d="string"==typeof a?a.split(""):a,g=0;g<l;g++)if(g in d&&s.call(void 0,d[g],g,a)){s=g;break e}s=-1}return 0>s?null:"string"==typeof a?a.charAt(s):a[s]}(g.T()),l=Ee.FormData&&a instanceof Ee.FormData,!(0<=Ji(Ii,s))||d||l||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(v,b){this.g.setRequestHeader(b,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mp(this),0<this.B&&((this.K=function xd(a){return Kr&&function gn(){return function Ei(a){var s=Un;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=a(9)}(function(){for(var a=0,s=Oe(String(Zt)).split("."),l=Oe("9").split("."),d=Math.max(s.length,l.length),g=0;0==a&&g<d;g++){var v=s[g]||"",b=l[g]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==v[0].length&&0==b[0].length)break;a=ct(0==v[1].length?0:parseInt(v[1],10),0==b[1].length?0:parseInt(b[1],10))||ct(0==v[2].length,0==b[2].length)||ct(v[2],b[2]),v=v[3],b=b[3]}while(0==a)}return 0<=a})}()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=un(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(v){vh(this,v)}},se.pa=function(){typeof z<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))},se.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,pt(this,"complete"),pt(this,"abort"),Xs(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xs(this,!0)),tn.Z.M.call(this)},se.Fa=function(){this.s||(this.F||this.v||this.l?Od(this):this.cb())},se.cb=function(){Od(this)},se.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Qa=function(a){if(this.g){var s=this.g.responseText;return a&&0==s.indexOf(a)&&(s=s.substring(a.length)),Pa(s)}},se.Da=function(){return this.m},se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=Er.prototype).ma=8,se.G=1,se.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch{}},se.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var s=new Ko(this,this.h,a,void 0),l=this.s;if(this.P&&(l?ht(l=$e(l),this.P):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var d=0,g=0;g<this.l.length;g++){var v=this.l[g];if(void 0===(v="__data__"in v.g&&"string"==typeof(v=v.g.__data__)?v.length:void 0))break;if(4096<(d+=v)){d=g;break e}if(4096===d||g===this.l.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=zv(this,s,d),vt(g=_e(this.F),"RID",a),vt(g,"CVER",22),this.D&&vt(g,"X-HTTP-Session-Id",this.D),Fd(this,g),this.o&&l&&Kc(g,this.o,l),kr(this.i,s),this.Ra&&vt(g,"TYPE","init"),this.ja?(vt(g,"$req",d),vt(g,"SID","null"),s.$=!0,Oa(s,g,null)):Oa(s,g,d),this.G=2}}else 3==this.G&&(a?om(this,a):0==this.l.length||ku(this.i)||om(this))},se.Ga=function(){if(this.u=null,Ba(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=Ra(Yt(this.bb,this),a)}},se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,It(10),Ti(this),Ba(this))},se.ab=function(){null!=this.v&&(this.v=null,Ti(this),yh(this),It(19))},se.jb=function(a){a?(this.h.info("Successfully pinged google.com"),It(2)):(this.h.info("Failed to ping google.com"),It(1))},(se=jd.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Oa=function(){},_h.prototype.g=function(a,s){return new ji(a,s)},bt(ji,en),ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,s=this.l,l=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),uh(Yt(a.hb,a,s))),It(0),a.W=s,a.aa=l||{},a.N=a.X,a.F=Nu(a,null,a.W),Ou(a)},ji.prototype.close=function(){po(this.g)},ji.prototype.u=function(a){if("string"==typeof a){var s={};s.__data__=a,Xc(this.g,s)}else this.v?((s={}).__data__=zs(a),Xc(this.g,s)):Xc(this.g,a)},ji.prototype.M=function(){this.g.j=null,delete this.j,po(this.g),delete this.g,ji.Z.M.call(this)},bt(bh,fh),bt(am,ka),bt(Zr,jd),Zr.prototype.xa=function(){pt(this.g,"a")},Zr.prototype.wa=function(a){pt(this.g,new bh(a))},Zr.prototype.va=function(a){pt(this.g,new am(a))},Zr.prototype.ua=function(){pt(this.g,"b")},_h.prototype.createWebChannel=_h.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,xe.COMPLETE="complete",Ru.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",en.prototype.listen=en.prototype.N,tn.prototype.listenOnce=tn.prototype.O,tn.prototype.getLastError=tn.prototype.La,tn.prototype.getLastErrorCode=tn.prototype.Da,tn.prototype.getStatus=tn.prototype.ba,tn.prototype.getResponseJson=tn.prototype.Qa,tn.prototype.getResponseText=tn.prototype.ga,tn.prototype.send=tn.prototype.ea;var Pu=Mu,kp=xe,$v=Wo,ar_PROXY=10,ar_NOPROXY=11,Va=Gc,wh=Ru,Eh=tn,Jr=function(){function a(s,l){var d=this;this.previousValue=s,l&&(l.sequenceNumberHandler=function(g){return d.t(g)},this.i=function(g){return l.writeSequenceNumber(g)})}return a.prototype.t=function(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue},a.prototype.next=function(){var s=++this.previousValue;return this.i&&this.i(s),s},a}();Jr.o=-1;var ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=function(a){function s(l,d){var g=this;return(g=a.call(this,d)||this).code=l,g.message=d,g.name="FirebaseError",g.toString=function(){return g.name+": [code="+g.code+"]: "+g.message},g}return(0,I.ZT)(s,a),s}(Error),ro=new nt.Yd("@firebase/firestore");function Ai(){return ro.logLevel}function Se(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(ro.logLevel<=nt.in.DEBUG){var d=s.map(Fu);ro.debug.apply(ro,(0,I.ev)(["Firestore (8.10.1): "+a],d))}}function Ln(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(ro.logLevel<=nt.in.ERROR){var d=s.map(Fu);ro.error.apply(ro,(0,I.ev)(["Firestore (8.10.1): "+a],d))}}function Jc(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(ro.logLevel<=nt.in.WARN){var d=s.map(Fu);ro.warn.apply(ro,(0,I.ev)(["Firestore (8.10.1): "+a],d))}}function Fu(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function we(a){void 0===a&&(a="Unexpected state");var s="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+a;throw Ln(s),new Error(s)}function at(a,s){a||we()}function Be(a,s){return a}function el(a){var s=typeof self<"u"&&(self.crypto||self.msCrypto),l=new Uint8Array(a);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(var d=0;d<a;d++)l[d]=Math.floor(256*Math.random());return l}var ei=function(){function a(){}return a.u=function(){for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/s.length)*s.length,d="";d.length<20;)for(var g=el(40),v=0;v<g.length;++v)d.length<20&&g[v]<l&&(d+=s.charAt(g[v]%s.length));return d},a}();function Qe(a,s){return a<s?-1:a>s?1:0}function Zs(a,s,l){return a.length===s.length&&a.every(function(d,g){return l(d,s[g])})}function ja(a){return a+"\0"}var hi=function(){function a(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(s){return a.fromMillis(s.getTime())},a.fromMillis=function(s){var l=Math.floor(s/1e3);return new a(l,Math.floor(1e6*(s-1e3*l)))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype._compareTo=function(s){return this.seconds===s.seconds?Qe(this.nanoseconds,s.nanoseconds):Qe(this.seconds,s.seconds)},a.prototype.isEqual=function(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),re=function(){function a(s){this.timestamp=s}return a.fromTimestamp=function(s){return new a(s)},a.min=function(){return new a(new hi(0,0))},a.prototype.compareTo=function(s){return this.timestamp._compareTo(s.timestamp)},a.prototype.isEqual=function(s){return this.timestamp.isEqual(s.timestamp)},a.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.toTimestamp=function(){return this.timestamp},a}();function Wt(a){var s=0;for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s++;return s}function xr(a,s){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s(l,a[l])}function ko(a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))return!1;return!0}var Zn=function(){function a(s,l,d){void 0===l?l=0:l>s.length&&we(),void 0===d?d=s.length-l:d>s.length-l&&we(),this.segments=s,this.offset=l,this.len=d}return Object.defineProperty(a.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return 0===a.comparator(this,s)},a.prototype.child=function(s){var l=this.segments.slice(this.offset,this.limit());return s instanceof a?s.forEach(function(d){l.push(d)}):l.push(s),this.construct(l)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.popFirst=function(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)},a.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},a.prototype.firstSegment=function(){return this.segments[this.offset]},a.prototype.lastSegment=function(){return this.get(this.length-1)},a.prototype.get=function(s){return this.segments[this.offset+s]},a.prototype.isEmpty=function(){return 0===this.length},a.prototype.isPrefixOf=function(s){if(s.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.isImmediateParentOf=function(s){if(this.length+1!==s.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.forEach=function(s){for(var l=this.offset,d=this.limit();l<d;l++)s(this.segments[l])},a.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},a.comparator=function(s,l){for(var d=Math.min(s.length,l.length),g=0;g<d;g++){var v=s.get(g),b=l.get(g);if(v<b)return-1;if(v>b)return 1}return s.length<l.length?-1:s.length>l.length?1:0},a}(),Kt=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.construct=function(l,d,g){return new s(l,d,g)},s.prototype.canonicalString=function(){return this.toArray().join("/")},s.prototype.toString=function(){return this.canonicalString()},s.fromString=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];for(var g=[],v=0,b=l;v<b.length;v++){var C=b[v];if(C.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,"Invalid segment ("+C+"). Paths must not contain // in them.");g.push.apply(g,C.split("/").filter(function(T){return T.length>0}))}return new s(g)},s.emptyPath=function(){return new s([])},s}(Zn),tl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cr=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.construct=function(l,d,g){return new s(l,d,g)},s.isValidIdentifier=function(l){return tl.test(l)},s.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},s.prototype.toString=function(){return this.canonicalString()},s.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},s.keyField=function(){return new s(["__name__"])},s.fromServerFormat=function(l){for(var d=[],g="",v=0,b=function(){if(0===g.length)throw new ge(ie.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(g),g=""},C=!1;v<l.length;){var T=l[v];if("\\"===T){if(v+1===l.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var O=l[v+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);g+=O,v+=2}else"`"===T?(C=!C,v++):"."!==T||C?(g+=T,v++):(b(),v++)}if(b(),C)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new s(d)},s.emptyPath=function(){return new s([])},s}(Zn),Ui=function(){function a(s){this.fields=s,s.sort(Cr.comparator)}return a.prototype.covers=function(s){for(var l=0,d=this.fields;l<d.length;l++)if(d[l].isPrefixOf(s))return!0;return!1},a.prototype.isEqual=function(s){return Zs(this.fields,s.fields,function(l,d){return l.isEqual(d)})},a}(),Vr=function(){function a(s){this.binaryString=s}return a.fromBase64String=function(s){return new a(atob(s))},a.fromUint8Array=function(s){return new a(function(l){for(var d="",g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(s))},a.prototype.toBase64=function(){return btoa(this.binaryString)},a.prototype.toUint8Array=function(){return function(s){for(var l=new Uint8Array(s.length),d=0;d<s.length;d++)l[d]=s.charCodeAt(d);return l}(this.binaryString)},a.prototype.approximateByteSize=function(){return 2*this.binaryString.length},a.prototype.compareTo=function(s){return Qe(this.binaryString,s.binaryString)},a.prototype.isEqual=function(s){return this.binaryString===s.binaryString},a}();Vr.EMPTY_BYTE_STRING=new Vr("");var f_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(a){if(at(!!a),"string"==typeof a){var s=0,l=f_.exec(a);if(at(!!l),l[1]){var d=l[1];d=(d+"000000000").substr(0,9),s=Number(d)}var g=new Date(a);return{seconds:Math.floor(g.getTime()/1e3),nanos:s}}return{seconds:Or(a.seconds),nanos:Or(a.nanos)}}function Or(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Js(a){return"string"==typeof a?Vr.fromBase64String(a):Vr.fromUint8Array(a)}function di(a){var s,l;return"server_timestamp"===(null===(l=((null===(s=a?.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function Zo(a){var s=a.mapValue.fields.__previous_value__;return di(s)?Zo(s):s}function Ua(a){var s=xo(a.mapValue.fields.__local_write_time__.timestampValue);return new hi(s.seconds,s.nanos)}function io(a){return null==a}function oo(a){return 0===a&&1/a==-1/0}function Ge(a){return"number"==typeof a&&Number.isInteger(a)&&!oo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var Ue=function(){function a(s){this.path=s}return a.fromPath=function(s){return new a(Kt.fromString(s))},a.fromName=function(s){return new a(Kt.fromString(s).popFirst(5))},a.prototype.hasCollectionId=function(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s},a.prototype.isEqual=function(s){return null!==s&&0===Kt.comparator(this.path,s.path)},a.prototype.toString=function(){return this.path.toString()},a.comparator=function(s,l){return Kt.comparator(s.path,l.path)},a.isDocumentKey=function(s){return s.length%2==0},a.fromSegments=function(s){return new a(new Kt(s.slice()))},a}();function Mi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?di(a)?4:10:we()}function As(a,s){var g,l=Mi(a);if(l!==Mi(s))return!1;switch(l){case 0:return!0;case 1:return a.booleanValue===s.booleanValue;case 4:return Ua(a).isEqual(Ua(s));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;var v=xo(d.timestampValue),b=xo(g.timestampValue);return v.seconds===b.seconds&&v.nanos===b.nanos}(a,s);case 5:return a.stringValue===s.stringValue;case 6:return g=s,Js(a.bytesValue).isEqual(Js(g.bytesValue));case 7:return a.referenceValue===s.referenceValue;case 8:return function(d,g){return Or(d.geoPointValue.latitude)===Or(g.geoPointValue.latitude)&&Or(d.geoPointValue.longitude)===Or(g.geoPointValue.longitude)}(a,s);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return Or(d.integerValue)===Or(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){var v=Or(d.doubleValue),b=Or(g.doubleValue);return v===b?oo(v)===oo(b):isNaN(v)&&isNaN(b)}return!1}(a,s);case 9:return Zs(a.arrayValue.values||[],s.arrayValue.values||[],As);case 10:return function(d,g){var v=d.mapValue.fields||{},b=g.mapValue.fields||{};if(Wt(v)!==Wt(b))return!1;for(var C in v)if(v.hasOwnProperty(C)&&(void 0===b[C]||!As(v[C],b[C])))return!1;return!0}(a,s);default:return we()}}function Lu(a,s){return void 0!==(a.values||[]).find(function(l){return As(l,s)})}function Ms(a,s){var g,v,b,C,l=Mi(a),d=Mi(s);if(l!==d)return Qe(l,d);switch(l){case 0:return 0;case 1:return Qe(a.booleanValue,s.booleanValue);case 2:return v=s,(b=Or((g=a).integerValue||g.doubleValue))<(C=Or(v.integerValue||v.doubleValue))?-1:b>C?1:b===C?0:isNaN(b)?isNaN(C)?0:-1:1;case 3:return Ch(a.timestampValue,s.timestampValue);case 4:return Ch(Ua(a),Ua(s));case 5:return Qe(a.stringValue,s.stringValue);case 6:return function(g,v){var b=Js(g),C=Js(v);return b.compareTo(C)}(a.bytesValue,s.bytesValue);case 7:return function(g,v){for(var b=g.split("/"),C=v.split("/"),T=0;T<b.length&&T<C.length;T++){var O=Qe(b[T],C[T]);if(0!==O)return O}return Qe(b.length,C.length)}(a.referenceValue,s.referenceValue);case 8:return function(g,v){var b=Qe(Or(g.latitude),Or(v.latitude));return 0!==b?b:Qe(Or(g.longitude),Or(v.longitude))}(a.geoPointValue,s.geoPointValue);case 9:return function(g,v){for(var b=g.values||[],C=v.values||[],T=0;T<b.length&&T<C.length;++T){var O=Ms(b[T],C[T]);if(O)return O}return Qe(b.length,C.length)}(a.arrayValue,s.arrayValue);case 10:return function(g,v){var b=g.fields||{},C=Object.keys(b),T=v.fields||{},O=Object.keys(T);C.sort(),O.sort();for(var P=0;P<C.length&&P<O.length;++P){var j=Qe(C[P],O[P]);if(0!==j)return j;var q=Ms(b[C[P]],T[O[P]]);if(0!==q)return q}return Qe(C.length,O.length)}(a.mapValue,s.mapValue);default:throw we()}}function Ch(a,s){if("string"==typeof a&&"string"==typeof s&&a.length===s.length)return Qe(a,s);var l=xo(a),d=xo(s),g=Qe(l.seconds,d.seconds);return 0!==g?g:Qe(l.nanos,d.nanos)}function Bu(a){return Ud(a)}function Ud(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(g=xo(a.timestampValue)).seconds+","+g.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?Js(a.bytesValue).toBase64():"referenceValue"in a?Ue.fromName(a.referenceValue).toString():"geoPointValue"in a?"geo("+(s=a.geoPointValue).latitude+","+s.longitude+")":"arrayValue"in a?function(d){for(var g="[",v=!0,b=0,C=d.values||[];b<C.length;b++)v?v=!1:g+=",",g+=Ud(C[b]);return g+"]"}(a.arrayValue):"mapValue"in a?function(d){for(var g="{",v=!0,b=0,C=Object.keys(d.fields||{}).sort();b<C.length;b++){var T=C[b];v?v=!1:g+=",",g+=T+":"+Ud(d.fields[T])}return g+"}"}(a.mapValue):we();var g,s}function Vu(a,s){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+s.path.canonicalString()}}function ju(a){return!!a&&"integerValue"in a}function nl(a){return!!a&&"arrayValue"in a}function Uu(a){return!!a&&"nullValue"in a}function xp(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Hu(a){return!!a&&"mapValue"in a}function Rs(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){var s={mapValue:{fields:{}}};return xr(a.mapValue.fields,function(g,v){return s.mapValue.fields[g]=Rs(v)}),s}if(a.arrayValue){for(var l={arrayValue:{values:[]}},d=0;d<(a.arrayValue.values||[]).length;++d)l.arrayValue.values[d]=Rs(a.arrayValue.values[d]);return l}return Object.assign({},a)}var fi=function(){function a(s){this.value=s}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(s){if(s.isEmpty())return this.value;for(var l=this.value,d=0;d<s.length-1;++d)if(!Hu(l=(l.mapValue.fields||{})[s.get(d)]))return null;return(l=(l.mapValue.fields||{})[s.lastSegment()])||null},a.prototype.set=function(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=Rs(l)},a.prototype.setAll=function(s){var l=this,d=Cr.emptyPath(),g={},v=[];s.forEach(function(C,T){if(!d.isImmediateParentOf(T)){var O=l.getFieldsMap(d);l.applyChanges(O,g,v),g={},v=[],d=T.popLast()}C?g[T.lastSegment()]=Rs(C):v.push(T.lastSegment())});var b=this.getFieldsMap(d);this.applyChanges(b,g,v)},a.prototype.delete=function(s){var l=this.field(s.popLast());Hu(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]},a.prototype.isEqual=function(s){return As(this.value,s.value)},a.prototype.getFieldsMap=function(s){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var d=0;d<s.length;++d){var g=l.mapValue.fields[s.get(d)];Hu(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},l.mapValue.fields[s.get(d)]=g),l=g}return l.mapValue.fields},a.prototype.applyChanges=function(s,l,d){xr(l,function(C,T){return s[C]=T});for(var g=0,v=d;g<v.length;g++)delete s[v[g]]},a.prototype.clone=function(){return new a(Rs(this.value))},a}();function um(a){var s=[];return xr(a.fields,function(l,d){var g=new Cr([l]);if(Hu(d)){var v=um(d.mapValue).fields;if(0===v.length)s.push(g);else for(var b=0,C=v;b<C.length;b++)s.push(g.child(C[b]))}else s.push(g)}),new Ui(s)}var Sn=function(){function a(s,l,d,g,v){this.key=s,this.documentType=l,this.version=d,this.data=g,this.documentState=v}return a.newInvalidDocument=function(s){return new a(s,0,re.min(),fi.empty(),0)},a.newFoundDocument=function(s,l,d){return new a(s,1,l,d,0)},a.newNoDocument=function(s,l){return new a(s,2,l,fi.empty(),0)},a.newUnknownDocument=function(s,l){return new a(s,3,l,fi.empty(),2)},a.prototype.convertToFoundDocument=function(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this},a.prototype.convertToNoDocument=function(s){return this.version=s,this.documentType=2,this.data=fi.empty(),this.documentState=0,this},a.prototype.convertToUnknownDocument=function(s){return this.version=s,this.documentType=3,this.data=fi.empty(),this.documentState=2,this},a.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},a.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(a.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),a.prototype.isValidDocument=function(){return 0!==this.documentType},a.prototype.isFoundDocument=function(){return 1===this.documentType},a.prototype.isNoDocument=function(){return 2===this.documentType},a.prototype.isUnknownDocument=function(){return 3===this.documentType},a.prototype.isEqual=function(s){return s instanceof a&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)},a.prototype.clone=function(){return new a(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},a}(),Ha=function(a,s,l,d,g,v,b){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===v&&(v=null),void 0===b&&(b=null),this.path=a,this.collectionGroup=s,this.orderBy=l,this.filters=d,this.limit=g,this.startAt=v,this.endAt=b,this.h=null};function ur(a,s,l,d,g,v,b){return void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===v&&(v=null),void 0===b&&(b=null),new Ha(a,s,l,d,g,v,b)}function rl(a){var s=Be(a);if(null===s.h){var l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(function(d){return(g=d).field.canonicalString()+g.op.toString()+Bu(g.value);var g}).join(","),l+="|ob:",l+=s.orderBy.map(function(d){return(g=d).field.canonicalString()+g.dir;var g}).join(","),io(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=qa(s.startAt)),s.endAt&&(l+="|ub:",l+=qa(s.endAt)),s.h=l}return s.h}function Dh(a,s){if(a.limit!==s.limit||a.orderBy.length!==s.orderBy.length)return!1;for(var l=0;l<a.orderBy.length;l++)if(!qd(a.orderBy[l],s.orderBy[l]))return!1;if(a.filters.length!==s.filters.length)return!1;for(var d=0;d<a.filters.length;d++)if((g=a.filters[d]).op!==(v=s.filters[d]).op||!g.field.isEqual(v.field)||!As(g.value,v.value))return!1;var g,v;return a.collectionGroup===s.collectionGroup&&!!a.path.isEqual(s.path)&&!!Ih(a.startAt,s.startAt)&&Ih(a.endAt,s.endAt)}function Hd(a){return Ue.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}var so=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).field=l,v.op=d,v.value=g,v}return(0,I.ZT)(s,a),s.create=function(l,d,g){return l.isKeyField()?"in"===d||"not-in"===d?this.l(l,d,g):new Gv(l,d,g):"array-contains"===d?new Sh(l,g):"in"===d?new Op(l,g):"not-in"===d?new cm(l,g):"array-contains-any"===d?new lm(l,g):new s(l,d,g)},s.l=function(l,d,g){return"in"===d?new Wv(l,g):new il(l,g)},s.prototype.matches=function(l){var d=l.data.field(this.field);return"!="===this.op?null!==d&&this.m(Ms(d,this.value)):null!==d&&Mi(this.value)===Mi(d)&&this.m(Ms(d,this.value))},s.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return we()}},s.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},s}(function(){}),Gv=function(a){function s(l,d,g){var v=this;return(v=a.call(this,l,d,g)||this).key=Ue.fromName(g.referenceValue),v}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=Ue.comparator(l.key,this.key);return this.m(d)},s}(so),Wv=function(a){function s(l,d){var g=this;return(g=a.call(this,l,"in",d)||this).keys=ol(0,d),g}return(0,I.ZT)(s,a),s.prototype.matches=function(l){return this.keys.some(function(d){return d.isEqual(l.key)})},s}(so),il=function(a){function s(l,d){var g=this;return(g=a.call(this,l,"not-in",d)||this).keys=ol(0,d),g}return(0,I.ZT)(s,a),s.prototype.matches=function(l){return!this.keys.some(function(d){return d.isEqual(l.key)})},s}(so);function ol(a,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(d){return Ue.fromName(d.referenceValue)})}var Sh=function(a){function s(l,d){return a.call(this,l,"array-contains",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=l.data.field(this.field);return nl(d)&&Lu(d.arrayValue,this.value)},s}(so),Op=function(a){function s(l,d){return a.call(this,l,"in",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=l.data.field(this.field);return null!==d&&Lu(this.value.arrayValue,d)},s}(so),cm=function(a){function s(l,d){return a.call(this,l,"not-in",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=l.data.field(this.field);return null!==d&&!Lu(this.value.arrayValue,d)},s}(so),lm=function(a){function s(l,d){return a.call(this,l,"array-contains-any",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=this,g=l.data.field(this.field);return!(!nl(g)||!g.arrayValue.values)&&g.arrayValue.values.some(function(v){return Lu(d.value.arrayValue,v)})},s}(so),Oo=function(a,s){this.position=a,this.before=s};function qa(a){return(a.before?"b":"a")+":"+a.position.map(function(s){return Bu(s)}).join(",")}var qu=function(a,s){void 0===s&&(s="asc"),this.field=a,this.dir=s};function qd(a,s){return a.dir===s.dir&&a.field.isEqual(s.field)}function zu(a,s,l){for(var d=0,g=0;g<a.position.length;g++){var v=s[g],b=a.position[g];if(d=v.field.isKeyField()?Ue.comparator(Ue.fromName(b.referenceValue),l.key):Ms(b,l.data.field(v.field)),"desc"===v.dir&&(d*=-1),0!==d)break}return a.before?d<=0:d<0}function Ih(a,s){if(null===a)return null===s;if(null===s||a.before!==s.before||a.position.length!==s.position.length)return!1;for(var l=0;l<a.position.length;l++)if(!As(a.position[l],s.position[l]))return!1;return!0}var Jo=function(a,s,l,d,g,v,b,C){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===v&&(v="F"),void 0===b&&(b=null),void 0===C&&(C=null),this.path=a,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=d,this.limit=g,this.limitType=v,this.startAt=b,this.endAt=C,this.p=null,this.T=null};function Np(a,s,l,d,g,v,b,C){return new Jo(a,s,l,d,g,v,b,C)}function Th(a){return new Jo(a)}function zd(a){return!io(a.limit)&&"F"===a.limitType}function za(a){return!io(a.limit)&&"L"===a.limitType}function Ah(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function Mh(a){for(var s=0,l=a.filters;s<l.length;s++){var d=l[s];if(d.g())return d.field}return null}function ea(a){return null!==a.collectionGroup}function $u(a){var s=Be(a);if(null===s.p){s.p=[];var l=Mh(s),d=Ah(s);if(null!==l&&null===d)l.isKeyField()||s.p.push(new qu(l)),s.p.push(new qu(Cr.keyField(),"asc"));else{for(var g=!1,v=0,b=s.explicitOrderBy;v<b.length;v++){var C=b[v];s.p.push(C),C.field.isKeyField()&&(g=!0)}if(!g){var T=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.p.push(new qu(Cr.keyField(),T))}}}return s.p}function pi(a){var s=Be(a);if(!s.T)if("F"===s.limitType)s.T=ur(s.path,s.collectionGroup,$u(s),s.filters,s.limit,s.startAt,s.endAt);else{for(var l=[],d=0,g=$u(s);d<g.length;d++){var v=g[d];l.push(new qu(v.field,"desc"===v.dir?"asc":"desc"))}var C=s.endAt?new Oo(s.endAt.position,!s.endAt.before):null,T=s.startAt?new Oo(s.startAt.position,!s.startAt.before):null;s.T=ur(s.path,s.collectionGroup,l,s.filters,s.limit,C,T)}return s.T}function Gu(a,s,l){return new Jo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),s,l,a.startAt,a.endAt)}function Rh(a,s){return Dh(pi(a),pi(s))&&a.limitType===s.limitType}function Wu(a){return rl(pi(a))+"|lt:"+a.limitType}function $a(a){return"Query(target="+(l=(s=pi(a)).path.canonicalString(),null!==s.collectionGroup&&(l+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(l+=", filters: ["+s.filters.map(function(d){return(g=d).field.canonicalString()+" "+g.op+" "+Bu(g.value);var g}).join(", ")+"]"),io(s.limit)||(l+=", limit: "+s.limit),s.orderBy.length>0&&(l+=", orderBy: ["+s.orderBy.map(function(d){return(g=d).field.canonicalString()+" ("+g.dir+")";var g}).join(", ")+"]"),s.startAt&&(l+=", startAt: "+qa(s.startAt)),s.endAt&&(l+=", endAt: "+qa(s.endAt)),"Target("+l+"); limitType=")+a.limitType+")";var s,l}function es(a,s){return s.isFoundDocument()&&(g=(d=s).key.path,null!==(l=a).collectionGroup?d.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(g):Ue.isDocumentKey(l.path)?l.path.isEqual(g):l.path.isImmediateParentOf(g))&&function(l,d){for(var g=0,v=l.explicitOrderBy;g<v.length;g++){var b=v[g];if(!b.field.isKeyField()&&null===d.data.field(b.field))return!1}return!0}(a,s)&&function(l,d){for(var g=0,v=l.filters;g<v.length;g++)if(!v[g].matches(d))return!1;return!0}(a,s)&&function(l,d){return!(l.startAt&&!zu(l.startAt,$u(l),d)||l.endAt&&zu(l.endAt,$u(l),d))}(a,s);var l,d,g}function hm(a){return function(s,l){for(var d=!1,g=0,v=$u(a);g<v.length;g++){var b=v[g],C=Pp(b,s,l);if(0!==C)return C;d=d||b.field.isKeyField()}return 0}}function Pp(a,s,l){var g,b,C,T,d=a.field.isKeyField()?Ue.comparator(s.key,l.key):(b=l,C=s.data.field(g=a.field),T=b.data.field(g),null!==C&&null!==T?Ms(C,T):we());switch(a.dir){case"asc":return d;case"desc":return-1*d;default:return we()}}function sl(a,s){if(a.I){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(s)?"-0":s}}function $d(a){return{integerValue:""+a}}function go(a,s){return Ge(s)?$d(s):sl(a,s)}var kh=function(){this._=void 0};function Ku(a,s,l){return a instanceof ti?(v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=l).seconds,nanos:d.nanoseconds}}}},(g=s)&&(v.fields.__previous_value__=g),{mapValue:v}):a instanceof ts?Fp(a,s):a instanceof ta?Wd(a,s):function(d,g){var v=al(d,g),b=ul(v)+ul(d.A);return ju(v)&&ju(d.A)?$d(b):sl(d.R,b)}(a,s);var d,g,v}function Gd(a,s,l){return a instanceof ts?Fp(a,s):a instanceof ta?Wd(a,s):l}function al(a,s){return a instanceof Ga?ju(l=s)||(d=l)&&"doubleValue"in d?s:{integerValue:0}:null;var d,l}var ti=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s}(kh),ts=function(a){function s(l){var d=this;return(d=a.call(this)||this).elements=l,d}return(0,I.ZT)(s,a),s}(kh);function Fp(a,s){for(var l=cl(s),d=function(b){l.some(function(C){return As(C,b)})||l.push(b)},g=0,v=a.elements;g<v.length;g++)d(v[g]);return{arrayValue:{values:l}}}var ta=function(a){function s(l){var d=this;return(d=a.call(this)||this).elements=l,d}return(0,I.ZT)(s,a),s}(kh);function Wd(a,s){for(var l=cl(s),d=function(b){l=l.filter(function(C){return!As(C,b)})},g=0,v=a.elements;g<v.length;g++)d(v[g]);return{arrayValue:{values:l}}}var Ga=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).R=l,g.A=d,g}return(0,I.ZT)(s,a),s}(kh);function ul(a){return Or(a.integerValue||a.doubleValue)}function cl(a){return nl(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var ns=function(a,s){this.field=a,this.transform=s},ks=function(a,s){this.version=a,this.transformResults=s},Dr=function(){function a(s,l){this.updateTime=s,this.exists=l}return a.none=function(){return new a},a.exists=function(s){return new a(void 0,s)},a.updateTime=function(s){return new a(s)},Object.defineProperty(a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)},a}();function rs(a,s){return void 0!==a.updateTime?s.isFoundDocument()&&s.version.isEqual(a.updateTime):void 0===a.exists||a.exists===s.isFoundDocument()}var Yu=function(){};function ll(a,s,l){var d,g,v,b,C;a instanceof Xu?(g=s,v=l,b=(d=a).value.clone(),C=Ka(d.fieldTransforms,g,v.transformResults),b.setAll(C),g.convertToFoundDocument(v.version,b).setHasCommittedMutations()):a instanceof Jn?function(d,g,v){if(rs(d.precondition,g)){var b=Ka(d.fieldTransforms,g,v.transformResults),C=g.data;C.setAll(mo(d)),C.setAll(b),g.convertToFoundDocument(v.version,C).setHasCommittedMutations()}else g.convertToUnknownDocument(v.version)}(a,s,l):function(d,g,v){g.convertToNoDocument(v.version).setHasCommittedMutations()}(0,s,l)}function is(a,s,l){var g;a instanceof Xu?function(d,g,v){if(rs(d.precondition,g)){var b=d.value.clone(),C=vo(d.fieldTransforms,v,g);b.setAll(C),g.convertToFoundDocument(Wa(g),b).setHasLocalMutations()}}(a,s,l):a instanceof Jn?function(d,g,v){if(rs(d.precondition,g)){var b=vo(d.fieldTransforms,v,g),C=g.data;C.setAll(mo(d)),C.setAll(b),g.convertToFoundDocument(Wa(g),C).setHasLocalMutations()}}(a,s,l):rs(a.precondition,g=s)&&g.convertToNoDocument(re.min())}function Lp(a,s){for(var l=null,d=0,g=a.fieldTransforms;d<g.length;d++){var v=g[d],b=s.data.field(v.field),C=al(v.transform,b||null);null!=C&&(null==l&&(l=fi.empty()),l.set(v.field,C))}return l||null}function Kd(a,s){return a.type===s.type&&!!a.key.isEqual(s.key)&&!!a.precondition.isEqual(s.precondition)&&(d=s.fieldTransforms,!!(void 0===(l=a.fieldTransforms)&&void 0===d||l&&d&&Zs(l,d,function(g,v){return(b=g).field.isEqual((C=v).field)&&(O=C.transform,(T=b.transform)instanceof ts&&O instanceof ts||T instanceof ta&&O instanceof ta?Zs(T.elements,O.elements,As):T instanceof Ga&&O instanceof Ga?As(T.A,O.A):T instanceof ti&&O instanceof ti);var b,C,T,O})))&&(0===a.type?a.value.isEqual(s.value):1!==a.type||a.data.isEqual(s.data)&&a.fieldMask.isEqual(s.fieldMask));var l,d}function Wa(a){return a.isFoundDocument()?a.version:re.min()}var Xu=function(a){function s(l,d,g,v){void 0===v&&(v=[]);var b=this;return(b=a.call(this)||this).key=l,b.value=d,b.precondition=g,b.fieldTransforms=v,b.type=0,b}return(0,I.ZT)(s,a),s}(Yu),Jn=function(a){function s(l,d,g,v,b){void 0===b&&(b=[]);var C=this;return(C=a.call(this)||this).key=l,C.data=d,C.fieldMask=g,C.precondition=v,C.fieldTransforms=b,C.type=1,C}return(0,I.ZT)(s,a),s}(Yu);function mo(a){var s=new Map;return a.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var d=a.data.field(l);s.set(l,d)}}),s}function Ka(a,s,l){var d=new Map;at(a.length===l.length);for(var g=0;g<l.length;g++){var v=a[g],b=v.transform,C=s.data.field(v.field);d.set(v.field,Gd(b,C,l[g]))}return d}function vo(a,s,l){for(var d=new Map,g=0,v=a;g<v.length;g++){var b=v[g],C=b.transform,T=l.data.field(b.field);d.set(b.field,Ku(C,T,s))}return d}var fr,Lt,os=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).key=l,g.precondition=d,g.type=2,g.fieldTransforms=[],g}return(0,I.ZT)(s,a),s}(Yu),Qu=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).key=l,g.precondition=d,g.type=3,g.fieldTransforms=[],g}return(0,I.ZT)(s,a),s}(Yu),dm=function(a){this.count=a};function Le(a){switch(a){case ie.OK:return we();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we()}}function Kv(a){if(void 0===a)return Ln("GRPC error has no .code"),ie.UNKNOWN;switch(a){case fr.OK:return ie.OK;case fr.CANCELLED:return ie.CANCELLED;case fr.UNKNOWN:return ie.UNKNOWN;case fr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case fr.INTERNAL:return ie.INTERNAL;case fr.UNAVAILABLE:return ie.UNAVAILABLE;case fr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case fr.NOT_FOUND:return ie.NOT_FOUND;case fr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case fr.ABORTED:return ie.ABORTED;case fr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case fr.DATA_LOSS:return ie.DATA_LOSS;default:return we()}}(Lt=fr||(fr={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";var Wn=function(){function a(s,l){this.comparator=s,this.root=l||na.EMPTY}return a.prototype.insert=function(s,l){return new a(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,na.BLACK,null,null))},a.prototype.remove=function(s){return new a(this.comparator,this.root.remove(s,this.comparator).copy(null,null,na.BLACK,null,null))},a.prototype.get=function(s){for(var l=this.root;!l.isEmpty();){var d=this.comparator(s,l.key);if(0===d)return l.value;d<0?l=l.left:d>0&&(l=l.right)}return null},a.prototype.indexOf=function(s){for(var l=0,d=this.root;!d.isEmpty();){var g=this.comparator(s,d.key);if(0===g)return l+d.left.size;g<0?d=d.left:(l+=d.left.size+1,d=d.right)}return-1},a.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.minKey=function(){return this.root.minKey()},a.prototype.maxKey=function(){return this.root.maxKey()},a.prototype.inorderTraversal=function(s){return this.root.inorderTraversal(s)},a.prototype.forEach=function(s){this.inorderTraversal(function(l,d){return s(l,d),!1})},a.prototype.toString=function(){var s=[];return this.inorderTraversal(function(l,d){return s.push(l+":"+d),!1}),"{"+s.join(", ")+"}"},a.prototype.reverseTraversal=function(s){return this.root.reverseTraversal(s)},a.prototype.getIterator=function(){return new Yd(this.root,null,this.comparator,!1)},a.prototype.getIteratorFrom=function(s){return new Yd(this.root,s,this.comparator,!1)},a.prototype.getReverseIterator=function(){return new Yd(this.root,null,this.comparator,!0)},a.prototype.getReverseIteratorFrom=function(s){return new Yd(this.root,s,this.comparator,!0)},a}(),Yd=function(){function a(s,l,d,g){this.isReverse=g,this.nodeStack=[];for(var v=1;!s.isEmpty();)if(v=l?d(s.key,l):1,g&&(v*=-1),v<0)s=this.isReverse?s.left:s.right;else{if(0===v){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}return a.prototype.getNext=function(){var s=this.nodeStack.pop(),l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l},a.prototype.hasNext=function(){return this.nodeStack.length>0},a.prototype.peek=function(){if(0===this.nodeStack.length)return null;var s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}},a}(),na=function(){function a(s,l,d,g,v){this.key=s,this.value=l,this.color=d??a.RED,this.left=g??a.EMPTY,this.right=v??a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(s,l,d,g,v){return new a(s??this.key,l??this.value,d??this.color,g??this.left,v??this.right)},a.prototype.isEmpty=function(){return!1},a.prototype.inorderTraversal=function(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)},a.prototype.reverseTraversal=function(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)},a.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},a.prototype.minKey=function(){return this.min().key},a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},a.prototype.insert=function(s,l,d){var g=this,v=d(s,g.key);return(g=v<0?g.copy(null,null,null,g.left.insert(s,l,d),null):0===v?g.copy(null,l,null,null,null):g.copy(null,null,null,null,g.right.insert(s,l,d))).fixUp()},a.prototype.removeMin=function(){if(this.left.isEmpty())return a.EMPTY;var s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),(s=s.copy(null,null,null,s.left.removeMin(),null)).fixUp()},a.prototype.remove=function(s,l){var d,g=this;if(l(s,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(s,l),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===l(s,g.key)){if(g.right.isEmpty())return a.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(s,l))}return g.fixUp()},a.prototype.isRed=function(){return this.color},a.prototype.fixUp=function(){var s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s},a.prototype.moveRedLeft=function(){var s=this.colorFlip();return s.right.left.isRed()&&(s=(s=(s=s.copy(null,null,null,null,s.right.rotateRight())).rotateLeft()).colorFlip()),s},a.prototype.moveRedRight=function(){var s=this.colorFlip();return s.left.left.isRed()&&(s=(s=s.rotateRight()).colorFlip()),s},a.prototype.rotateLeft=function(){var s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)},a.prototype.rotateRight=function(){var s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)},a.prototype.colorFlip=function(){var s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)},a.prototype.checkMaxDepth=function(){var s=this.check();return Math.pow(2,s)<=this.size+1},a.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();var s=this.left.check();if(s!==this.right.check())throw we();return s+(this.isRed()?0:1)},a}();na.EMPTY=null,na.RED=!0,na.BLACK=!1,na.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),a.prototype.copy=function(s,l,d,g,v){return this},a.prototype.insert=function(s,l,d){return new na(s,l)},a.prototype.remove=function(s,l){return this},a.prototype.isEmpty=function(){return!0},a.prototype.inorderTraversal=function(s){return!1},a.prototype.reverseTraversal=function(s){return!1},a.prototype.minKey=function(){return null},a.prototype.maxKey=function(){return null},a.prototype.isRed=function(){return!1},a.prototype.checkMaxDepth=function(){return!0},a.prototype.check=function(){return 0},a}());var er=function(){function a(s){this.comparator=s,this.data=new Wn(this.comparator)}return a.prototype.has=function(s){return null!==this.data.get(s)},a.prototype.first=function(){return this.data.minKey()},a.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(s){return this.data.indexOf(s)},a.prototype.forEach=function(s){this.data.inorderTraversal(function(l,d){return s(l),!1})},a.prototype.forEachInRange=function(s,l){for(var d=this.data.getIteratorFrom(s[0]);d.hasNext();){var g=d.getNext();if(this.comparator(g.key,s[1])>=0)return;l(g.key)}},a.prototype.forEachWhile=function(s,l){var d;for(d=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();d.hasNext();)if(!s(d.getNext().key))return},a.prototype.firstAfterOrEqual=function(s){var l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null},a.prototype.getIterator=function(){return new Yv(this.data.getIterator())},a.prototype.getIteratorFrom=function(s){return new Yv(this.data.getIteratorFrom(s))},a.prototype.add=function(s){return this.copy(this.data.remove(s).insert(s,!0))},a.prototype.delete=function(s){return this.has(s)?this.copy(this.data.remove(s)):this},a.prototype.isEmpty=function(){return this.data.isEmpty()},a.prototype.unionWith=function(s){var l=this;return l.size<s.size&&(l=s,s=this),s.forEach(function(d){l=l.add(d)}),l},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.data.getIterator(),d=s.data.getIterator();l.hasNext();){var g=l.getNext().key,v=d.getNext().key;if(0!==this.comparator(g,v))return!1}return!0},a.prototype.toArray=function(){var s=[];return this.forEach(function(l){s.push(l)}),s},a.prototype.toString=function(){var s=[];return this.forEach(function(l){return s.push(l)}),"SortedSet("+s.toString()+")"},a.prototype.copy=function(s){var l=new a(this.comparator);return l.data=s,l},a}(),Yv=function(){function a(s){this.iter=s}return a.prototype.getNext=function(){return this.iter.getNext().key},a.prototype.hasNext=function(){return this.iter.hasNext()},a}(),Xd=new Wn(Ue.comparator);function rr(){return Xd}var Xv=new Wn(Ue.comparator);function Qd(){return Xv}var Sr=new Wn(Ue.comparator);function ao(){return Sr}var hl=new er(Ue.comparator);function Bn(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var l=hl,d=0,g=a;d<g.length;d++){var v=g[d];l=l.add(v)}return l}var Bp=new er(Qe);function Ri(){return Bp}var yo=function(){function a(s,l,d,g,v){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=v}return a.createSynthesizedRemoteEventForCurrentChange=function(s,l){var d=new Map;return d.set(s,Ya.createSynthesizedTargetChangeForCurrentChange(s,l)),new a(re.min(),d,Ri(),rr(),Bn())},a}(),Ya=function(){function a(s,l,d,g,v){this.resumeToken=s,this.current=l,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=v}return a.createSynthesizedTargetChangeForCurrentChange=function(s,l){return new a(Vr.EMPTY_BYTE_STRING,l,Bn(),Bn(),Bn())},a}(),xs=function(a,s,l,d){this.v=a,this.removedTargetIds=s,this.key=l,this.P=d},Os=function(a,s){this.targetId=a,this.V=s},Zd=function(a,s,l,d){void 0===l&&(l=Vr.EMPTY_BYTE_STRING),void 0===d&&(d=null),this.state=a,this.targetIds=s,this.resumeToken=l,this.cause=d},Jd=function(){function a(){this.S=0,this.D=tf(),this.C=Vr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(a.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),a.prototype.O=function(s){s.approximateByteSize()>0&&(this.k=!0,this.C=s)},a.prototype.M=function(){var s=Bn(),l=Bn(),d=Bn();return this.D.forEach(function(g,v){switch(v){case 0:s=s.add(g);break;case 2:l=l.add(g);break;case 1:d=d.add(g);break;default:we()}}),new Ya(this.C,this.N,s,l,d)},a.prototype.L=function(){this.k=!1,this.D=tf()},a.prototype.B=function(s,l){this.k=!0,this.D=this.D.insert(s,l)},a.prototype.q=function(s){this.k=!0,this.D=this.D.remove(s)},a.prototype.U=function(){this.S+=1},a.prototype.K=function(){this.S-=1},a.prototype.j=function(){this.k=!0,this.N=!0},a}(),ef=function(){function a(s){this.W=s,this.G=new Map,this.H=rr(),this.J=fm(),this.Y=new er(Qe)}return a.prototype.X=function(s){for(var l=0,d=s.v;l<d.length;l++){var g=d[l];s.P&&s.P.isFoundDocument()?this.Z(g,s.P):this.tt(g,s.key,s.P)}for(var v=0,b=s.removedTargetIds;v<b.length;v++)this.tt(g=b[v],s.key,s.P)},a.prototype.et=function(s){var l=this;this.forEachTarget(s,function(d){var g=l.nt(d);switch(s.state){case 0:l.st(d)&&g.O(s.resumeToken);break;case 1:g.K(),g.F||g.L(),g.O(s.resumeToken);break;case 2:g.K(),g.F||l.removeTarget(d);break;case 3:l.st(d)&&(g.j(),g.O(s.resumeToken));break;case 4:l.st(d)&&(l.it(d),g.O(s.resumeToken));break;default:we()}})},a.prototype.forEachTarget=function(s,l){var d=this;s.targetIds.length>0?s.targetIds.forEach(l):this.G.forEach(function(g,v){d.st(v)&&l(v)})},a.prototype.rt=function(s){var l=s.targetId,d=s.V.count,g=this.ot(l);if(g){var v=g.target;if(Hd(v))if(0===d){var b=new Ue(v.path);this.tt(l,b,Sn.newNoDocument(b,re.min()))}else at(1===d);else this.ct(l)!==d&&(this.it(l),this.Y=this.Y.add(l))}},a.prototype.ut=function(s){var l=this,d=new Map;this.G.forEach(function(b,C){var T=l.ot(C);if(T){if(b.current&&Hd(T.target)){var O=new Ue(T.target.path);null!==l.H.get(O)||l.at(C,O)||l.tt(C,O,Sn.newNoDocument(O,s))}b.$&&(d.set(C,b.M()),b.L())}});var g=Bn();this.J.forEach(function(b,C){var T=!0;C.forEachWhile(function(O){var P=l.ot(O);return!P||2===P.purpose||(T=!1,!1)}),T&&(g=g.add(b))});var v=new yo(s,d,this.Y,this.H,g);return this.H=rr(),this.J=fm(),this.Y=new er(Qe),v},a.prototype.Z=function(s,l){if(this.st(s)){var d=this.at(s,l.key)?2:0;this.nt(s).B(l.key,d),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(s))}},a.prototype.tt=function(s,l,d){if(this.st(s)){var g=this.nt(s);this.at(s,l)?g.B(l,1):g.q(l),this.J=this.J.insert(l,this.ht(l).delete(s)),d&&(this.H=this.H.insert(l,d))}},a.prototype.removeTarget=function(s){this.G.delete(s)},a.prototype.ct=function(s){var l=this.nt(s).M();return this.W.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size},a.prototype.U=function(s){this.nt(s).U()},a.prototype.nt=function(s){var l=this.G.get(s);return l||(l=new Jd,this.G.set(s,l)),l},a.prototype.ht=function(s){var l=this.J.get(s);return l||(l=new er(Qe),this.J=this.J.insert(s,l)),l},a.prototype.st=function(s){var l=null!==this.ot(s);return l||Se("WatchChangeAggregator","Detected inactive target",s),l},a.prototype.ot=function(s){var l=this.G.get(s);return l&&l.F?null:this.W.lt(s)},a.prototype.it=function(s){var l=this;this.G.set(s,new Jd),this.W.getRemoteKeysForTarget(s).forEach(function(d){l.tt(s,d,null)})},a.prototype.at=function(s,l){return this.W.getRemoteKeysForTarget(s).has(l)},a}();function fm(){return new Wn(Ue.comparator)}function tf(){return new Wn(Ue.comparator)}var Vp={asc:"ASCENDING",desc:"DESCENDING"},Hi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xh=function(a,s){this.databaseId=a,this.I=s};function Ns(a,s){return a.I?new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+s.nanoseconds).slice(-9)+"Z":{seconds:""+s.seconds,nanos:s.nanoseconds}}function jp(a,s){return a.I?s.toBase64():s.toUint8Array()}function dl(a,s){return Ns(a,s.toTimestamp())}function jr(a){return at(!!a),re.fromTimestamp((l=xo(a),new hi(l.seconds,l.nanos)));var l}function Oh(a,s){return(l=a,new Kt(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function pm(a){var s=Kt.fromString(a);return at(Hp(s)),s}function Nh(a,s){return Oh(a.databaseId,s.path)}function ss(a,s){var l=pm(s);if(l.get(1)!==a.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+a.databaseId.projectId);if(l.get(3)!==a.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+a.databaseId.database);return new Ue(No(l))}function Ph(a,s){return Oh(a.databaseId,s)}function Zu(a){var s=pm(a);return 4===s.length?Kt.emptyPath():No(s)}function Ps(a){return new Kt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function No(a){return at(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ra(a,s,l){return{name:Nh(a,s),fields:l.value.mapValue.fields}}function Ju(a,s,l){var d=ss(a,s.name),g=jr(s.updateTime),v=new fi({mapValue:{fields:s.fields}}),b=Sn.newFoundDocument(d,g,v);return l&&b.setHasCommittedMutations(),l?b.setHasCommittedMutations():b}function ia(a,s){var l,g;if(s instanceof Xu)l={update:ra(a,s.key,s.value)};else if(s instanceof os)l={delete:Nh(a,s.key)};else if(s instanceof Jn)l={update:ra(a,s.key,s.data),updateMask:nf(s.fieldMask)};else{if(!(s instanceof Qu))return we();l={verify:Nh(a,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(function(d){return function(g,v){var b=v.transform;if(b instanceof ti)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof ts)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ta)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ga)return{fieldPath:v.field.canonicalString(),increment:b.A};throw we()}(0,d)})),s.precondition.isNone||(l.currentDocument=void 0!==(g=s.precondition).updateTime?{updateTime:dl(a,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:we()),l}function Up(a,s){var O,l=s.currentDocument?void 0!==(O=s.currentDocument).updateTime?Dr.updateTime(jr(O.updateTime)):void 0!==O.exists?Dr.exists(O.exists):Dr.none():Dr.none(),d=s.updateTransforms?s.updateTransforms.map(function(O){return function(P,j){var q=null;"setToServerValue"in j?(at("REQUEST_TIME"===j.setToServerValue),q=new ti):"appendMissingElements"in j?q=new ts(j.appendMissingElements.values||[]):"removeAllFromArray"in j?q=new ta(j.removeAllFromArray.values||[]):"increment"in j?q=new Ga(P,j.increment):we();var ue=Cr.fromServerFormat(j.fieldPath);return new ns(ue,q)}(a,O)}):[];if(s.update){var g=ss(a,s.update.name),v=new fi({mapValue:{fields:s.update.fields}});if(s.updateMask){var b=function(O){return new Ui((O.fieldPaths||[]).map(function(j){return Cr.fromServerFormat(j)}))}(s.updateMask);return new Jn(g,v,b,l,d)}return new Xu(g,v,l,d)}if(s.delete){var C=ss(a,s.delete);return new os(C,l)}if(s.verify){var T=ss(a,s.verify);return new Qu(T,l)}return we()}function fl(a,s){return{documents:[Ph(a,s.path)]}}function pl(a,s){var l={structuredQuery:{}},d=s.path;null!==s.collectionGroup?(l.parent=Ph(a,d),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=Ph(a,d.popLast()),l.structuredQuery.from=[{collectionId:d.lastSegment()}]);var g=function(C){if(0!==C.length){var T=C.map(function(O){return function(P){if("=="===P.op){if(xp(P.value))return{unaryFilter:{field:Rn(P.field),op:"IS_NAN"}};if(Uu(P.value))return{unaryFilter:{field:Rn(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(xp(P.value))return{unaryFilter:{field:Rn(P.field),op:"IS_NOT_NAN"}};if(Uu(P.value))return{unaryFilter:{field:Rn(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rn(P.field),op:mm(P.op),value:P.value}}}(O)});return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}}(s.filters);g&&(l.structuredQuery.where=g);var v=function(C){if(0!==C.length)return C.map(function(T){return{field:Rn((O=T).field),direction:oe(O.dir)};var O})}(s.orderBy);v&&(l.structuredQuery.orderBy=v);var T,b=(T=s.limit,a.I||io(T)?T:{value:T});return null!==b&&(l.structuredQuery.limit=b),s.startAt&&(l.structuredQuery.startAt=nc(s.startAt)),s.endAt&&(l.structuredQuery.endAt=nc(s.endAt)),l}function ec(a){var s=Zu(a.parent),l=a.structuredQuery,d=l.from?l.from.length:0,g=null;if(d>0){at(1===d);var v=l.from[0];v.allDescendants?g=v.collectionId:s=s.child(v.collectionId)}var b=[];l.where&&(b=tc(l.where));var C=[];l.orderBy&&(C=l.orderBy.map(function(j){return new qu(oa((q=j).field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction));var q}));var j,q,T=null;l.limit&&(T=io(q="object"==typeof(j=l.limit)?j.value:j)?null:q);var O=null;l.startAt&&(O=gm(l.startAt));var P=null;return l.endAt&&(P=gm(l.endAt)),Np(s,g,C,b,T,"F",O,P)}function tc(a){return a?void 0!==a.unaryFilter?[vm(a)]:void 0!==a.fieldFilter?[gl(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(s){return tc(s)}).reduce(function(s,l){return s.concat(l)}):we():[]}function nc(a){return{before:a.before,values:a.position}}function gm(a){return new Oo(a.values||[],!!a.before)}function oe(a){return Vp[a]}function mm(a){return Hi[a]}function Rn(a){return{fieldPath:a.canonicalString()}}function oa(a){return Cr.fromServerFormat(a.fieldPath)}function gl(a){return so.create(oa(a.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(a.fieldFilter.op),a.fieldFilter.value)}function vm(a){switch(a.unaryFilter.op){case"IS_NAN":var s=oa(a.unaryFilter.field);return so.create(s,"==",{doubleValue:NaN});case"IS_NULL":var l=oa(a.unaryFilter.field);return so.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=oa(a.unaryFilter.field);return so.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var g=oa(a.unaryFilter.field);return so.create(g,"!=",{nullValue:"NULL_VALUE"});default:return we()}}function nf(a){var s=[];return a.fields.forEach(function(l){return s.push(l.canonicalString())}),{fieldPaths:s}}function Hp(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function gi(a){for(var s="",l=0;l<a.length;l++)s.length>0&&(s=qp(s)),s=as(a.get(l),s);return qp(s)}function as(a,s){for(var l=s,d=a.length,g=0;g<d;g++){var v=a.charAt(g);switch(v){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=v}}return l}function qp(a){return a+"\x01\x01"}function pr(a){var s=a.length;if(at(s>=2),2===s)return at("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Kt.emptyPath();for(var l=s-2,d=[],g="",v=0;v<s;){var b=a.indexOf("\x01",v);switch((b<0||b>l)&&we(),a.charAt(b+1)){case"\x01":var C=a.substring(v,b),T=void 0;0===g.length?T=C:(T=g+=C,g=""),d.push(T);break;case"\x10":g+=a.substring(v,b),g+="\0";break;case"\x11":g+=a.substring(v,b+1);break;default:we()}v=b+2}return new Kt(d)}var rc=function(a,s){this.seconds=a,this.nanoseconds=s},ni=function(a,s,l){this.ownerId=a,this.allowTabSynchronization=s,this.leaseTimestampMs=l};ni.store="owner",ni.key="owner";var qi=function(a,s,l){this.userId=a,this.lastAcknowledgedBatchId=s,this.lastStreamToken=l};qi.store="mutationQueues",qi.keyPath="userId";var Vn=function(a,s,l,d,g){this.userId=a,this.batchId=s,this.localWriteTimeMs=l,this.baseMutations=d,this.mutations=g};Vn.store="mutations",Vn.keyPath="batchId",Vn.userMutationsIndex="userMutationsIndex",Vn.userMutationsKeyPath=["userId","batchId"];var Ur=function(){function a(){}return a.prefixForUser=function(s){return[s]},a.prefixForPath=function(s,l){return[s,gi(l)]},a.key=function(s,l,d){return[s,gi(l),d]},a}();Ur.store="documentMutations",Ur.PLACEHOLDER=new Ur;var ym=function(a,s){this.path=a,this.readTime=s},_m=function(a,s){this.path=a,this.version=s},kn=function(a,s,l,d,g,v){this.unknownDocument=a,this.noDocument=s,this.document=l,this.hasCommittedMutations=d,this.readTime=g,this.parentPath=v};kn.store="remoteDocuments",kn.readTimeIndex="readTimeIndex",kn.readTimeIndexPath="readTime",kn.collectionReadTimeIndex="collectionReadTimeIndex",kn.collectionReadTimeIndexPath=["parentPath","readTime"];var ri=function(a){this.byteSize=a};ri.store="remoteDocumentGlobal",ri.key="remoteDocumentGlobalKey";var zi=function(a,s,l,d,g,v,b){this.targetId=a,this.canonicalId=s,this.readTime=l,this.resumeToken=d,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=v,this.query=b};zi.store="targets",zi.keyPath="targetId",zi.queryTargetsIndexName="queryTargetsIndex",zi.queryTargetsKeyPath=["canonicalId","targetId"];var Hr=function(a,s,l){this.targetId=a,this.path=s,this.sequenceNumber=l};Hr.store="targetDocuments",Hr.keyPath=["targetId","path"],Hr.documentTargetsIndex="documentTargetsIndex",Hr.documentTargetsKeyPath=["path","targetId"];var ki=function(a,s,l,d){this.highestTargetId=a,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=l,this.targetCount=d};ki.key="targetGlobalKey",ki.store="targetGlobal";var ic=function(a,s){this.collectionId=a,this.parent=s};ic.store="collectionParents",ic.keyPath=["collectionId","parent"];var Xa=function(a,s,l,d){this.clientId=a,this.updateTimeMs=s,this.networkEnabled=l,this.inForeground=d};Xa.store="clientMetadata",Xa.keyPath="clientId";var sa=function(a,s,l){this.bundleId=a,this.createTime=s,this.version=l};sa.store="bundles",sa.keyPath="bundleId";var ml=function(a,s,l){this.name=a,this.readTime=s,this.bundledQuery=l};ml.store="namedQueries",ml.keyPath="name";var Qv=(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],[qi.store,Vn.store,Ur.store,kn.store,zi.store,ni.store,ki.store,Hr.store]),[Xa.store])),[ri.store])),[ic.store])),[sa.store,ml.store]),oc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vl=function(){function a(){this.onCommittedListeners=[]}return a.prototype.addOnCommittedListener=function(s){this.onCommittedListeners.push(s)},a.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(s){return s()})},a}(),Kn=function(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})},De=function(){function a(s){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(function(d){l.isDone=!0,l.result=d,l.nextCallback&&l.nextCallback(d)},function(d){l.isDone=!0,l.error=d,l.catchCallback&&l.catchCallback(d)})}return a.prototype.catch=function(s){return this.next(void 0,s)},a.prototype.next=function(s,l){var d=this;return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new a(function(g,v){d.nextCallback=function(b){d.wrapSuccess(s,b).next(g,v)},d.catchCallback=function(b){d.wrapFailure(l,b).next(g,v)}})},a.prototype.toPromise=function(){var s=this;return new Promise(function(l,d){s.next(l,d)})},a.prototype.wrapUserFunction=function(s){try{var l=s();return l instanceof a?l:a.resolve(l)}catch(d){return a.reject(d)}},a.prototype.wrapSuccess=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.resolve(l)},a.prototype.wrapFailure=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.reject(l)},a.resolve=function(s){return new a(function(l,d){l(s)})},a.reject=function(s){return new a(function(l,d){d(s)})},a.waitFor=function(s){return new a(function(l,d){var g=0,v=0,b=!1;s.forEach(function(C){++g,C.next(function(){++v,b&&v===g&&l()},function(T){return d(T)})}),b=!0,v===g&&l()})},a.or=function(s){for(var l=a.resolve(!1),d=function(b){l=l.next(function(C){return C?a.resolve(C):b()})},g=0,v=s;g<v.length;g++)d(v[g]);return l},a.forEach=function(s,l){var d=this,g=[];return s.forEach(function(v,b){g.push(l.call(d,v,b))}),this.waitFor(g)},a}(),us=function(){function a(s,l){var d=this;this.action=s,this.transaction=l,this.aborted=!1,this.ft=new Kn,this.transaction.oncomplete=function(){d.ft.resolve()},this.transaction.onabort=function(){l.error?d.ft.reject(new ac(s,l.error)):d.ft.resolve()},this.transaction.onerror=function(g){var v=aa(g.target.error);d.ft.reject(new ac(s,v))}}return a.open=function(s,l,d,g){try{return new a(l,s.transaction(g,d))}catch(v){throw new ac(l,v)}},Object.defineProperty(a.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(s){s&&this.ft.reject(s),this.aborted||(Se("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(s){var l=this.transaction.objectStore(s);return new zp(l)},a}(),sc=function(){function a(s,l,d){this.name=s,this.version=l,this.wt=d,12.2===a._t((0,ze.z$)())&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(s){return Se("SimpleDb","Removing database:",s),_o(window.indexedDB.deleteDatabase(s)).toPromise()},a.yt=function(){if(typeof indexedDB>"u")return!1;if(a.gt())return!0;var s=(0,ze.z$)(),l=a._t(s),d=0<l&&l<10,g=a.Et(s),v=0<g&&g<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||d||v)},a.gt=function(){var s;return typeof process<"u"&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Tt)},a.It=function(s,l){return s.store(l)},a._t=function(s){var l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(d)},a.Et=function(s){var l=s.match(/Android ([\d.]+)/i),d=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(d)},a.prototype.At=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l,d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return this.db?[3,2]:(Se("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(v,b){var C=indexedDB.open(d.name,d.version);C.onsuccess=function(T){v(T.target.result)},C.onblocked=function(){b(new ac(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=function(T){var O=T.target.error;b("VersionError"===O.name?new ge(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ac(s,O))},C.onupgradeneeded=function(T){Se("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',T.oldVersion),d.wt.Rt(T.target.result,C.transaction,T.oldVersion,d.version).next(function(){Se("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:l.db=g.sent(),g.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(v){return d.bt(v)}),this.db)]}})})},a.prototype.vt=function(s){this.bt=s,this.db&&(this.db.onversionchange=function(l){return s(l)})},a.prototype.runTransaction=function(s,l,d,g){return(0,I.mG)(this,void 0,void 0,function(){var v,b,C,T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:v="readonly"===l,b=0,C=function(){var j,q,J,ee,ue;return(0,I.Jh)(this,function(Ie){switch(Ie.label){case 0:++b,Ie.label=1;case 1:return Ie.trys.push([1,4,,5]),[4,T.At(s)];case 2:return T.db=Ie.sent(),j=us.open(T.db,s,v?"readonly":"readwrite",d),q=g(j).catch(function(Pe){return j.abort(Pe),De.reject(Pe)}).toPromise(),J={},q.catch(function(){}),[4,j.dt];case 3:return[2,(J.value=(Ie.sent(),q),J)];case 4:return Se("SimpleDb","Transaction failed with error:",(ee=Ie.sent()).message,"Retrying:",ue="FirebaseError"!==ee.name&&b<3),T.close(),ue?[3,5]:[2,{value:Promise.reject(ee)}];case 5:return[2]}})},T=this,P.label=1;case 1:return[5,C()];case 2:if("object"==typeof(O=P.sent()))return[2,O.value];P.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),p_=function(){function a(s){this.Pt=s,this.Vt=!1,this.St=null}return Object.defineProperty(a.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(s){this.Pt=s},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Vt=!0},a.prototype.Ct=function(s){this.St=s},a.prototype.delete=function(){return _o(this.Pt.delete())},a}(),ac=function(a){function s(l,d){var g=this;return(g=a.call(this,ie.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+d)||this).name="IndexedDbTransactionError",g}return(0,I.ZT)(s,a),s}(ge);function uc(a){return"IndexedDbTransactionError"===a.name}var zp=function(){function a(s){this.store=s}return a.prototype.put=function(s,l){var d;return void 0!==l?(Se("SimpleDb","PUT",this.store.name,s,l),d=this.store.put(l,s)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",s),d=this.store.put(s)),_o(d)},a.prototype.add=function(s){return Se("SimpleDb","ADD",this.store.name,s,s),_o(this.store.add(s))},a.prototype.get=function(s){var l=this;return _o(this.store.get(s)).next(function(d){return void 0===d&&(d=null),Se("SimpleDb","GET",l.store.name,s,d),d})},a.prototype.delete=function(s){return Se("SimpleDb","DELETE",this.store.name,s),_o(this.store.delete(s))},a.prototype.count=function(){return Se("SimpleDb","COUNT",this.store.name),_o(this.store.count())},a.prototype.Nt=function(s,l){var d=this.cursor(this.options(s,l)),g=[];return this.xt(d,function(v,b){g.push(b)}).next(function(){return g})},a.prototype.kt=function(s,l){Se("SimpleDb","DELETE ALL",this.store.name);var d=this.options(s,l);d.Ft=!1;var g=this.cursor(d);return this.xt(g,function(v,b,C){return C.delete()})},a.prototype.$t=function(s,l){var d;l?d=s:(d={},l=s);var g=this.cursor(d);return this.xt(g,l)},a.prototype.Ot=function(s){var l=this.cursor({});return new De(function(d,g){l.onerror=function(v){var b=aa(v.target.error);g(b)},l.onsuccess=function(v){var b=v.target.result;b?s(b.primaryKey,b.value).next(function(C){C?b.continue():d()}):d()}})},a.prototype.xt=function(s,l){var d=[];return new De(function(g,v){s.onerror=function(b){v(b.target.error)},s.onsuccess=function(b){var C=b.target.result;if(C){var T=new p_(C),O=l(C.primaryKey,C.value,T);if(O instanceof De){var P=O.catch(function(j){return T.done(),De.reject(j)});d.push(P)}T.isDone?g():null===T.Dt?C.continue():C.continue(T.Dt)}else g()}}).next(function(){return De.waitFor(d)})},a.prototype.options=function(s,l){var d;return void 0!==s&&("string"==typeof s?d=s:l=s),{index:d,range:l}},a.prototype.cursor=function(s){var l="next";if(s.reverse&&(l="prev"),s.index){var d=this.store.index(s.index);return s.Ft?d.openKeyCursor(s.range,l):d.openCursor(s.range,l)}return this.store.openCursor(s.range,l)},a}();function _o(a){return new De(function(s,l){a.onsuccess=function(d){s(d.target.result)},a.onerror=function(d){var g=aa(d.target.error);l(g)}})}var yl=!1;function aa(a){var s=sc._t((0,ze.z$)());if(s>=12.2&&s<13){var l="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(l)>=0){var d=new ge("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yl||(yl=!0,setTimeout(function(){throw d},0)),d}}return a}var $p=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).Mt=l,g.currentSequenceNumber=d,g}return(0,I.ZT)(s,a),s}(vl);function uo(a,s){var l=Be(a);return sc.It(l.Mt,s)}var Gp=function(){function a(s,l,d,g){this.batchId=s,this.localWriteTime=l,this.baseMutations=d,this.mutations=g}return a.prototype.applyToRemoteDocument=function(s,l){for(var d=l.mutationResults,g=0;g<this.mutations.length;g++){var v=this.mutations[g];v.key.isEqual(s.key)&&ll(v,s,d[g])}},a.prototype.applyToLocalView=function(s){for(var l=0,d=this.baseMutations;l<d.length;l++)(b=d[l]).key.isEqual(s.key)&&is(b,s,this.localWriteTime);for(var g=0,v=this.mutations;g<v.length;g++){var b;(b=v[g]).key.isEqual(s.key)&&is(b,s,this.localWriteTime)}},a.prototype.applyToLocalDocumentSet=function(s){var l=this;this.mutations.forEach(function(d){var g=s.get(d.key),v=g;l.applyToLocalView(v),g.isValidDocument()||v.convertToNoDocument(re.min())})},a.prototype.keys=function(){return this.mutations.reduce(function(s,l){return s.add(l.key)},Bn())},a.prototype.isEqual=function(s){return this.batchId===s.batchId&&Zs(this.mutations,s.mutations,function(l,d){return Kd(l,d)})&&Zs(this.baseMutations,s.baseMutations,function(l,d){return Kd(l,d)})},a}(),rf=function(){function a(s,l,d,g){this.batch=s,this.commitVersion=l,this.mutationResults=d,this.docVersions=g}return a.from=function(s,l,d){at(s.mutations.length===d.length);for(var g=ao(),v=s.mutations,b=0;b<v.length;b++)g=g.insert(v[b].key,d[b].version);return new a(s,l,d,g)},a}(),_l=function(){function a(s,l,d,g,v,b,C){void 0===v&&(v=re.min()),void 0===b&&(b=re.min()),void 0===C&&(C=Vr.EMPTY_BYTE_STRING),this.target=s,this.targetId=l,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=C}return a.prototype.withSequenceNumber=function(s){return new a(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.withResumeToken=function(s,l){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)},a.prototype.withLastLimboFreeSnapshotVersion=function(s){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)},a}(),sf=function(a){this.Lt=a};function Fs(a,s){if(s.document)return Ju(a.Lt,s.document,!!s.hasCommittedMutations);if(s.noDocument){var l=Ue.fromSegments(s.noDocument.path),d=Qa(s.noDocument.readTime),g=Sn.newNoDocument(l,d);return s.hasCommittedMutations?g.setHasCommittedMutations():g}if(s.unknownDocument){var v=Ue.fromSegments(s.unknownDocument.path);return d=Qa(s.unknownDocument.version),Sn.newUnknownDocument(v,d)}return we()}function af(a,s,l){var j,q,d=ua(l),g=s.key.path.popLast().toArray();if(s.isFoundDocument()){var v={name:Nh(j=a.Lt,(q=s).key),fields:q.data.value.mapValue.fields,updateTime:Ns(j,q.version.toTimestamp())},b=s.hasCommittedMutations;return new kn(null,null,v,b,d,g)}if(s.isNoDocument()){var C=s.key.path.toArray(),T=qr(s.version);return b=s.hasCommittedMutations,new kn(null,new ym(C,T),null,b,d,g)}if(s.isUnknownDocument()){var O=s.key.path.toArray(),P=qr(s.version);return new kn(new _m(O,P),null,null,!0,d,g)}return we()}function ua(a){var s=a.toTimestamp();return[s.seconds,s.nanoseconds]}function bm(a){var s=new hi(a[0],a[1]);return re.fromTimestamp(s)}function qr(a){var s=a.toTimestamp();return new rc(s.seconds,s.nanoseconds)}function Qa(a){var s=new hi(a.seconds,a.nanoseconds);return re.fromTimestamp(s)}function bl(a,s){for(var l=(s.baseMutations||[]).map(function(T){return Up(a.Lt,T)}),d=0;d<s.mutations.length-1;++d)d+1<s.mutations.length&&void 0!==s.mutations[d+1].transform&&(s.mutations[d].updateTransforms=s.mutations[d+1].transform.fieldTransforms,s.mutations.splice(d+1,1),++d);var b=s.mutations.map(function(T){return Up(a.Lt,T)}),C=hi.fromMillis(s.localWriteTimeMs);return new Gp(s.batchId,C,l,b)}function Fh(a){var s,l,d=Qa(a.readTime),g=void 0!==a.lastLimboFreeSnapshotVersion?Qa(a.lastLimboFreeSnapshotVersion):re.min();return void 0!==a.query.documents?(at(1===(l=a.query).documents.length),s=pi(Th(Zu(l.documents[0])))):s=pi(ec(a.query)),new _l(s,a.targetId,0,a.lastListenSequenceNumber,d,g,Vr.fromBase64String(a.resumeToken))}function co(a,s){var l,d=qr(s.snapshotVersion),g=qr(s.lastLimboFreeSnapshotVersion);l=Hd(s.target)?fl(a.Lt,s.target):pl(a.Lt,s.target);var v=s.resumeToken.toBase64();return new zi(s.targetId,rl(s.target),d,v,s.sequenceNumber,g,l)}function bo(a){var s=ec({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Gu(s,s.limit,"L"):s}var Zv=function(){function a(){}return a.prototype.getBundleMetadata=function(s,l){return wm(s).get(l).next(function(d){if(d)return{id:(g=d).bundleId,createTime:Qa(g.createTime),version:g.version};var g})},a.prototype.saveBundleMetadata=function(s,l){return wm(s).put({bundleId:(d=l).id,createTime:qr(jr(d.createTime)),version:d.version});var d},a.prototype.getNamedQuery=function(s,l){return uf(s).get(l).next(function(d){if(d)return{name:(g=d).name,query:bo(g.bundledQuery),readTime:Qa(g.readTime)};var g})},a.prototype.saveNamedQuery=function(s,l){return uf(s).put({name:(d=l).name,readTime:qr(jr(d.readTime)),bundledQuery:d.bundledQuery});var d},a}();function wm(a){return uo(a,sa.store)}function uf(a){return uo(a,ml.store)}var Wp=function(){function a(){this.Bt=new cf}return a.prototype.addToCollectionParentIndex=function(s,l){return this.Bt.add(l),De.resolve()},a.prototype.getCollectionParents=function(s,l){return De.resolve(this.Bt.getEntries(l))},a}(),cf=function(){function a(){this.index={}}return a.prototype.add=function(s){var l=s.lastSegment(),d=s.popLast(),g=this.index[l]||new er(Kt.comparator),v=!g.has(d);return this.index[l]=g.add(d),v},a.prototype.has=function(s){var l=s.lastSegment(),d=s.popLast(),g=this.index[l];return g&&g.has(d)},a.prototype.getEntries=function(s){return(this.index[s]||new er(Kt.comparator)).toArray()},a}(),Kp=function(){function a(){this.qt=new cf}return a.prototype.addToCollectionParentIndex=function(s,l){var d=this;if(!this.qt.has(l)){var g=l.lastSegment(),v=l.popLast();s.addOnCommittedListener(function(){d.qt.add(l)});var b={collectionId:g,parent:gi(v)};return Lh(s).put(b)}return De.resolve()},a.prototype.getCollectionParents=function(s,l){var d=[],g=IDBKeyRange.bound([l,""],[ja(l),""],!1,!0);return Lh(s).Nt(g).next(function(v){for(var b=0,C=v;b<C.length;b++){var T=C[b];if(T.collectionId!==l)break;d.push(pr(T.parent))}return d})},a}();function Lh(a){return uo(a,ic.store)}var lf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Po=function(){function a(s,l,d){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=d}return a.withCacheSize=function(s){return new a(s,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},a}();function Em(a,s,l){var d=a.store(Vn.store),g=a.store(Ur.store),v=[],b=IDBKeyRange.only(l.batchId),C=0,T=d.$t({range:b},function(ee,ue,Ie){return C++,Ie.delete()});v.push(T.next(function(){at(1===C)}));for(var O=[],P=0,j=l.mutations;P<j.length;P++){var q=j[P],J=Ur.key(s,q.key.path,l.batchId);v.push(g.delete(J)),O.push(q.key)}return De.waitFor(v).next(function(){return O})}function hf(a){if(!a)return 0;var s;if(a.document)s=a.document;else if(a.unknownDocument)s=a.unknownDocument;else{if(!a.noDocument)throw we();s=a.noDocument}return JSON.stringify(s).length}Po.DEFAULT_COLLECTION_PERCENTILE=10,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Po.DEFAULT=new Po(41943040,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Po.DISABLED=new Po(-1,0,0);var g_=function(){function a(s,l,d,g){this.userId=s,this.R=l,this.Ut=d,this.referenceDelegate=g,this.Kt={}}return a.Qt=function(s,l,d,g){return at(""!==s.uid),new a(s.isAuthenticated()?s.uid:"",l,d,g)},a.prototype.checkEmpty=function(s){var l=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fo(s).$t({index:Vn.userMutationsIndex,range:d},function(g,v,b){l=!1,b.done()}).next(function(){return l})},a.prototype.addMutationBatch=function(s,l,d,g){var v=this,b=cc(s),C=Fo(s);return C.add({}).next(function(T){at("number"==typeof T);for(var O=new Gp(T,l,d,g),P=function(Pe,ut,yt){var an=yt.baseMutations.map(function(En){return ia(Pe.Lt,En)}),hn=yt.mutations.map(function(En){return ia(Pe.Lt,En)});return new Vn(ut,yt.batchId,yt.localWriteTime.toMillis(),an,hn)}(v.R,v.userId,O),j=[],q=new er(function(Pe,ut){return Qe(Pe.canonicalString(),ut.canonicalString())}),J=0,ee=g;J<ee.length;J++){var ue=ee[J],Ie=Ur.key(v.userId,ue.key.path,T);q=q.add(ue.key.path.popLast()),j.push(C.put(P)),j.push(b.put(Ie,Ur.PLACEHOLDER))}return q.forEach(function(Pe){j.push(v.Ut.addToCollectionParentIndex(s,Pe))}),s.addOnCommittedListener(function(){v.Kt[T]=O.keys()}),De.waitFor(j).next(function(){return O})})},a.prototype.lookupMutationBatch=function(s,l){var d=this;return Fo(s).get(l).next(function(g){return g?(at(g.userId===d.userId),bl(d.R,g)):null})},a.prototype.jt=function(s,l){var d=this;return this.Kt[l]?De.resolve(this.Kt[l]):this.lookupMutationBatch(s,l).next(function(g){if(g){var v=g.keys();return d.Kt[l]=v,v}return null})},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var d=this,g=l+1,v=IDBKeyRange.lowerBound([this.userId,g]),b=null;return Fo(s).$t({index:Vn.userMutationsIndex,range:v},function(C,T,O){T.userId===d.userId&&(at(T.batchId>=g),b=bl(d.R,T)),O.done()}).next(function(){return b})},a.prototype.getHighestUnacknowledgedBatchId=function(s){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return Fo(s).$t({index:Vn.userMutationsIndex,range:l,reverse:!0},function(g,v,b){d=v.batchId,b.done()}).next(function(){return d})},a.prototype.getAllMutationBatches=function(s){var l=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fo(s).Nt(Vn.userMutationsIndex,d).next(function(g){return g.map(function(v){return bl(l.R,v)})})},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var d=this,g=Ur.prefixForPath(this.userId,l.path),v=IDBKeyRange.lowerBound(g),b=[];return cc(s).$t({range:v},function(C,T,O){var P=C[0],q=C[2],J=pr(C[1]);if(P===d.userId&&l.path.isEqual(J))return Fo(s).get(q).next(function(ee){if(!ee)throw we();at(ee.userId===d.userId),b.push(bl(d.R,ee))});O.done()}).next(function(){return b})},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var d=this,g=new er(Qe),v=[];return l.forEach(function(b){var C=Ur.prefixForPath(d.userId,b.path),T=IDBKeyRange.lowerBound(C),O=cc(s).$t({range:T},function(P,j,q){var J=P[0],ue=P[2],Ie=pr(P[1]);J===d.userId&&b.path.isEqual(Ie)?g=g.add(ue):q.done()});v.push(O)}),De.waitFor(v).next(function(){return d.Wt(s,g)})},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var d=this,g=l.path,v=g.length+1,b=Ur.prefixForPath(this.userId,g),C=IDBKeyRange.lowerBound(b),T=new er(Qe);return cc(s).$t({range:C},function(O,P,j){var q=O[0],ee=O[2],ue=pr(O[1]);q===d.userId&&g.isPrefixOf(ue)?ue.length===v&&(T=T.add(ee)):j.done()}).next(function(){return d.Wt(s,T)})},a.prototype.Wt=function(s,l){var d=this,g=[],v=[];return l.forEach(function(b){v.push(Fo(s).get(b).next(function(C){if(null===C)throw we();at(C.userId===d.userId),g.push(bl(d.R,C))}))}),De.waitFor(v).next(function(){return g})},a.prototype.removeMutationBatch=function(s,l){var d=this;return Em(s.Mt,this.userId,l).next(function(g){return s.addOnCommittedListener(function(){d.Gt(l.batchId)}),De.forEach(g,function(v){return d.referenceDelegate.markPotentiallyOrphaned(s,v)})})},a.prototype.Gt=function(s){delete this.Kt[s]},a.prototype.performConsistencyCheck=function(s){var l=this;return this.checkEmpty(s).next(function(d){if(!d)return De.resolve();var g=IDBKeyRange.lowerBound(Ur.prefixForUser(l.userId)),v=[];return cc(s).$t({range:g},function(b,C,T){if(b[0]===l.userId){var O=pr(b[1]);v.push(O)}else T.done()}).next(function(){at(0===v.length)})})},a.prototype.containsKey=function(s,l){return Cm(s,this.userId,l)},a.prototype.zt=function(s){var l=this;return cs(s).get(this.userId).next(function(d){return d||new qi(l.userId,-1,"")})},a}();function Cm(a,s,l){var d=Ur.prefixForPath(s,l.path),g=d[1],v=IDBKeyRange.lowerBound(d),b=!1;return cc(a).$t({range:v,Ft:!0},function(C,T,O){C[0]===s&&C[1]===g&&(b=!0),O.done()}).next(function(){return b})}function Fo(a){return uo(a,Vn.store)}function cc(a){return uo(a,Ur.store)}function cs(a){return uo(a,qi.store)}var Za=function(){function a(s){this.Ht=s}return a.prototype.next=function(){return this.Ht+=2,this.Ht},a.Jt=function(){return new a(0)},a.Yt=function(){return new a(-1)},a}(),Dm=function(){function a(s,l){this.referenceDelegate=s,this.R=l}return a.prototype.allocateTargetId=function(s){var l=this;return this.Xt(s).next(function(d){var g=new Za(d.highestTargetId);return d.highestTargetId=g.next(),l.Zt(s,d).next(function(){return d.highestTargetId})})},a.prototype.getLastRemoteSnapshotVersion=function(s){return this.Xt(s).next(function(l){return re.fromTimestamp(new hi(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.getHighestSequenceNumber=function(s){return this.Xt(s).next(function(l){return l.highestListenSequenceNumber})},a.prototype.setTargetsMetadata=function(s,l,d){var g=this;return this.Xt(s).next(function(v){return v.highestListenSequenceNumber=l,d&&(v.lastRemoteSnapshotVersion=d.toTimestamp()),l>v.highestListenSequenceNumber&&(v.highestListenSequenceNumber=l),g.Zt(s,v)})},a.prototype.addTargetData=function(s,l){var d=this;return this.te(s,l).next(function(){return d.Xt(s).next(function(g){return g.targetCount+=1,d.ee(l,g),d.Zt(s,g)})})},a.prototype.updateTargetData=function(s,l){return this.te(s,l)},a.prototype.removeTargetData=function(s,l){var d=this;return this.removeMatchingKeysForTargetId(s,l.targetId).next(function(){return lc(s).delete(l.targetId)}).next(function(){return d.Xt(s)}).next(function(g){return at(g.targetCount>0),g.targetCount-=1,d.Zt(s,g)})},a.prototype.removeTargets=function(s,l,d){var g=this,v=0,b=[];return lc(s).$t(function(C,T){var O=Fh(T);O.sequenceNumber<=l&&null===d.get(O.targetId)&&(v++,b.push(g.removeTargetData(s,O)))}).next(function(){return De.waitFor(b)}).next(function(){return v})},a.prototype.forEachTarget=function(s,l){return lc(s).$t(function(d,g){var v=Fh(g);l(v)})},a.prototype.Xt=function(s){return Yp(s).get(ki.key).next(function(l){return at(null!==l),l})},a.prototype.Zt=function(s,l){return Yp(s).put(ki.key,l)},a.prototype.te=function(s,l){return lc(s).put(co(this.R,l))},a.prototype.ee=function(s,l){var d=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,d=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,d=!0),d},a.prototype.getTargetCount=function(s){return this.Xt(s).next(function(l){return l.targetCount})},a.prototype.getTargetData=function(s,l){var d=rl(l),g=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),v=null;return lc(s).$t({range:g,index:zi.queryTargetsIndexName},function(b,C,T){var O=Fh(C);Dh(l,O.target)&&(v=O,T.done())}).next(function(){return v})},a.prototype.addMatchingKeys=function(s,l,d){var g=this,v=[],b=hc(s);return l.forEach(function(C){var T=gi(C.path);v.push(b.put(new Hr(d,T))),v.push(g.referenceDelegate.addReference(s,d,C))}),De.waitFor(v)},a.prototype.removeMatchingKeys=function(s,l,d){var g=this,v=hc(s);return De.forEach(l,function(b){var C=gi(b.path);return De.waitFor([v.delete([d,C]),g.referenceDelegate.removeReference(s,d,b)])})},a.prototype.removeMatchingKeysForTargetId=function(s,l){var d=hc(s),g=IDBKeyRange.bound([l],[l+1],!1,!0);return d.delete(g)},a.prototype.getMatchingKeysForTargetId=function(s,l){var d=IDBKeyRange.bound([l],[l+1],!1,!0),g=hc(s),v=Bn();return g.$t({range:d,Ft:!0},function(b,C,T){var O=pr(b[1]),P=new Ue(O);v=v.add(P)}).next(function(){return v})},a.prototype.containsKey=function(s,l){var d=gi(l.path),g=IDBKeyRange.bound([d],[ja(d)],!1,!0),v=0;return hc(s).$t({index:Hr.documentTargetsIndex,Ft:!0,range:g},function(b,C,T){0!==b[0]&&(v++,T.done())}).next(function(){return v>0})},a.prototype.lt=function(s,l){return lc(s).get(l).next(function(d){return d?Fh(d):null})},a}();function lc(a){return uo(a,zi.store)}function Yp(a){return uo(a,ki.store)}function hc(a){return uo(a,Hr.store)}function wl(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){if(a.code!==ie.FAILED_PRECONDITION||a.message!==oc)throw a;return Se("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Jv(a,s){var d=a[1],v=s[1],b=Qe(a[0],s[0]);return 0===b?Qe(d,v):b}var Xp=function(){function a(s){this.ne=s,this.buffer=new er(Jv),this.se=0}return a.prototype.ie=function(){return++this.se},a.prototype.re=function(s){var l=[s,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var d=this.buffer.last();Jv(l,d)<0&&(this.buffer=this.buffer.delete(d).add(l))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),Qp=function(){function a(s,l){this.garbageCollector=s,this.asyncQueue=l,this.oe=!1,this.ce=null}return a.prototype.start=function(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(s)},a.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(a.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),a.prototype.ue=function(s){var l=this,d=this.oe?3e5:6e4;Se("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",d,function(){return(0,I.mG)(l,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:this.ce=null,this.oe=!0,v.label=1;case 1:return v.trys.push([1,3,,7]),[4,s.collectGarbage(this.garbageCollector)];case 2:return v.sent(),[3,7];case 3:return uc(g=v.sent())?(Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",g),[3,6]):[3,4];case 4:return[4,wl(g)];case 5:v.sent(),v.label=6;case 6:return[3,7];case 7:return[4,this.ue(s)];case 8:return v.sent(),[2]}})})})},a}(),Zp=function(){function a(s,l){this.ae=s,this.params=l}return a.prototype.calculateTargetCount=function(s,l){return this.ae.he(s).next(function(d){return Math.floor(l/100*d)})},a.prototype.nthSequenceNumber=function(s,l){var d=this;if(0===l)return De.resolve(Jr.o);var g=new Xp(l);return this.ae.forEachTarget(s,function(v){return g.re(v.sequenceNumber)}).next(function(){return d.ae.le(s,function(v){return g.re(v)})}).next(function(){return g.maxValue})},a.prototype.removeTargets=function(s,l,d){return this.ae.removeTargets(s,l,d)},a.prototype.removeOrphanedDocuments=function(s,l){return this.ae.removeOrphanedDocuments(s,l)},a.prototype.collect=function(s,l){var d=this;return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(lf)):this.getCacheSize(s).next(function(g){return g<d.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; Cache size "+g+" is lower than threshold "+d.params.cacheSizeCollectionThreshold),lf):d.fe(s,l)})},a.prototype.getCacheSize=function(s){return this.ae.getCacheSize(s)},a.prototype.fe=function(s,l){var d,g,v,b,C,T,O,P=this,j=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(function(q){return q>P.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+P.params.maximumSequenceNumbersToCollect+" from "+q),g=P.params.maximumSequenceNumbersToCollect):g=q,b=Date.now(),P.nthSequenceNumber(s,g)}).next(function(q){return d=q,C=Date.now(),P.removeTargets(s,d,l)}).next(function(q){return v=q,T=Date.now(),P.removeOrphanedDocuments(s,d)}).next(function(q){return O=Date.now(),Ai()<=nt.in.DEBUG&&Se("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(b-j)+"ms\n\tDetermined least recently used "+g+" in "+(C-b)+"ms\n\tRemoved "+v+" targets in "+(T-C)+"ms\n\tRemoved "+q+" documents in "+(O-T)+"ms\nTotal Duration: "+(O-j)+"ms"),De.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:v,documentsRemoved:q})})},a}(),m_=function(){function a(s,l){this.db=s,this.garbageCollector=new Zp(this,l)}return a.prototype.he=function(s){var l=this.de(s);return this.db.getTargetCache().getTargetCount(s).next(function(d){return l.next(function(g){return d+g})})},a.prototype.de=function(s){var l=0;return this.le(s,function(d){l++}).next(function(){return l})},a.prototype.forEachTarget=function(s,l){return this.db.getTargetCache().forEachTarget(s,l)},a.prototype.le=function(s,l){return this.we(s,function(d,g){return l(g)})},a.prototype.addReference=function(s,l,d){return Jp(s,d)},a.prototype.removeReference=function(s,l,d){return Jp(s,d)},a.prototype.removeTargets=function(s,l,d){return this.db.getTargetCache().removeTargets(s,l,d)},a.prototype.markPotentiallyOrphaned=function(s,l){return Jp(s,l)},a.prototype._e=function(s,l){return g=l,v=!1,cs(d=s).Ot(function(b){return Cm(d,b,g).next(function(C){return C&&(v=!0),De.resolve(!C)})}).next(function(){return v});var d,g,v},a.prototype.removeOrphanedDocuments=function(s,l){var d=this,g=this.db.getRemoteDocumentCache().newChangeBuffer(),v=[],b=0;return this.we(s,function(C,T){if(T<=l){var O=d._e(s,C).next(function(P){if(!P)return b++,g.getEntry(s,C).next(function(){return g.removeEntry(C),hc(s).delete([0,gi(C.path)])})});v.push(O)}}).next(function(){return De.waitFor(v)}).next(function(){return g.apply(s)}).next(function(){return b})},a.prototype.removeTarget=function(s,l){var d=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,d)},a.prototype.updateLimboDocument=function(s,l){return Jp(s,l)},a.prototype.we=function(s,l){var d,g=hc(s),v=Jr.o;return g.$t({index:Hr.documentTargetsIndex},function(b,C){var O=C.path,P=C.sequenceNumber;0===b[0]?(v!==Jr.o&&l(new Ue(pr(d)),v),v=P,d=O):v=Jr.o}).next(function(){v!==Jr.o&&l(new Ue(pr(d)),v)})},a.prototype.getCacheSize=function(s){return this.db.getRemoteDocumentCache().getSize(s)},a}();function Jp(a,s){return hc(a).put((d=a.currentSequenceNumber,new Hr(0,gi(s.path),d)));var d}var Ja=function(){function a(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={}}return a.prototype.get=function(s){var l=this.mapKeyFn(s),d=this.inner[l];if(void 0!==d)for(var g=0,v=d;g<v.length;g++){var b=v[g],T=b[1];if(this.equalsFn(b[0],s))return T}},a.prototype.has=function(s){return void 0!==this.get(s)},a.prototype.set=function(s,l){var d=this.mapKeyFn(s),g=this.inner[d];if(void 0!==g){for(var v=0;v<g.length;v++)if(this.equalsFn(g[v][0],s))return void(g[v]=[s,l]);g.push([s,l])}else this.inner[d]=[[s,l]]},a.prototype.delete=function(s){var l=this.mapKeyFn(s),d=this.inner[l];if(void 0===d)return!1;for(var g=0;g<d.length;g++)if(this.equalsFn(d[g][0],s))return 1===d.length?delete this.inner[l]:d.splice(g,1),!0;return!1},a.prototype.forEach=function(s){xr(this.inner,function(l,d){for(var g=0,v=d;g<v.length;g++){var b=v[g];s(b[0],b[1])}})},a.prototype.isEmpty=function(){return ko(this.inner)},a}(),eg=function(){function a(){this.changes=new Ja(function(s){return s.toString()},function(s,l){return s.isEqual(l)}),this.changesApplied=!1}return a.prototype.getReadTime=function(s){var l=this.changes.get(s);return l?l.readTime:re.min()},a.prototype.addEntry=function(s,l){this.assertNotApplied(),this.changes.set(s.key,{document:s,readTime:l})},a.prototype.removeEntry=function(s,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(s,{document:Sn.newInvalidDocument(s),readTime:l})},a.prototype.getEntry=function(s,l){this.assertNotApplied();var d=this.changes.get(l);return void 0!==d?De.resolve(d.document):this.getFromCache(s,l)},a.prototype.getEntries=function(s,l){return this.getAllFromCache(s,l)},a.prototype.apply=function(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)},a.prototype.assertNotApplied=function(){},a}(),ey=function(){function a(s,l){this.R=s,this.Ut=l}return a.prototype.addEntry=function(s,l,d){return ca(s).put(dc(l),d)},a.prototype.removeEntry=function(s,l){var d=ca(s),g=dc(l);return d.delete(g)},a.prototype.updateMetadata=function(s,l){var d=this;return this.getMetadata(s).next(function(g){return g.byteSize+=l,d.me(s,g)})},a.prototype.getEntry=function(s,l){var d=this;return ca(s).get(dc(l)).next(function(g){return d.ye(l,g)})},a.prototype.ge=function(s,l){var d=this;return ca(s).get(dc(l)).next(function(g){return{document:d.ye(l,g),size:hf(g)}})},a.prototype.getEntries=function(s,l){var d=this,g=rr();return this.pe(s,l,function(v,b){var C=d.ye(v,b);g=g.insert(v,C)}).next(function(){return g})},a.prototype.Ee=function(s,l){var d=this,g=rr(),v=new Wn(Ue.comparator);return this.pe(s,l,function(b,C){var T=d.ye(b,C);g=g.insert(b,T),v=v.insert(b,hf(C))}).next(function(){return{documents:g,Te:v}})},a.prototype.pe=function(s,l,d){if(l.isEmpty())return De.resolve();var g=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),v=l.getIterator(),b=v.getNext();return ca(s).$t({range:g},function(C,T,O){for(var P=Ue.fromSegments(C);b&&Ue.comparator(b,P)<0;)d(b,null),b=v.getNext();b&&b.isEqual(P)&&(d(b,T),b=v.hasNext()?v.getNext():null),b?O.Ct(b.path.toArray()):O.done()}).next(function(){for(;b;)d(b,null),b=v.hasNext()?v.getNext():null})},a.prototype.getDocumentsMatchingQuery=function(s,l,d){var g=this,v=rr(),b=l.path.length+1,C={};if(d.isEqual(re.min())){var T=l.path.toArray();C.range=IDBKeyRange.lowerBound(T)}else{var O=l.path.toArray(),P=ua(d);C.range=IDBKeyRange.lowerBound([O,P],!0),C.index=kn.collectionReadTimeIndex}return ca(s).$t(C,function(j,q,J){if(j.length===b){var ee=Fs(g.R,q);l.path.isPrefixOf(ee.key.path)?es(l,ee)&&(v=v.insert(ee.key,ee)):J.done()}}).next(function(){return v})},a.prototype.newChangeBuffer=function(s){return new ty(this,!!s&&s.trackRemovals)},a.prototype.getSize=function(s){return this.getMetadata(s).next(function(l){return l.byteSize})},a.prototype.getMetadata=function(s){return Sm(s).get(ri.key).next(function(l){return at(!!l),l})},a.prototype.me=function(s,l){return Sm(s).put(ri.key,l)},a.prototype.ye=function(s,l){if(l){var d=Fs(this.R,l);if(!d.isNoDocument()||!d.version.isEqual(re.min()))return d}return Sn.newInvalidDocument(s)},a}(),ty=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).Ie=l,g.trackRemovals=d,g.Ae=new Ja(function(v){return v.toString()},function(v,b){return v.isEqual(b)}),g}return(0,I.ZT)(s,a),s.prototype.applyChanges=function(l){var d=this,g=[],v=0,b=new er(function(C,T){return Qe(C.canonicalString(),T.canonicalString())});return this.changes.forEach(function(C,T){var O=d.Ae.get(C);if(T.document.isValidDocument()){var P=af(d.Ie.R,T.document,d.getReadTime(C));b=b.add(C.path.popLast());var j=hf(P);v+=j-O,g.push(d.Ie.addEntry(l,C,P))}else if(v-=O,d.trackRemovals){var q=af(d.Ie.R,Sn.newNoDocument(C,re.min()),d.getReadTime(C));g.push(d.Ie.addEntry(l,C,q))}else g.push(d.Ie.removeEntry(l,C))}),b.forEach(function(C){g.push(d.Ie.Ut.addToCollectionParentIndex(l,C))}),g.push(this.Ie.updateMetadata(l,v)),De.waitFor(g)},s.prototype.getFromCache=function(l,d){var g=this;return this.Ie.ge(l,d).next(function(v){return g.Ae.set(d,v.size),v.document})},s.prototype.getAllFromCache=function(l,d){var g=this;return this.Ie.Ee(l,d).next(function(v){var b=v.documents;return v.Te.forEach(function(C,T){g.Ae.set(C,T)}),b})},s}(eg);function Sm(a){return uo(a,ri.store)}function ca(a){return uo(a,kn.store)}function dc(a){return a.path.toArray()}var Im=function(){function a(s){this.R=s}return a.prototype.Rt=function(s,l,d,g){var v=this;at(d<g&&d>=0&&g<=11);var T,b=new us("createOrUpgrade",l);d<1&&g>=1&&(s.createObjectStore(ni.store),(T=s).createObjectStore(qi.store,{keyPath:qi.keyPath}),T.createObjectStore(Vn.store,{keyPath:Vn.keyPath,autoIncrement:!0}).createIndex(Vn.userMutationsIndex,Vn.userMutationsKeyPath,{unique:!0}),T.createObjectStore(Ur.store),df(s),function(T){T.createObjectStore(kn.store)}(s));var C=De.resolve();return d<3&&g>=3&&(0!==d&&(function(T){T.deleteObjectStore(Hr.store),T.deleteObjectStore(zi.store),T.deleteObjectStore(ki.store)}(s),df(s)),C=C.next(function(){return function(T){var O=T.store(ki.store),P=new ki(0,0,re.min().toTimestamp(),0);return O.put(ki.key,P)}(b)})),d<4&&g>=4&&(0!==d&&(C=C.next(function(){return function(T,O){return O.store(Vn.store).Nt().next(function(P){T.deleteObjectStore(Vn.store),T.createObjectStore(Vn.store,{keyPath:Vn.keyPath,autoIncrement:!0}).createIndex(Vn.userMutationsIndex,Vn.userMutationsKeyPath,{unique:!0});var j=O.store(Vn.store),q=P.map(function(J){return j.put(J)});return De.waitFor(q)})}(s,b)})),C=C.next(function(){!function(T){T.createObjectStore(Xa.store,{keyPath:Xa.keyPath})}(s)})),d<5&&g>=5&&(C=C.next(function(){return v.Re(b)})),d<6&&g>=6&&(C=C.next(function(){return function(T){T.createObjectStore(ri.store)}(s),v.be(b)})),d<7&&g>=7&&(C=C.next(function(){return v.ve(b)})),d<8&&g>=8&&(C=C.next(function(){return v.Pe(s,b)})),d<9&&g>=9&&(C=C.next(function(){(function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")})(s),function(T){var O=T.objectStore(kn.store);O.createIndex(kn.readTimeIndex,kn.readTimeIndexPath,{unique:!1}),O.createIndex(kn.collectionReadTimeIndex,kn.collectionReadTimeIndexPath,{unique:!1})}(l)})),d<10&&g>=10&&(C=C.next(function(){return v.Ve(b)})),d<11&&g>=11&&(C=C.next(function(){(function(T){T.createObjectStore(sa.store,{keyPath:sa.keyPath})})(s),function(T){T.createObjectStore(ml.store,{keyPath:ml.keyPath})}(s)})),C},a.prototype.be=function(s){var l=0;return s.store(kn.store).$t(function(d,g){l+=hf(g)}).next(function(){var d=new ri(l);return s.store(ri.store).put(ri.key,d)})},a.prototype.Re=function(s){var l=this,d=s.store(qi.store),g=s.store(Vn.store);return d.Nt().next(function(v){return De.forEach(v,function(b){var C=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return g.Nt(Vn.userMutationsIndex,C).next(function(T){return De.forEach(T,function(O){at(O.userId===b.userId);var P=bl(l.R,O);return Em(s,b.userId,P).next(function(){})})})})})},a.prototype.ve=function(s){var l=s.store(Hr.store),d=s.store(kn.store);return s.store(ki.store).get(ki.key).next(function(g){var v=[];return d.$t(function(b,C){var T=new Kt(b),O=[0,gi(T)];v.push(l.get(O).next(function(P){return P?De.resolve():l.put(new Hr(0,gi(T),g.highestListenSequenceNumber))}))}).next(function(){return De.waitFor(v)})})},a.prototype.Pe=function(s,l){s.createObjectStore(ic.store,{keyPath:ic.keyPath});var d=l.store(ic.store),g=new cf,v=function(b){if(g.add(b)){var C=b.lastSegment(),T=b.popLast();return d.put({collectionId:C,parent:gi(T)})}};return l.store(kn.store).$t({Ft:!0},function(b,C){var T=new Kt(b);return v(T.popLast())}).next(function(){return l.store(Ur.store).$t({Ft:!0},function(b,C){var O=pr(b[1]);return v(O.popLast())})})},a.prototype.Ve=function(s){var l=this,d=s.store(zi.store);return d.$t(function(g,v){var b=Fh(v),C=co(l.R,b);return d.put(C)})},a}();function df(a){a.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.documentTargetsIndex,Hr.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(zi.store,{keyPath:zi.keyPath}).createIndex(zi.queryTargetsIndexName,zi.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(ki.store)}var ff="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",In=function(){function a(s,l,d,g,v,b,C,T,O,P){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=d,this.Se=v,this.window=b,this.document=C,this.De=O,this.Ce=P,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(j){return Promise.resolve()},!a.yt())throw new ge(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m_(this,g),this.Le=l+"main",this.R=new sf(T),this.Be=new sc(this.Le,11,new Im(this.R)),this.qe=new Dm(this.referenceDelegate,this.R),this.Ut=new Kp,this.Ue=new ey(this.R,this.Ut),this.Ke=new Zv,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===P&&Ln("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.prototype.start=function(){var s=this;return this.je().then(function(){if(!s.isPrimary&&!s.allowTabSynchronization)throw new ge(ie.FAILED_PRECONDITION,ff);return s.We(),s.Ge(),s.ze(),s.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return s.qe.getHighestSequenceNumber(l)})}).then(function(l){s.Ne=new Jr(l,s.De)}).then(function(){s.xe=!0}).catch(function(l){return s.Be&&s.Be.close(),Promise.reject(l)})},a.prototype.He=function(s){var l=this;return this.Me=function(d){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(g){return this.started?[2,s(d)]:[2]})})},s(this.isPrimary)},a.prototype.setDatabaseDeletedListener=function(s){var l=this;this.Be.vt(function(d){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(g){switch(g.label){case 0:return null===d.newVersion?[4,s()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})},a.prototype.setNetworkEnabled=function(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Se.enqueueAndForget(function(){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},a.prototype.je=function(){var s=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return pf(l).put(new Xa(s.clientId,Date.now(),s.networkEnabled,s.inForeground)).next(function(){if(s.isPrimary)return s.Je(l).next(function(d){d||(s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}))})}).next(function(){return s.Ye(l)}).next(function(d){return s.isPrimary&&!d?s.Xe(l).next(function(){return!1}):!!d&&s.Ze(l).next(function(){return!0})})}).catch(function(l){if(uc(l))return Se("IndexedDbPersistence","Failed to extend owner lease: ",l),s.isPrimary;if(!s.allowTabSynchronization)throw l;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){s.isPrimary!==l&&s.Se.enqueueRetryable(function(){return s.Me(l)}),s.isPrimary=l})},a.prototype.Je=function(s){var l=this;return Bh(s).get(ni.key).next(function(d){return De.resolve(l.tn(d))})},a.prototype.en=function(s){return pf(s).delete(this.clientId)},a.prototype.nn=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,v=this;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(C){var T=uo(C,Xa.store);return T.Nt().next(function(O){var P=v.rn(O,18e5),j=O.filter(function(q){return-1===P.indexOf(q)});return De.forEach(j,function(q){return T.delete(q.clientId)}).next(function(){return j})})}).catch(function(){return[]})]);case 1:if(s=b.sent(),this.Qe)for(l=0,d=s;l<d.length;l++)this.Qe.removeItem(this.on(d[l].clientId));b.label=2;case 2:return[2]}})})},a.prototype.ze=function(){var s=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return s.je().then(function(){return s.nn()}).then(function(){return s.ze()})})},a.prototype.tn=function(s){return!!s&&s.ownerId===this.clientId},a.prototype.Ye=function(s){var l=this;return this.Ce?De.resolve(!0):Bh(s).get(ni.key).next(function(d){if(null!==d&&l.sn(d.leaseTimestampMs,5e3)&&!l.cn(d.ownerId)){if(l.tn(d)&&l.networkEnabled)return!0;if(!l.tn(d)){if(!d.allowTabSynchronization)throw new ge(ie.FAILED_PRECONDITION,ff);return!1}}return!(!l.networkEnabled||!l.inForeground)||pf(s).Nt().next(function(g){return void 0===l.rn(g,5e3).find(function(v){return!(l.clientId===v.clientId||!(!l.networkEnabled&&v.networkEnabled||!l.inForeground&&v.inForeground&&l.networkEnabled===v.networkEnabled))})})}).next(function(d){return l.isPrimary!==d&&Se("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},a.prototype.shutdown=function(){return(0,I.mG)(this,void 0,void 0,function(){var s=this;return(0,I.Jh)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ni.store,Xa.store],function(d){var g=new $p(d,Jr.o);return s.Xe(g).next(function(){return s.en(g)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},a.prototype.rn=function(s,l){var d=this;return s.filter(function(g){return d.sn(g.updateTimeMs,l)&&!d.cn(g.clientId)})},a.prototype.fn=function(){var s=this;return this.runTransaction("getActiveClients","readonly",function(l){return pf(l).Nt().next(function(d){return s.rn(d,18e5).map(function(g){return g.clientId})})})},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.getMutationQueue=function(s){return g_.Qt(s,this.R,this.Ut,this.referenceDelegate)},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,d){var v,g=this;return Se("IndexedDbPersistence","Starting transaction:",s),this.Be.runTransaction(s,"readonly"===l?"readonly":"readwrite",Qv,function(C){return v=new $p(C,g.Ne?g.Ne.next():Jr.o),"readwrite-primary"===l?g.Je(v).next(function(T){return!!T||g.Ye(v)}).next(function(T){if(!T)throw Ln("Failed to obtain primary lease for action '"+s+"'."),g.isPrimary=!1,g.Se.enqueueRetryable(function(){return g.Me(!1)}),new ge(ie.FAILED_PRECONDITION,oc);return d(v)}).next(function(T){return g.Ze(v).next(function(){return T})}):g.dn(v).next(function(){return d(v)})}).then(function(C){return v.raiseOnCommittedEvent(),C})},a.prototype.dn=function(s){var l=this;return Bh(s).get(ni.key).next(function(d){if(null!==d&&l.sn(d.leaseTimestampMs,5e3)&&!l.cn(d.ownerId)&&!l.tn(d)&&!(l.Ce||l.allowTabSynchronization&&d.allowTabSynchronization))throw new ge(ie.FAILED_PRECONDITION,ff)})},a.prototype.Ze=function(s){var l=new ni(this.clientId,this.allowTabSynchronization,Date.now());return Bh(s).put(ni.key,l)},a.yt=function(){return sc.yt()},a.prototype.Xe=function(s){var l=this,d=Bh(s);return d.get(ni.key).next(function(g){return l.tn(g)?(Se("IndexedDbPersistence","Releasing primary lease."),d.delete(ni.key)):De.resolve()})},a.prototype.sn=function(s,l){var d=Date.now();return!(s<d-l||s>d&&(Ln("Detected an update time that is in the future: "+s+" > "+d),1))},a.prototype.We=function(){var s=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){s.Se.enqueueAndForget(function(){return s.inForeground="visible"===s.document.visibilityState,s.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},a.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},a.prototype.Ge=function(){var s,l=this;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ke=function(){l.un(),(0,ze.G6)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.ke))},a.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},a.prototype.cn=function(s){var l;try{var d=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(s)));return Se("IndexedDbPersistence","Client '"+s+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(g){return Ln("IndexedDbPersistence","Failed to get zombied client id.",g),!1}},a.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(s){Ln("Failed to set zombie client id.",s)}},a.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},a.prototype.on=function(s){return"firestore_zombie_"+this.persistenceKey+"_"+s},a}();function Bh(a){return uo(a,ni.store)}function pf(a){return uo(a,Xa.store)}function El(a,s){var l=a.projectId;return a.isDefaultDatabase||(l+="."+a.database),"firestore/"+s+"/"+l+"/"}var nn=function(a,s){this.progress=a,this.wn=s},tg=function(){function a(s,l,d){this.Ue=s,this._n=l,this.Ut=d}return a.prototype.mn=function(s,l){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKey(s,l).next(function(g){return d.yn(s,l,g)})},a.prototype.yn=function(s,l,d){return this.Ue.getEntry(s,l).next(function(g){for(var v=0,b=d;v<b.length;v++)b[v].applyToLocalView(g);return g})},a.prototype.gn=function(s,l){s.forEach(function(d,g){for(var v=0,b=l;v<b.length;v++)b[v].applyToLocalView(g)})},a.prototype.pn=function(s,l){var d=this;return this.Ue.getEntries(s,l).next(function(g){return d.En(s,g).next(function(){return g})})},a.prototype.En=function(s,l){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(s,l).next(function(g){return d.gn(l,g)})},a.prototype.getDocumentsMatchingQuery=function(s,l,d){return Ue.isDocumentKey((g=l).path)&&null===g.collectionGroup&&0===g.filters.length?this.Tn(s,l.path):ea(l)?this.In(s,l,d):this.An(s,l,d);var g},a.prototype.Tn=function(s,l){return this.mn(s,new Ue(l)).next(function(d){var g=Qd();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})},a.prototype.In=function(s,l,d){var g=this,v=l.collectionGroup,b=Qd();return this.Ut.getCollectionParents(s,v).next(function(C){return De.forEach(C,function(T){var P,j,O=(P=l,j=T.child(v),new Jo(j,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));return g.An(s,O,d).next(function(P){P.forEach(function(j,q){b=b.insert(j,q)})})}).next(function(){return b})})},a.prototype.An=function(s,l,d){var g,v,b=this;return this.Ue.getDocumentsMatchingQuery(s,l,d).next(function(C){return g=C,b._n.getAllMutationBatchesAffectingQuery(s,l)}).next(function(C){return b.Rn(s,v=C,g).next(function(T){g=T;for(var O=0,P=v;O<P.length;O++)for(var j=P[O],q=0,J=j.mutations;q<J.length;q++){var ee=J[q],ue=ee.key,Ie=g.get(ue);null==Ie&&(Ie=Sn.newInvalidDocument(ue),g=g.insert(ue,Ie)),is(ee,Ie,j.localWriteTime),Ie.isFoundDocument()||(g=g.remove(ue))}})}).next(function(){return g.forEach(function(C,T){es(l,T)||(g=g.remove(C))}),g})},a.prototype.Rn=function(s,l,d){for(var g=Bn(),v=0,b=l;v<b.length;v++)for(var C=0,T=b[v].mutations;C<T.length;C++){var O=T[C];O instanceof Jn&&null===d.get(O.key)&&(g=g.add(O.key))}var P=d;return this.Ue.getEntries(s,g).next(function(j){return j.forEach(function(q,J){J.isFoundDocument()&&(P=P.insert(q,J))}),P})},a}(),ng=function(){function a(s,l,d,g){this.targetId=s,this.fromCache=l,this.bn=d,this.vn=g}return a.Pn=function(s,l){for(var d=Bn(),g=Bn(),v=0,b=l.docChanges;v<b.length;v++){var C=b[v];switch(C.type){case 0:d=d.add(C.doc.key);break;case 1:g=g.add(C.doc.key)}}return new a(s,l.fromCache,d,g)},a}(),Tm=function(){function a(){}return a.prototype.Vn=function(s){this.Sn=s},a.prototype.getDocumentsMatchingQuery=function(s,l,d,g){var b,v=this;return 0===(b=l).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||d.isEqual(re.min())?this.Dn(s,l):this.Sn.pn(s,g).next(function(b){var C=v.Cn(l,b);return(zd(l)||za(l))&&v.Nn(l.limitType,C,g,d)?v.Dn(s,l):(Ai()<=nt.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),$a(l)),v.Sn.getDocumentsMatchingQuery(s,l,d).next(function(T){return C.forEach(function(O){T=T.insert(O.key,O)}),T}))})},a.prototype.Cn=function(s,l){var d=new er(hm(s));return l.forEach(function(g,v){es(s,v)&&(d=d.add(v))}),d},a.prototype.Nn=function(s,l,d,g){if(d.size!==l.size)return!0;var v="F"===s?l.last():l.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(g)>0)},a.prototype.Dn=function(s,l){return Ai()<=nt.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",$a(l)),this.Sn.getDocumentsMatchingQuery(s,l,re.min())},a}(),ny=function(){function a(s,l,d,g){this.persistence=s,this.xn=l,this.R=g,this.kn=new Wn(Qe),this.Fn=new Ja(function(v){return rl(v)},Dh),this.$n=re.min(),this._n=s.getMutationQueue(d),this.On=s.getRemoteDocumentCache(),this.qe=s.getTargetCache(),this.Mn=new tg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=s.getBundleCache(),this.xn.Vn(this.Mn)}return a.prototype.collectGarbage=function(s){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return s.collect(d,l.kn)})},a}();function Am(a,s,l,d){return new ny(a,s,l,d)}function ry(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return l=Be(a),d=l._n,g=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(C){var T;return l._n.getAllMutationBatches(C).next(function(O){return T=O,d=l.persistence.getMutationQueue(s),g=new tg(l.On,d,l.persistence.getIndexManager()),d.getAllMutationBatches(C)}).next(function(O){for(var P=[],j=[],q=Bn(),J=0,ee=T;J<ee.length;J++){var ue=ee[J];P.push(ue.batchId);for(var Ie=0,Pe=ue.mutations;Ie<Pe.length;Ie++)q=q.add(Pe[Ie].key)}for(var yt=0,an=O;yt<an.length;yt++){var hn=an[yt];j.push(hn.batchId);for(var En=0,yi=hn.mutations;En<yi.length;En++)q=q.add(yi[En].key)}return g.pn(C,q).next(function(Kl){return{Ln:Kl,removedBatchIds:P,addedBatchIds:j}})})})];case 1:return v=b.sent(),[2,(l._n=d,l.Mn=g,l.xn.Vn(l.Mn),v)]}})})}function v_(a,s){var l=Be(a);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var b,C,T,O,P,j,q,g=s.batch.keys(),v=l.On.newChangeBuffer({trackRemovals:!0});return(b=l,C=d,T=s,O=v,P=T.batch,j=P.keys(),q=De.resolve(),j.forEach(function(J){q=q.next(function(){return O.getEntry(C,J)}).next(function(ee){var ue=T.docVersions.get(J);at(null!==ue),ee.version.compareTo(ue)<0&&(P.applyToRemoteDocument(ee,T),ee.isValidDocument()&&O.addEntry(ee,T.commitVersion))})}),q.next(function(){return b._n.removeMutationBatch(C,P)})).next(function(){return v.apply(d)}).next(function(){return l._n.performConsistencyCheck(d)}).next(function(){return l.Mn.pn(d,g)})})}function Cl(a){var s=Be(a);return s.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return s.qe.getLastRemoteSnapshotVersion(l)})}function rg(a,s){var l=Be(a),d=s.snapshotVersion,g=l.kn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(v){var b=l.On.newChangeBuffer({trackRemovals:!0});g=l.kn;var C=[];s.targetChanges.forEach(function(P,j){var ue,Ie,Pe,q=g.get(j);if(q){C.push(l.qe.removeMatchingKeys(v,P.removedDocuments,j).next(function(){return l.qe.addMatchingKeys(v,P.addedDocuments,j)}));var J=P.resumeToken;if(J.approximateByteSize()>0){var ee=q.withResumeToken(J,d).withSequenceNumber(v.currentSequenceNumber);g=g.insert(j,ee),ue=q,Pe=P,at((Ie=ee).resumeToken.approximateByteSize()>0),(0===ue.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&C.push(l.qe.updateTargetData(v,ee))}}});var T=rr();if(s.documentUpdates.forEach(function(P,j){s.resolvedLimboDocuments.has(P)&&C.push(l.persistence.referenceDelegate.updateLimboDocument(v,P))}),C.push(Dl(v,b,s.documentUpdates,d,void 0).next(function(P){T=P})),!d.isEqual(re.min())){var O=l.qe.getLastRemoteSnapshotVersion(v).next(function(P){return l.qe.setTargetsMetadata(v,v.currentSequenceNumber,d)});C.push(O)}return De.waitFor(C).next(function(){return b.apply(v)}).next(function(){return l.Mn.En(v,T)}).next(function(){return T})}).then(function(v){return l.kn=g,v})}function Dl(a,s,l,d,g){var v=Bn();return l.forEach(function(b){return v=v.add(b)}),s.getEntries(a,v).next(function(b){var C=rr();return l.forEach(function(T,O){var P=b.get(T),j=g?.get(T)||d;O.isNoDocument()&&O.version.isEqual(re.min())?(s.removeEntry(T,j),C=C.insert(T,O)):!P.isValidDocument()||O.version.compareTo(P.version)>0||0===O.version.compareTo(P.version)&&P.hasPendingWrites?(s.addEntry(O,j),C=C.insert(T,O)):Se("LocalStore","Ignoring outdated watch update for ",T,". Current version:",P.version," Watch version:",O.version)}),C})}function Mm(a,s){var l=Be(a);return l.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===s&&(s=-1),l._n.getNextMutationBatchAfterBatchId(d,s)})}function eu(a,s){var l=Be(a);return l.persistence.runTransaction("Allocate target","readwrite",function(d){var g;return l.qe.getTargetData(d,s).next(function(v){return v?De.resolve(g=v):l.qe.allocateTargetId(d).next(function(b){return g=new _l(s,b,0,d.currentSequenceNumber),l.qe.addTargetData(d,g).next(function(){return g})})})}).then(function(d){var g=l.kn.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(l.kn=l.kn.insert(d.targetId,d),l.Fn.set(s,d.targetId)),d})}function tu(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:d=Be(a),g=d.kn.get(s),v=l?"readwrite":"readwrite-primary",C.label=1;case 1:return C.trys.push([1,4,,5]),l?[3,3]:[4,d.persistence.runTransaction("Release target",v,function(T){return d.persistence.referenceDelegate.removeTarget(T,g)})];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:if(!uc(b=C.sent()))throw b;return Se("LocalStore","Failed to update sequence numbers for target "+s+": "+b),[3,5];case 5:return d.kn=d.kn.remove(s),d.Fn.delete(g.target),[2]}})})}function fc(a,s,l){var d=Be(a),g=re.min(),v=Bn();return d.persistence.runTransaction("Execute query","readonly",function(b){return(C=d,T=b,O=pi(s),P=Be(C),j=P.Fn.get(O),void 0!==j?De.resolve(P.kn.get(j)):P.qe.getTargetData(T,O)).next(function(C){if(C)return g=C.lastLimboFreeSnapshotVersion,d.qe.getMatchingKeysForTargetId(b,C.targetId).next(function(T){v=T})}).next(function(){return d.xn.getDocumentsMatchingQuery(b,s,l?g:re.min(),l?v:Bn())}).next(function(C){return{documents:C,Bn:v}});var C,T,O,P,j})}function gf(a,s){var l=Be(a),d=Be(l.qe),g=l.kn.get(s);return g?Promise.resolve(g.target):l.persistence.runTransaction("Get target data","readonly",function(v){return d.lt(v,s).next(function(b){return b?b.target:null})})}function Vh(a){var s=Be(a);return s.persistence.runTransaction("Get new document changes","readonly",function(l){return g=l,v=s.$n,b=Be(s.On),C=rr(),T=ua(v),O=ca(g),P=IDBKeyRange.lowerBound(T,!0),O.$t({index:kn.readTimeIndex,range:P},function(j,q){var J=Fs(b.R,q);C=C.insert(J.key,J),T=q.readTime}).next(function(){return{wn:C,readTime:bm(T)}});var g,v,b,C,T,O,P}).then(function(l){var d=l.wn;return s.$n=l.readTime,d})}function iy(a){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){return[2,(s=Be(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return v=ca(d),b=re.min(),v.$t({index:kn.readTimeIndex,reverse:!0},function(C,T,O){T.readTime&&(b=bm(T.readTime)),O.done()}).next(function(){return b});var v,b}).then(function(d){s.$n=d})]})})}function Rm(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,v,b,C,T,O,P,j,q,J;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:for(g=Be(a),v=Bn(),b=rr(),C=ao(),T=0,O=l;T<O.length;T++)j=s.qn((P=O[T]).metadata.name),P.document&&(v=v.add(j)),b=b.insert(j,s.Un(P)),C=C.insert(j,s.Kn(P.metadata.readTime));return q=g.On.newChangeBuffer({trackRemovals:!0}),[4,eu(g,(ue=d,pi(Th(Kt.fromString("__bundle__/docs/"+ue)))))];case 1:return J=ee.sent(),[2,g.persistence.runTransaction("Apply bundle documents","readwrite",function(ue){return Dl(ue,q,b,re.min(),C).next(function(Ie){return q.apply(ue),Ie}).next(function(Ie){return g.qe.removeMatchingKeysForTargetId(ue,J.targetId).next(function(){return g.qe.addMatchingKeys(ue,v,J.targetId)}).next(function(){return g.Mn.En(ue,Ie)}).next(function(){return Ie})})})]}var ue})})}function pc(a,s,l){return void 0===l&&(l=Bn()),(0,I.mG)(this,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return[4,eu(a,pi(bo(s.bundledQuery)))];case 1:return d=v.sent(),[2,(g=Be(a)).persistence.runTransaction("Save named query","readwrite",function(b){var C=jr(s.readTime);if(d.snapshotVersion.compareTo(C)>=0)return g.Ke.saveNamedQuery(b,s);var T=d.withResumeToken(Vr.EMPTY_BYTE_STRING,C);return g.kn=g.kn.insert(T.targetId,T),g.qe.updateTargetData(b,T).next(function(){return g.qe.removeMatchingKeysForTargetId(b,d.targetId)}).next(function(){return g.qe.addMatchingKeys(b,l,d.targetId)}).next(function(){return g.Ke.saveNamedQuery(b,s)})})]}})})}var km=function(){function a(s){this.R=s,this.Qn=new Map,this.jn=new Map}return a.prototype.getBundleMetadata=function(s,l){return De.resolve(this.Qn.get(l))},a.prototype.saveBundleMetadata=function(s,l){var d;return this.Qn.set(l.id,{id:(d=l).id,version:d.version,createTime:jr(d.createTime)}),De.resolve()},a.prototype.getNamedQuery=function(s,l){return De.resolve(this.jn.get(l))},a.prototype.saveNamedQuery=function(s,l){return this.jn.set(l.name,{name:(d=l).name,query:bo(d.bundledQuery),readTime:jr(d.readTime)}),De.resolve();var d},a}(),mf=function(){function a(){this.Wn=new er(tr.Gn),this.zn=new er(tr.Hn)}return a.prototype.isEmpty=function(){return this.Wn.isEmpty()},a.prototype.addReference=function(s,l){var d=new tr(s,l);this.Wn=this.Wn.add(d),this.zn=this.zn.add(d)},a.prototype.Jn=function(s,l){var d=this;s.forEach(function(g){return d.addReference(g,l)})},a.prototype.removeReference=function(s,l){this.Yn(new tr(s,l))},a.prototype.Xn=function(s,l){var d=this;s.forEach(function(g){return d.removeReference(g,l)})},a.prototype.Zn=function(s){var l=this,d=new Ue(new Kt([])),g=new tr(d,s),v=new tr(d,s+1),b=[];return this.zn.forEachInRange([g,v],function(C){l.Yn(C),b.push(C.key)}),b},a.prototype.ts=function(){var s=this;this.Wn.forEach(function(l){return s.Yn(l)})},a.prototype.Yn=function(s){this.Wn=this.Wn.delete(s),this.zn=this.zn.delete(s)},a.prototype.es=function(s){var l=new Ue(new Kt([])),d=new tr(l,s),g=new tr(l,s+1),v=Bn();return this.zn.forEachInRange([d,g],function(b){v=v.add(b.key)}),v},a.prototype.containsKey=function(s){var l=new tr(s,0),d=this.Wn.firstAfterOrEqual(l);return null!==d&&s.isEqual(d.key)},a}(),tr=function(){function a(s,l){this.key=s,this.ns=l}return a.Gn=function(s,l){return Ue.comparator(s.key,l.key)||Qe(s.ns,l.ns)},a.Hn=function(s,l){return Qe(s.ns,l.ns)||Ue.comparator(s.key,l.key)},a}(),xm=function(){function a(s,l){this.Ut=s,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new er(tr.Gn)}return a.prototype.checkEmpty=function(s){return De.resolve(0===this._n.length)},a.prototype.addMutationBatch=function(s,l,d,g){var v=this.ss;this.ss++;var b=new Gp(v,l,d,g);this._n.push(b);for(var C=0,T=g;C<T.length;C++){var O=T[C];this.rs=this.rs.add(new tr(O.key,v)),this.Ut.addToCollectionParentIndex(s,O.key.path.popLast())}return De.resolve(b)},a.prototype.lookupMutationBatch=function(s,l){return De.resolve(this.os(l))},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var g=this.cs(l+1),v=g<0?0:g;return De.resolve(this._n.length>v?this._n[v]:null)},a.prototype.getHighestUnacknowledgedBatchId=function(){return De.resolve(0===this._n.length?-1:this.ss-1)},a.prototype.getAllMutationBatches=function(s){return De.resolve(this._n.slice())},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var d=this,g=new tr(l,0),v=new tr(l,Number.POSITIVE_INFINITY),b=[];return this.rs.forEachInRange([g,v],function(C){var T=d.os(C.ns);b.push(T)}),De.resolve(b)},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var d=this,g=new er(Qe);return l.forEach(function(v){var b=new tr(v,0),C=new tr(v,Number.POSITIVE_INFINITY);d.rs.forEachInRange([b,C],function(T){g=g.add(T.ns)})}),De.resolve(this.us(g))},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var d=l.path,g=d.length+1,v=d;Ue.isDocumentKey(v)||(v=v.child(""));var b=new tr(new Ue(v),0),C=new er(Qe);return this.rs.forEachWhile(function(T){var O=T.key.path;return!!d.isPrefixOf(O)&&(O.length===g&&(C=C.add(T.ns)),!0)},b),De.resolve(this.us(C))},a.prototype.us=function(s){var l=this,d=[];return s.forEach(function(g){var v=l.os(g);null!==v&&d.push(v)}),d},a.prototype.removeMutationBatch=function(s,l){var d=this;at(0===this.hs(l.batchId,"removed")),this._n.shift();var g=this.rs;return De.forEach(l.mutations,function(v){var b=new tr(v.key,l.batchId);return g=g.delete(b),d.referenceDelegate.markPotentiallyOrphaned(s,v.key)}).next(function(){d.rs=g})},a.prototype.Gt=function(s){},a.prototype.containsKey=function(s,l){var d=new tr(l,0),g=this.rs.firstAfterOrEqual(d);return De.resolve(l.isEqual(g&&g.key))},a.prototype.performConsistencyCheck=function(s){return De.resolve()},a.prototype.hs=function(s,l){return this.cs(s)},a.prototype.cs=function(s){return 0===this._n.length?0:s-this._n[0].batchId},a.prototype.os=function(s){var l=this.cs(s);return l<0||l>=this._n.length?null:this._n[l]},a}(),vf=function(){function a(s,l){this.Ut=s,this.ls=l,this.docs=new Wn(Ue.comparator),this.size=0}return a.prototype.addEntry=function(s,l,d){var g=l.key,v=this.docs.get(g),b=v?v.size:0,C=this.ls(l);return this.docs=this.docs.insert(g,{document:l.clone(),size:C,readTime:d}),this.size+=C-b,this.Ut.addToCollectionParentIndex(s,g.path.popLast())},a.prototype.removeEntry=function(s){var l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)},a.prototype.getEntry=function(s,l){var d=this.docs.get(l);return De.resolve(d?d.document.clone():Sn.newInvalidDocument(l))},a.prototype.getEntries=function(s,l){var d=this,g=rr();return l.forEach(function(v){var b=d.docs.get(v);g=g.insert(v,b?b.document.clone():Sn.newInvalidDocument(v))}),De.resolve(g)},a.prototype.getDocumentsMatchingQuery=function(s,l,d){for(var g=rr(),v=new Ue(l.path.child("")),b=this.docs.getIteratorFrom(v);b.hasNext();){var C=b.getNext(),O=C.value,P=O.document,j=O.readTime;if(!l.path.isPrefixOf(C.key.path))break;j.compareTo(d)<=0||es(l,P)&&(g=g.insert(P.key,P.clone()))}return De.resolve(g)},a.prototype.fs=function(s,l){return De.forEach(this.docs,function(d){return l(d)})},a.prototype.newChangeBuffer=function(s){return new yf(this)},a.prototype.getSize=function(s){return De.resolve(this.size)},a}(),yf=function(a){function s(l){var d=this;return(d=a.call(this)||this).Ie=l,d}return(0,I.ZT)(s,a),s.prototype.applyChanges=function(l){var d=this,g=[];return this.changes.forEach(function(v,b){b.document.isValidDocument()?g.push(d.Ie.addEntry(l,b.document,d.getReadTime(v))):d.Ie.removeEntry(v)}),De.waitFor(g)},s.prototype.getFromCache=function(l,d){return this.Ie.getEntry(l,d)},s.prototype.getAllFromCache=function(l,d){return this.Ie.getEntries(l,d)},s}(eg),Om=function(){function a(s){this.persistence=s,this.ds=new Ja(function(l){return rl(l)},Dh),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ws=0,this._s=new mf,this.targetCount=0,this.ys=Za.Jt()}return a.prototype.forEachTarget=function(s,l){return this.ds.forEach(function(d,g){return l(g)}),De.resolve()},a.prototype.getLastRemoteSnapshotVersion=function(s){return De.resolve(this.lastRemoteSnapshotVersion)},a.prototype.getHighestSequenceNumber=function(s){return De.resolve(this.ws)},a.prototype.allocateTargetId=function(s){return this.highestTargetId=this.ys.next(),De.resolve(this.highestTargetId)},a.prototype.setTargetsMetadata=function(s,l,d){return d&&(this.lastRemoteSnapshotVersion=d),l>this.ws&&(this.ws=l),De.resolve()},a.prototype.te=function(s){this.ds.set(s.target,s);var l=s.targetId;l>this.highestTargetId&&(this.ys=new Za(l),this.highestTargetId=l),s.sequenceNumber>this.ws&&(this.ws=s.sequenceNumber)},a.prototype.addTargetData=function(s,l){return this.te(l),this.targetCount+=1,De.resolve()},a.prototype.updateTargetData=function(s,l){return this.te(l),De.resolve()},a.prototype.removeTargetData=function(s,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,De.resolve()},a.prototype.removeTargets=function(s,l,d){var g=this,v=0,b=[];return this.ds.forEach(function(C,T){T.sequenceNumber<=l&&null===d.get(T.targetId)&&(g.ds.delete(C),b.push(g.removeMatchingKeysForTargetId(s,T.targetId)),v++)}),De.waitFor(b).next(function(){return v})},a.prototype.getTargetCount=function(s){return De.resolve(this.targetCount)},a.prototype.getTargetData=function(s,l){var d=this.ds.get(l)||null;return De.resolve(d)},a.prototype.addMatchingKeys=function(s,l,d){return this._s.Jn(l,d),De.resolve()},a.prototype.removeMatchingKeys=function(s,l,d){this._s.Xn(l,d);var g=this.persistence.referenceDelegate,v=[];return g&&l.forEach(function(b){v.push(g.markPotentiallyOrphaned(s,b))}),De.waitFor(v)},a.prototype.removeMatchingKeysForTargetId=function(s,l){return this._s.Zn(l),De.resolve()},a.prototype.getMatchingKeysForTargetId=function(s,l){var d=this._s.es(l);return De.resolve(d)},a.prototype.containsKey=function(s,l){return De.resolve(this._s.containsKey(l))},a}(),_f=function(){function a(s,l){var d=this;this.gs={},this.Ne=new Jr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=s(this),this.qe=new Om(this),this.Ut=new Wp,this.Ue=new vf(this.Ut,function(b){return d.referenceDelegate.ps(b)}),this.R=new sf(l),this.Ke=new km(this.R)}return a.prototype.start=function(){return Promise.resolve()},a.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.setDatabaseDeletedListener=function(){},a.prototype.setNetworkEnabled=function(){},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getMutationQueue=function(s){var l=this.gs[s.toKey()];return l||(l=new xm(this.Ut,this.referenceDelegate),this.gs[s.toKey()]=l),l},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,d){var g=this;Se("MemoryPersistence","Starting transaction:",s);var v=new jh(this.Ne.next());return this.referenceDelegate.Es(),d(v).next(function(b){return g.referenceDelegate.Ts(v).next(function(){return b})}).toPromise().then(function(b){return v.raiseOnCommittedEvent(),b})},a.prototype.Is=function(s,l){return De.or(Object.values(this.gs).map(function(d){return function(){return d.containsKey(s,l)}}))},a}(),jh=function(a){function s(l){var d=this;return(d=a.call(this)||this).currentSequenceNumber=l,d}return(0,I.ZT)(s,a),s}(vl),la=function(){function a(s){this.persistence=s,this.As=new mf,this.Rs=null}return a.bs=function(s){return new a(s)},Object.defineProperty(a.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw we()},enumerable:!1,configurable:!0}),a.prototype.addReference=function(s,l,d){return this.As.addReference(d,l),this.vs.delete(d.toString()),De.resolve()},a.prototype.removeReference=function(s,l,d){return this.As.removeReference(d,l),this.vs.add(d.toString()),De.resolve()},a.prototype.markPotentiallyOrphaned=function(s,l){return this.vs.add(l.toString()),De.resolve()},a.prototype.removeTarget=function(s,l){var d=this;this.As.Zn(l.targetId).forEach(function(v){return d.vs.add(v.toString())});var g=this.persistence.getTargetCache();return g.getMatchingKeysForTargetId(s,l.targetId).next(function(v){v.forEach(function(b){return d.vs.add(b.toString())})}).next(function(){return g.removeTargetData(s,l)})},a.prototype.Es=function(){this.Rs=new Set},a.prototype.Ts=function(s){var l=this,d=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.vs,function(g){var v=Ue.fromPath(g);return l.Ps(s,v).next(function(b){b||d.removeEntry(v)})}).next(function(){return l.Rs=null,d.apply(s)})},a.prototype.updateLimboDocument=function(s,l){var d=this;return this.Ps(s,l).next(function(g){g?d.vs.delete(l.toString()):d.vs.add(l.toString())})},a.prototype.ps=function(s){return 0},a.prototype.Ps=function(s,l){var d=this;return De.or([function(){return De.resolve(d.As.containsKey(l))},function(){return d.persistence.getTargetCache().containsKey(s,l)},function(){return d.persistence.Is(s,l)}])},a}(),Nr=function(){function a(s){this.uid=s}return a.prototype.isAuthenticated=function(){return null!=this.uid},a.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(s){return s.uid===this.uid},a}();function Uh(a,s){return"firestore_clients_"+a+"_"+s}function bf(a,s,l){var d="firestore_mutations_"+a+"_"+l;return s.isAuthenticated()&&(d+="_"+s.uid),d}function ig(a,s){return"firestore_targets_"+a+"_"+s}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");var wf=function(){function a(s,l,d,g){this.user=s,this.batchId=l,this.state=d,this.error=g}return a.Vs=function(s,l,d){var g,v=JSON.parse(d),b="object"==typeof v&&-1!==["pending","acknowledged","rejected"].indexOf(v.state)&&(void 0===v.error||"object"==typeof v.error);return b&&v.error&&(b="string"==typeof v.error.message&&"string"==typeof v.error.code)&&(g=new ge(v.error.code,v.error.message)),b?new a(s,l,v.state,g):(Ln("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+d),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),Ls=function(){function a(s,l,d){this.targetId=s,this.state=l,this.error=d}return a.Vs=function(s,l){var d,g=JSON.parse(l),v="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return v&&g.error&&(v="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(d=new ge(g.error.code,g.error.message)),v?new a(s,g.state,d):(Ln("SharedClientState","Failed to parse target state for ID '"+s+"': "+l),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),Hh=function(){function a(s,l){this.clientId=s,this.activeTargetIds=l}return a.Vs=function(s,l){for(var d=JSON.parse(l),g="object"==typeof d&&d.activeTargetIds instanceof Array,v=Ri(),b=0;g&&b<d.activeTargetIds.length;++b)g=Ge(d.activeTargetIds[b]),v=v.add(d.activeTargetIds[b]);return g?new a(s,v):(Ln("SharedClientState","Failed to parse client data for instance '"+s+"': "+l),null)},a}(),og=function(){function a(s,l){this.clientId=s,this.onlineState=l}return a.Vs=function(s){var l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new a(l.clientId,l.onlineState):(Ln("SharedClientState","Failed to parse online state: "+s),null)},a}(),gc=function(){function a(){this.activeTargetIds=Ri()}return a.prototype.Ds=function(s){this.activeTargetIds=this.activeTargetIds.add(s)},a.prototype.Cs=function(s){this.activeTargetIds=this.activeTargetIds.delete(s)},a.prototype.Ss=function(){var s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)},a}(),mc=function(){function a(s,l,d,g,v){this.window=s,this.Se=l,this.persistenceKey=d,this.Ns=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Wn(Qe),this.started=!1,this.$s=[];var b=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.Os=Uh(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new gc),this.Ls=new RegExp("^firestore_clients_"+b+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+b+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(C){return"firestore_bundle_loaded_"+C}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return a.yt=function(s){return!(!s||!s.localStorage)},a.prototype.start=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g,v,b,C,T,O,P,q=this;return(0,I.Jh)(this,function(J){switch(J.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=J.sent(),l=0,d=s;l<d.length;l++)(g=d[l])!==this.Ns&&(v=this.getItem(Uh(this.persistenceKey,g)))&&(b=Hh.Vs(g,v))&&(this.Fs=this.Fs.insert(b.clientId,b));for(this.Qs(),(C=this.storage.getItem(this.Us))&&(T=this.js(C))&&this.Ws(T),O=0,P=this.$s;O<P.length;O++)this.ks(P[O]);return this.$s=[],this.window.addEventListener("pagehide",function(){return q.shutdown()}),this.started=!0,[2]}})})},a.prototype.writeSequenceNumber=function(s){this.setItem(this.Ms,JSON.stringify(s))},a.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},a.prototype.isActiveQueryTarget=function(s){var l=!1;return this.Fs.forEach(function(d,g){g.activeTargetIds.has(s)&&(l=!0)}),l},a.prototype.addPendingMutation=function(s){this.zs(s,"pending")},a.prototype.updateMutationState=function(s,l,d){this.zs(s,l,d),this.Hs(s)},a.prototype.addLocalQueryTarget=function(s){var l="not-current";if(this.isActiveQueryTarget(s)){var d=this.storage.getItem(ig(this.persistenceKey,s));if(d){var g=Ls.Vs(s,d);g&&(l=g.state)}}return this.Js.Ds(s),this.Qs(),l},a.prototype.removeLocalQueryTarget=function(s){this.Js.Cs(s),this.Qs()},a.prototype.isLocalQueryTarget=function(s){return this.Js.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){this.removeItem(ig(this.persistenceKey,s))},a.prototype.updateQueryState=function(s,l,d){this.Ys(s,l,d)},a.prototype.handleUserChange=function(s,l,d){var g=this;l.forEach(function(v){g.Hs(v)}),this.currentUser=s,d.forEach(function(v){g.addPendingMutation(v)})},a.prototype.setOnlineState=function(s){this.Xs(s)},a.prototype.notifyBundleLoaded=function(){this.Zs()},a.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},a.prototype.getItem=function(s){var l=this.storage.getItem(s);return Se("SharedClientState","READ",s,l),l},a.prototype.setItem=function(s,l){Se("SharedClientState","SET",s,l),this.storage.setItem(s,l)},a.prototype.removeItem=function(s){Se("SharedClientState","REMOVE",s),this.storage.removeItem(s)},a.prototype.ks=function(s){var l=this,d=s;if(d.storageArea===this.storage){if(Se("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Os)return void Ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,I.mG)(l,void 0,void 0,function(){var g,v,b,C,T,O;return(0,I.Jh)(this,function(P){if(this.started){if(null!==d.key)if(this.Ls.test(d.key)){if(null==d.newValue)return g=this.ti(d.key),[2,this.ei(g,null)];if(v=this.ni(d.key,d.newValue))return[2,this.ei(v.clientId,v)]}else if(this.Bs.test(d.key)){if(null!==d.newValue&&(b=this.si(d.key,d.newValue)))return[2,this.ii(b)]}else if(this.qs.test(d.key)){if(null!==d.newValue&&(C=this.ri(d.key,d.newValue)))return[2,this.oi(C)]}else if(d.key===this.Us){if(null!==d.newValue&&(T=this.js(d.newValue)))return[2,this.Ws(T)]}else if(d.key===this.Ms)(O=function(j){var q=Jr.o;if(null!=j)try{var J=JSON.parse(j);at("number"==typeof J),q=J}catch(ee){Ln("SharedClientState","Failed to read sequence number from WebStorage",ee)}return q}(d.newValue))!==Jr.o&&this.sequenceNumberHandler(O);else if(d.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(d);return[2]})})})}},Object.defineProperty(a.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),a.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},a.prototype.zs=function(s,l,d){var g=new wf(this.currentUser,s,l,d),v=bf(this.persistenceKey,this.currentUser,s);this.setItem(v,g.Ss())},a.prototype.Hs=function(s){var l=bf(this.persistenceKey,this.currentUser,s);this.removeItem(l)},a.prototype.Xs=function(s){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:s}))},a.prototype.Ys=function(s,l,d){var g=ig(this.persistenceKey,s),v=new Ls(s,l,d);this.setItem(g,v.Ss())},a.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},a.prototype.ti=function(s){var l=this.Ls.exec(s);return l?l[1]:null},a.prototype.ni=function(s,l){var d=this.ti(s);return Hh.Vs(d,l)},a.prototype.si=function(s,l){var d=this.Bs.exec(s),g=Number(d[1]);return wf.Vs(new Nr(void 0!==d[2]?d[2]:null),g,l)},a.prototype.ri=function(s,l){var d=this.qs.exec(s),g=Number(d[1]);return Ls.Vs(g,l)},a.prototype.js=function(s){return og.Vs(s)},a.prototype.ii=function(s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return s.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(s.batchId,s.state,s.error)]:(Se("SharedClientState","Ignoring mutation for non-active user "+s.user.uid),[2])})})},a.prototype.oi=function(s){return this.syncEngine.ai(s.targetId,s.state,s.error)},a.prototype.ei=function(s,l){var d=this,g=l?this.Fs.insert(s,l):this.Fs.remove(s),v=this.Gs(this.Fs),b=this.Gs(g),C=[],T=[];return b.forEach(function(O){v.has(O)||C.push(O)}),v.forEach(function(O){b.has(O)||T.push(O)}),this.syncEngine.hi(C,T).then(function(){d.Fs=g})},a.prototype.Ws=function(s){this.Fs.get(s.clientId)&&this.onlineStateHandler(s.onlineState)},a.prototype.Gs=function(s){var l=Ri();return s.forEach(function(d,g){l=l.unionWith(g.activeTargetIds)}),l},a}(),ha=function(){function a(){this.li=new gc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a.prototype.addPendingMutation=function(s){},a.prototype.updateMutationState=function(s,l,d){},a.prototype.addLocalQueryTarget=function(s){return this.li.Ds(s),this.fi[s]||"not-current"},a.prototype.updateQueryState=function(s,l,d){this.fi[s]=l},a.prototype.removeLocalQueryTarget=function(s){this.li.Cs(s)},a.prototype.isLocalQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){delete this.fi[s]},a.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},a.prototype.isActiveQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.start=function(){return this.li=new gc,Promise.resolve()},a.prototype.handleUserChange=function(s,l,d){},a.prototype.setOnlineState=function(s){},a.prototype.shutdown=function(){},a.prototype.writeSequenceNumber=function(s){},a.prototype.notifyBundleLoaded=function(){},a}(),Nm=function(){function a(){}return a.prototype.di=function(s){},a.prototype.shutdown=function(){},a}(),Ef=function(){function a(){var s=this;this.wi=function(){return s._i()},this.mi=function(){return s.yi()},this.gi=[],this.pi()}return a.prototype.di=function(s){this.gi.push(s)},a.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},a.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},a.prototype._i=function(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(0)},a.prototype.yi=function(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(1)},a.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sg=function(){function a(s){this.Ei=s.Ei,this.Ti=s.Ti}return a.prototype.Ii=function(s){this.Ai=s},a.prototype.Ri=function(s){this.bi=s},a.prototype.onMessage=function(s){this.vi=s},a.prototype.close=function(){this.Ti()},a.prototype.send=function(s){this.Ei(s)},a.prototype.Pi=function(){this.Ai()},a.prototype.Vi=function(s){this.bi(s)},a.prototype.Si=function(s){this.vi(s)},a}(),sy=function(a){function s(l){var d=this;return(d=a.call(this,l)||this).forceLongPolling=l.forceLongPolling,d.autoDetectLongPolling=l.autoDetectLongPolling,d.useFetchStreams=l.useFetchStreams,d}return(0,I.ZT)(s,a),s.prototype.Fi=function(l,d,g,v){return new Promise(function(b,C){var T=new Eh;T.listenOnce(kp.COMPLETE,function(){try{switch(T.getLastErrorCode()){case Pu.NO_ERROR:var P=T.getResponseJson();Se("Connection","XHR received:",JSON.stringify(P)),b(P);break;case Pu.TIMEOUT:Se("Connection",'RPC "'+l+'" timed out'),C(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:var j=T.getStatus();if(Se("Connection",'RPC "'+l+'" failed with status:',j,"response text:",T.getResponseText()),j>0){var q=T.getResponseJson().error;if(q&&q.status&&q.message){var J=(ue=q.status.toLowerCase().replace(/_/g,"-"),Object.values(ie).indexOf(ue)>=0?ue:ie.UNKNOWN);C(new ge(J,q.message))}else C(new ge(ie.UNKNOWN,"Server responded with status "+T.getStatus()))}else C(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{Se("Connection",'RPC "'+l+'" completed.')}var ue});var O=JSON.stringify(v);T.send(d,"POST",O,g,15)})},s.prototype.Oi=function(l,d){var g=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],v=new _h,b=Ma(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Va({})),this.ki(C.initMessageHeaders,d),(0,ze.uI)()||(0,ze.b$)()||(0,ze.d)()||(0,ze.w1)()||(0,ze.Mn)()||(0,ze.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");var T=g.join("");Se("Connection","Creating WebChannel: "+T,C);var O=v.createWebChannel(T,C),P=!1,j=!1,q=new sg({Ei:function(ee){j?Se("Connection","Not sending because WebChannel is closed:",ee):(P||(Se("Connection","Opening WebChannel transport."),O.open(),P=!0),Se("Connection","WebChannel sending:",ee),O.send(ee))},Ti:function(){return O.close()}}),J=function(ee,ue,Ie){ee.listen(ue,function(Pe){try{Ie(Pe)}catch(ut){setTimeout(function(){throw ut},0)}})};return J(O,wh.EventType.OPEN,function(){j||Se("Connection","WebChannel transport opened.")}),J(O,wh.EventType.CLOSE,function(){j||(j=!0,Se("Connection","WebChannel transport closed"),q.Vi())}),J(O,wh.EventType.ERROR,function(ee){j||(j=!0,Jc("Connection","WebChannel transport errored:",ee),q.Vi(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),J(O,wh.EventType.MESSAGE,function(ee){var ue;if(!j){var Ie=ee.data[0];at(!!Ie);var ut=Ie.error||(null===(ue=Ie[0])||void 0===ue?void 0:ue.error);if(ut){Se("Connection","WebChannel received error:",ut);var yt=ut.status,an=function(En){var yi=fr[En];if(void 0!==yi)return Kv(yi)}(yt),hn=ut.message;void 0===an&&(an=ie.INTERNAL,hn="Unknown error status: "+yt+" with message "+ut.message),j=!0,q.Vi(new ge(an,hn)),O.close()}else Se("Connection","WebChannel received:",Ie),q.Si(Ie)}}),J(b,$v.STAT_EVENT,function(ee){ee.stat===ar_PROXY?Se("Connection","Detected buffering proxy"):ee.stat===ar_NOPROXY&&Se("Connection","Detected no buffering proxy")}),setTimeout(function(){q.Pi()},0),q},s}(function(){function a(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.Di=(s.ssl?"https":"http")+"://"+s.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a.prototype.Ni=function(s,l,d,g){var v=this.xi(s,l);Se("RestConnection","Sending: ",v,d);var b={};return this.ki(b,g),this.Fi(s,v,b,d).then(function(C){return Se("RestConnection","Received: ",C),C},function(C){throw Jc("RestConnection",s+" failed with error: ",C,"url: ",v,"request:",d),C})},a.prototype.$i=function(s,l,d,g){return this.Ni(s,l,d,g)},a.prototype.ki=function(s,l){if(s["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var d in l.authHeaders)l.authHeaders.hasOwnProperty(d)&&(s[d]=l.authHeaders[d])},a.prototype.xi=function(s,l){return this.Di+"/v1/"+l+":"+oy[s]},a}());function Sl(){return typeof window<"u"?window:null}function wo(){return typeof document<"u"?document:null}function Il(a){return new xh(a,!0)}var nu=function(){function a(s,l,d,g,v){void 0===d&&(d=1e3),void 0===g&&(g=1.5),void 0===v&&(v=6e4),this.Se=s,this.timerId=l,this.Mi=d,this.Li=g,this.Bi=v,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return a.prototype.reset=function(){this.qi=0},a.prototype.Qi=function(){this.qi=this.Bi},a.prototype.ji=function(s){var l=this;this.cancel();var d=Math.floor(this.qi+this.Wi()),g=Math.max(0,Date.now()-this.Ki),v=Math.max(0,d-g);v>0&&Se("ExponentialBackoff","Backing off for "+v+" ms (base delay: "+this.qi+" ms, delay with jitter: "+d+" ms, last attempt: "+g+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,v,function(){return l.Ki=Date.now(),s()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},a.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},a.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},a.prototype.Wi=function(){return(Math.random()-.5)*this.qi},a}(),Ir=function(){function a(s,l,d,g,v,b){this.Se=s,this.zi=d,this.Hi=g,this.Ji=v,this.listener=b,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new nu(s,l)}return a.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.er=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.nr()},a.prototype.stop=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},a.prototype.sr=function(){this.state=0,this.Zi.reset()},a.prototype.ir=function(){var s=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return s.rr()}))},a.prototype.cr=function(s){this.ur(),this.stream.send(s)},a.prototype.rr=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return this.er()?[2,this.close(0)]:[2]})})},a.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},a.prototype.close=function(s,l){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==s?this.Zi.reset():l&&l.code===ie.RESOURCE_EXHAUSTED?(Ln(l.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===ie.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=s,[4,this.listener.Ri(l)];case 1:return d.sent(),[2]}})})},a.prototype.ar=function(){},a.prototype.auth=function(){var s=this;this.state=1;var l=this.hr(this.Yi),d=this.Yi;this.Ji.getToken().then(function(g){s.Yi===d&&s.lr(g)},function(g){l(function(){var v=new ge(ie.UNKNOWN,"Fetching auth token failed: "+g.message);return s.dr(v)})})},a.prototype.lr=function(s){var l=this,d=this.hr(this.Yi);this.stream=this.wr(s),this.stream.Ii(function(){d(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(g){d(function(){return l.dr(g)})}),this.stream.onMessage(function(g){d(function(){return l.onMessage(g)})})},a.prototype.nr=function(){var s=this;this.state=4,this.Zi.ji(function(){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return this.state=0,this.start(),[2]})})})},a.prototype.dr=function(s){return Se("PersistentStream","close with error: "+s),this.stream=null,this.close(3,s)},a.prototype.hr=function(s){var l=this;return function(d){l.Se.enqueueAndForget(function(){return l.Yi===s?d():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),ag=function(a){function s(l,d,g,v,b){var C=this;return(C=a.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",d,g,b)||this).R=v,C}return(0,I.ZT)(s,a),s.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},s.prototype.onMessage=function(l){this.Zi.reset();var d=function(v,b){var C,Ie;if("targetChange"in b){var T="NO_CHANGE"===(Ie=b.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ie?1:"REMOVE"===Ie?2:"CURRENT"===Ie?3:"RESET"===Ie?4:we(),O=b.targetChange.targetIds||[],P=function(Ie,Pe){return Ie.I?(at(void 0===Pe||"string"==typeof Pe),Vr.fromBase64String(Pe||"")):(at(void 0===Pe||Pe instanceof Uint8Array),Vr.fromUint8Array(Pe||new Uint8Array))}(v,b.targetChange.resumeToken),j=(q=b.targetChange.cause)&&function(Ie){var Pe=void 0===Ie.code?ie.UNKNOWN:Kv(Ie.code);return new ge(Pe,Ie.message||"")}(q);C=new Zd(T,O,P,j||null)}else if("documentChange"in b){O=ss(v,(T=b.documentChange).document.name),P=jr(T.document.updateTime);var q=new fi({mapValue:{fields:T.document.fields}}),J=(j=Sn.newFoundDocument(O,P,q),T.targetIds||[]);C=new xs(J,T.removedTargetIds||[],j.key,j)}else if("documentDelete"in b)O=ss(v,(T=b.documentDelete).document),P=T.readTime?jr(T.readTime):re.min(),q=Sn.newNoDocument(O,P),C=new xs([],j=T.removedTargetIds||[],q.key,q);else if("documentRemove"in b)O=ss(v,(T=b.documentRemove).document),C=new xs([],P=T.removedTargetIds||[],O,null);else{if(!("filter"in b))return we();var ue=b.filter;O=new dm(T=ue.count||0),C=new Os(P=ue.targetId,O)}return C}(this.R,l),g=function(v){if(!("targetChange"in v))return re.min();var b=v.targetChange;return b.targetIds&&b.targetIds.length?re.min():b.readTime?jr(b.readTime):re.min()}(l);return this.listener._r(d,g)},s.prototype.mr=function(l){var v,b,C,T,d={};d.database=Ps(this.R),d.addTarget=(v=this.R,(C=Hd(T=(b=l).target)?{documents:fl(v,T)}:{query:pl(v,T)}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0?C.resumeToken=jp(v,b.resumeToken):b.snapshotVersion.compareTo(re.min())>0&&(C.readTime=Ns(v,b.snapshotVersion.toTimestamp())),C);var g=function(v,b){var C=function(T,O){switch(O){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,b.purpose);return null==C?null:{"goog-listen-tags":C}}(0,l);g&&(d.labels=g),this.cr(d)},s.prototype.yr=function(l){var d={};d.database=Ps(this.R),d.removeTarget=l,this.cr(d)},s}(Ir),ay=function(a){function s(l,d,g,v,b){var C=this;return(C=a.call(this,l,"write_stream_connection_backoff","write_stream_idle",d,g,b)||this).R=v,C.gr=!1,C}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},s.prototype.ar=function(){this.gr&&this.Er([])},s.prototype.wr=function(l){return this.Hi.Oi("Write",l)},s.prototype.onMessage=function(l){if(at(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var d=(b=l.commitTime,(v=l.writeResults)&&v.length>0?(at(void 0!==b),v.map(function(C){return O=b,(P=jr((T=C).updateTime?T.updateTime:O)).isEqual(re.min())&&(P=jr(O)),new ks(P,T.transformResults||[]);var T,O,P})):[]),g=jr(l.commitTime);return this.listener.Tr(g,d)}var v,b;return at(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},s.prototype.Ar=function(){var l={};l.database=Ps(this.R),this.cr(l)},s.prototype.Er=function(l){var d=this,g={streamToken:this.lastStreamToken,writes:l.map(function(v){return ia(d.R,v)})};this.cr(g)},s}(Ir),qh=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).credentials=l,v.Hi=d,v.R=g,v.Rr=!1,v}return(0,I.ZT)(s,a),s.prototype.br=function(){if(this.Rr)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.Ni=function(l,d,g){var v=this;return this.br(),this.credentials.getToken().then(function(b){return v.Hi.Ni(l,d,g,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===ie.UNAUTHENTICATED&&v.credentials.invalidateToken(),b):new ge(ie.UNKNOWN,b.toString())})},s.prototype.$i=function(l,d,g){var v=this;return this.br(),this.credentials.getToken().then(function(b){return v.Hi.$i(l,d,g,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===ie.UNAUTHENTICATED&&v.credentials.invalidateToken(),b):new ge(ie.UNKNOWN,b.toString())})},s.prototype.terminate=function(){this.Rr=!0},s}(function(){}),Cf=function(){function a(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return a.prototype.Sr=function(){var s=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return s.Pr=null,s.Cr("Backend didn't respond within 10 seconds."),s.Dr("Offline"),Promise.resolve()}))},a.prototype.Nr=function(s){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+s.toString()),this.Dr("Offline")))},a.prototype.set=function(s){this.kr(),this.vr=0,"Online"===s&&(this.Vr=!1),this.Dr(s)},a.prototype.Dr=function(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))},a.prototype.Cr=function(s){var l="Could not reach Cloud Firestore backend. "+s+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ln(l),this.Vr=!1):Se("OnlineStateTracker",l)},a.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},a}(),ug=function(a,s,l,d,g){var v=this;this.localStore=a,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=g,this.Lr.di(function(b){l.enqueueAndForget(function(){return(0,I.mG)(v,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return hs(this)?(Se("RemoteStore","Restarting streams for network reachability change."),[4,function(T){return(0,I.mG)(this,void 0,void 0,function(){var O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return(O=Be(T)).Or.add(4),[4,ls(O)];case 1:return P.sent(),O.Br.set("Unknown"),O.Or.delete(4),[4,zh(O)];case 2:return P.sent(),[2]}})})}(this)]):[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})})})}),this.Br=new Cf(l,d)};function zh(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(!hs(a))return[3,4];s=0,l=a.Mr,d.label=1;case 1:return s<l.length?[4,(0,l[s])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function ls(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:s=0,l=a.Mr,d.label=1;case 1:return s<l.length?[4,(0,l[s])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function Df(a,s){var l=Be(a);l.$r.has(s.targetId)||(l.$r.set(s.targetId,s),Sf(l)?Tl(l):iu(l).er()&&ru(l,s))}function vc(a,s){var l=Be(a),d=iu(l);l.$r.delete(s),d.er()&&Pm(l,s),0===l.$r.size&&(d.er()?d.ir():hs(l)&&l.Br.set("Unknown"))}function ru(a,s){a.qr.U(s.targetId),iu(a).mr(s)}function Pm(a,s){a.qr.U(s),iu(a).yr(s)}function Tl(a){a.qr=new ef({getRemoteKeysForTarget:function(s){return a.remoteSyncer.getRemoteKeysForTarget(s)},lt:function(s){return a.$r.get(s)||null}}),iu(a).start(),a.Br.Sr()}function Sf(a){return hs(a)&&!iu(a).tr()&&a.$r.size>0}function hs(a){return 0===Be(a).Or.size}function Bs(a){a.qr=void 0}function $h(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return a.$r.forEach(function(l,d){ru(a,l)}),[2]})})}function y_(a,s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return Bs(a),Sf(a)?(a.Br.Nr(s),Tl(a)):a.Br.set("Unknown"),[2]})})}function Gh(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:if(a.Br.set("Online"),!(s instanceof Zd&&2===s.state&&s.cause))return[3,6];b.label=1;case 1:return b.trys.push([1,3,,5]),[4,function(C,T){return(0,I.mG)(this,void 0,void 0,function(){var O,P,j,q;return(0,I.Jh)(this,function(J){switch(J.label){case 0:O=T.cause,P=0,j=T.targetIds,J.label=1;case 1:return P<j.length?C.$r.has(q=j[P])?[4,C.remoteSyncer.rejectListen(q,O)]:[3,3]:[3,5];case 2:J.sent(),C.$r.delete(q),C.qr.removeTarget(q),J.label=3;case 3:J.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}(a,s)];case 2:return b.sent(),[3,5];case 3:return d=b.sent(),Se("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),d),[4,cg(a,d)];case 4:return b.sent(),[3,5];case 5:return[3,13];case 6:if(s instanceof xs?a.qr.X(s):s instanceof Os?a.qr.rt(s):a.qr.et(s),l.isEqual(re.min()))return[3,13];b.label=7;case 7:return b.trys.push([7,11,,13]),[4,Cl(a.localStore)];case 8:return g=b.sent(),l.compareTo(g)>=0?[4,(C=a,T=l,O=C.qr.ut(T),O.targetChanges.forEach(function(P,j){if(P.resumeToken.approximateByteSize()>0){var q=C.$r.get(j);q&&C.$r.set(j,q.withResumeToken(P.resumeToken,T))}}),O.targetMismatches.forEach(function(P){var j=C.$r.get(P);if(j){C.$r.set(P,j.withResumeToken(Vr.EMPTY_BYTE_STRING,j.snapshotVersion)),Pm(C,P);var q=new _l(j.target,P,1,j.sequenceNumber);ru(C,q)}}),C.remoteSyncer.applyRemoteEvent(O))]:[3,10];case 9:b.sent(),b.label=10;case 10:return[3,13];case 11:return Se("RemoteStore","Failed to raise snapshot:",v=b.sent()),[4,cg(a,v)];case 12:return b.sent(),[3,13];case 13:return[2]}var C,T,O})})}function cg(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:if(!uc(s))throw s;return a.Or.add(1),[4,ls(a)];case 1:return g.sent(),a.Br.set("Offline"),l||(l=function(){return Cl(a.localStore)}),a.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(d,void 0,void 0,function(){return(0,I.Jh)(this,function(v){switch(v.label){case 0:return Se("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return v.sent(),a.Or.delete(1),[4,zh(a)];case 2:return v.sent(),[2]}})})}),[2]}})})}function lg(a,s){return s().catch(function(l){return cg(a,l,s)})}function Al(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g,v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:s=Be(a),l=mi(s),d=s.Fr.length>0?s.Fr[s.Fr.length-1].batchId:-1,b.label=1;case 1:if(!(hs(C=s)&&C.Fr.length<10))return[3,7];b.label=2;case 2:return b.trys.push([2,4,,6]),[4,Mm(s.localStore,d)];case 3:return null===(g=b.sent())?(0===s.Fr.length&&l.ir(),[3,7]):(d=g.batchId,function(C,T){C.Fr.push(T);var O=mi(C);O.er()&&O.pr&&O.Er(T.mutations)}(s,g),[3,6]);case 4:return v=b.sent(),[4,cg(s,v)];case 5:return b.sent(),[3,6];case 6:return[3,1];case 7:return Wh(s)&&If(s),[2]}var C})})}function Wh(a){return hs(a)&&!mi(a).tr()&&a.Fr.length>0}function If(a){mi(a).start()}function Fm(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return mi(a).Ar(),[2]})})}function Lm(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d;return(0,I.Jh)(this,function(v){for(s=mi(a),l=0,d=a.Fr;l<d.length;l++)s.Er(d[l].mutations);return[2]})})}function Kh(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return d=a.Fr.shift(),g=rf.from(d,s,l),[4,lg(a,function(){return a.remoteSyncer.applySuccessfulWrite(g)})];case 1:return v.sent(),[4,Al(a)];case 2:return v.sent(),[2]}})})}function Ml(a,s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){switch(l.label){case 0:return s&&mi(a).pr?[4,function(d,g){return(0,I.mG)(this,void 0,void 0,function(){var v,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return Le(b=g.code)&&b!==ie.ABORTED?(v=d.Fr.shift(),mi(d).sr(),[4,lg(d,function(){return d.remoteSyncer.rejectFailedWrite(v.batchId,g)})]):[3,3];case 1:return C.sent(),[4,Al(d)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}(a,s)]:[3,2];case 1:l.sent(),l.label=2;case 2:return Wh(a)&&If(a),[2]}})})}function Tf(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l=Be(a),s?(l.Or.delete(2),[4,zh(l)]):[3,2];case 1:return d.sent(),[3,5];case 2:return s?[3,4]:(l.Or.add(2),[4,ls(l)]);case 3:d.sent(),l.Br.set("Unknown"),d.label=4;case 4:d.label=5;case 5:return[2]}})})}function iu(a){var l,d,g,v,s=this;return a.Ur||(a.Ur=(l=a.datastore,d=a.asyncQueue,g={Ii:$h.bind(null,a),Ri:y_.bind(null,a),_r:Gh.bind(null,a)},(v=Be(l)).br(),new ag(d,v.Hi,v.credentials,v.R,g)),a.Mr.push(function(l){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l?(a.Ur.sr(),Sf(a)?Tl(a):a.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.Ur.stop()];case 2:d.sent(),Bs(a),d.label=3;case 3:return[2]}})})})),a.Ur}function mi(a){var l,d,g,v,s=this;return a.Kr||(a.Kr=(l=a.datastore,d=a.asyncQueue,g={Ii:Fm.bind(null,a),Ri:Ml.bind(null,a),Ir:Lm.bind(null,a),Tr:Kh.bind(null,a)},(v=Be(l)).br(),new ay(d,v.Hi,v.credentials,v.R,g)),a.Mr.push(function(l){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l?(a.Kr.sr(),[4,Al(a)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,a.Kr.stop()];case 3:d.sent(),a.Fr.length>0&&(Se("RemoteStore","Stopping write stream with "+a.Fr.length+" pending writes"),a.Fr=[]),d.label=4;case 4:return[2]}})})})),a.Kr}var hg=function(){function a(s,l,d,g,v){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=d,this.op=g,this.removalCallback=v,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(b){})}return a.createAndSchedule=function(s,l,d,g,v){var b=new a(s,l,Date.now()+d,g,v);return b.start(d),b},a.prototype.start=function(s){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},s)},a.prototype.skipDelay=function(){return this.handleDelayElapsed()},a.prototype.cancel=function(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(s?": "+s:""))))},a.prototype.handleDelayElapsed=function(){var s=this;this.asyncQueue.enqueueAndForget(function(){return null!==s.timerHandle?(s.clearTimeout(),s.op().then(function(l){return s.deferred.resolve(l)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},a}();function yc(a,s){if(Ln("AsyncQueue",s+": "+a),uc(a))return new ge(ie.UNAVAILABLE,s+": "+a);throw a}var Af=function(){function a(s){this.comparator=s?function(l,d){return s(l,d)||Ue.comparator(l.key,d.key)}:function(l,d){return Ue.comparator(l.key,d.key)},this.keyedMap=Qd(),this.sortedSet=new Wn(this.comparator)}return a.emptySet=function(s){return new a(s.comparator)},a.prototype.has=function(s){return null!=this.keyedMap.get(s)},a.prototype.get=function(s){return this.keyedMap.get(s)},a.prototype.first=function(){return this.sortedSet.minKey()},a.prototype.last=function(){return this.sortedSet.maxKey()},a.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},a.prototype.indexOf=function(s){var l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s){this.sortedSet.inorderTraversal(function(l,d){return s(l),!1})},a.prototype.add=function(s){var l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))},a.prototype.delete=function(s){var l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.sortedSet.getIterator(),d=s.sortedSet.getIterator();l.hasNext();){var g=l.getNext().key,v=d.getNext().key;if(!g.isEqual(v))return!1}return!0},a.prototype.toString=function(){var s=[];return this.forEach(function(l){s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"},a.prototype.copy=function(s,l){var d=new a;return d.comparator=this.comparator,d.keyedMap=s,d.sortedSet=l,d},a}(),Yh=function(){function a(){this.Qr=new Wn(Ue.comparator)}return a.prototype.track=function(s){var l=s.doc.key,d=this.Qr.get(l);d?0!==s.type&&3===d.type?this.Qr=this.Qr.insert(l,s):3===s.type&&1!==d.type?this.Qr=this.Qr.insert(l,{type:d.type,doc:s.doc}):2===s.type&&2===d.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):2===s.type&&0===d.type?this.Qr=this.Qr.insert(l,{type:0,doc:s.doc}):1===s.type&&0===d.type?this.Qr=this.Qr.remove(l):1===s.type&&2===d.type?this.Qr=this.Qr.insert(l,{type:1,doc:d.doc}):0===s.type&&1===d.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):we():this.Qr=this.Qr.insert(l,s)},a.prototype.jr=function(){var s=[];return this.Qr.inorderTraversal(function(l,d){s.push(d)}),s},a}(),Xh=function(){function a(s,l,d,g,v,b,C,T){this.query=s,this.docs=l,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=v,this.fromCache=b,this.syncStateChanged=C,this.excludesMetadataChanges=T}return a.fromInitialDocuments=function(s,l,d,g){var v=[];return l.forEach(function(b){v.push({type:0,doc:b})}),new a(s,l,Af.emptySet(l),v,d,g,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&Rh(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;var l=this.docChanges,d=s.docChanges;if(l.length!==d.length)return!1;for(var g=0;g<l.length;g++)if(l[g].type!==d[g].type||!l[g].doc.isEqual(d[g].doc))return!1;return!0},a}(),Bm=function(){this.Wr=void 0,this.listeners=[]},uy=function(){this.queries=new Ja(function(a){return Wu(a)},Rh),this.onlineState="Unknown",this.Gr=new Set};function Mf(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,v,b,C,T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:if(l=Be(a),g=!1,(v=l.queries.get(d=s.query))||(g=!0,v=new Bm),!g)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),b=v,[4,l.onListen(d)];case 2:return b.Wr=O.sent(),[3,4];case 3:return C=O.sent(),T=yc(C,"Initialization of query '"+$a(s.query)+"' failed"),[2,void s.onError(T)];case 4:return l.queries.set(d,v),v.listeners.push(s),s.zr(l.onlineState),v.Wr&&s.Hr(v.Wr)&&dg(l),[2]}})})}function ou(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,v,b;return(0,I.Jh)(this,function(C){return l=Be(a),g=!1,(v=l.queries.get(d=s.query))&&(b=v.listeners.indexOf(s))>=0&&(v.listeners.splice(b,1),g=0===v.listeners.length),g?[2,(l.queries.delete(d),l.onUnlisten(d))]:[2]})})}function cy(a,s){for(var l=Be(a),d=!1,g=0,v=s;g<v.length;g++){var b=v[g],T=l.queries.get(b.query);if(T){for(var O=0,P=T.listeners;O<P.length;O++)P[O].Hr(b)&&(d=!0);T.Wr=b}}d&&dg(l)}function ly(a,s,l){var d=Be(a),g=d.queries.get(s);if(g)for(var v=0,b=g.listeners;v<b.length;v++)b[v].onError(l);d.queries.delete(s)}function dg(a){a.Gr.forEach(function(s){s.next()})}var Qh=function(){function a(s,l,d){this.query=s,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=d||{}}return a.prototype.Hr=function(s){if(!this.options.includeMetadataChanges){for(var l=[],d=0,g=s.docChanges;d<g.length;d++){var v=g[d];3!==v.type&&l.push(v)}s=new Xh(s.query,s.docs,s.oldDocs,l,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}var b=!1;return this.Yr?this.Zr(s)&&(this.Jr.next(s),b=!0):this.eo(s,this.onlineState)&&(this.no(s),b=!0),this.Xr=s,b},a.prototype.onError=function(s){this.Jr.error(s)},a.prototype.zr=function(s){this.onlineState=s;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,s)&&(this.no(this.Xr),l=!0),l},a.prototype.eo=function(s,l){return!s.fromCache||!(this.options.so&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)},a.prototype.Zr=function(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.no=function(s){s=Xh.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.Yr=!0,this.Jr.next(s)},a}(),Vm=function(){function a(s,l){this.payload=s,this.byteLength=l}return a.prototype.io=function(){return"metadata"in this.payload},a}(),Rf=function(){function a(s){this.R=s}return a.prototype.qn=function(s){return ss(this.R,s)},a.prototype.Un=function(s){return s.metadata.exists?Ju(this.R,s.document,!1):Sn.newNoDocument(this.qn(s.metadata.name),this.Kn(s.metadata.readTime))},a.prototype.Kn=function(s){return jr(s)},a}();!function(){function a(s,l,d){this.ro=s,this.localStore=l,this.R=d,this.queries=[],this.documents=[],this.progress=function kf(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}(s)}a.prototype.oo=function(s){this.progress.bytesLoaded+=s.byteLength;var l=this.progress.documentsLoaded;return s.payload.namedQuery?this.queries.push(s.payload.namedQuery):s.payload.documentMetadata?(this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l):s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},a.prototype.co=function(s){for(var l=new Map,d=new Rf(this.R),g=0,v=s;g<v.length;g++){var b=v[g];if(b.metadata.queries)for(var C=d.qn(b.metadata.name),T=0,O=b.metadata.queries;T<O.length;T++){var P=O[T],j=(l.get(P)||Bn()).add(C);l.set(P,j)}}return l},a.prototype.complete=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g,v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return[4,Rm(this.localStore,new Rf(this.R),this.documents,this.ro.id)];case 1:s=b.sent(),l=this.co(this.documents),d=0,g=this.queries,b.label=2;case 2:return d<g.length?[4,pc(this.localStore,v=g[d],l.get(v.name))]:[3,5];case 3:b.sent(),b.label=4;case 4:return d++,[3,2];case 5:return[2,(this.progress.taskState="Success",new nn(Object.assign({},this.progress),s))]}})})}}();var Zh=function(a){this.key=a},xf=function(a){this.key=a},zr=function(){function a(s,l){this.query=s,this.uo=l,this.ao=null,this.current=!1,this.ho=Bn(),this.mutatedKeys=Bn(),this.lo=hm(s),this.fo=new Af(this.lo)}return Object.defineProperty(a.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),a.prototype._o=function(s,l){var d=this,g=l?l.mo:new Yh,v=l?l.fo:this.fo,b=l?l.mutatedKeys:this.mutatedKeys,C=v,T=!1,O=zd(this.query)&&v.size===this.query.limit?v.last():null,P=za(this.query)&&v.size===this.query.limit?v.first():null;if(s.inorderTraversal(function(q,J){var ee=v.get(q),ue=es(d.query,J)?J:null,Ie=!!ee&&d.mutatedKeys.has(ee.key),Pe=!!ue&&(ue.hasLocalMutations||d.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations),ut=!1;ee&&ue?ee.data.isEqual(ue.data)?Ie!==Pe&&(g.track({type:3,doc:ue}),ut=!0):d.yo(ee,ue)||(g.track({type:2,doc:ue}),ut=!0,(O&&d.lo(ue,O)>0||P&&d.lo(ue,P)<0)&&(T=!0)):!ee&&ue?(g.track({type:0,doc:ue}),ut=!0):ee&&!ue&&(g.track({type:1,doc:ee}),ut=!0,(O||P)&&(T=!0)),ut&&(ue?(C=C.add(ue),b=Pe?b.add(q):b.delete(q)):(C=C.delete(q),b=b.delete(q)))}),zd(this.query)||za(this.query))for(;C.size>this.query.limit;){var j=zd(this.query)?C.last():C.first();C=C.delete(j.key),b=b.delete(j.key),g.track({type:1,doc:j})}return{fo:C,mo:g,Nn:T,mutatedKeys:b}},a.prototype.yo=function(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},a.prototype.applyChanges=function(s,l,d){var g=this,v=this.fo;this.fo=s.fo,this.mutatedKeys=s.mutatedKeys;var b=s.mo.jr();b.sort(function(P,j){return J=j.type,(ee=function(ue){switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}})(P.type)-ee(J)||g.lo(P.doc,j.doc);var J,ee}),this.po(d);var C=l?this.Eo():[],T=0===this.ho.size&&this.current?1:0,O=T!==this.ao;return this.ao=T,0!==b.length||O?{snapshot:new Xh(this.query,s.fo,v,b,s.mutatedKeys,0===T,O,!1),To:C}:{To:C}},a.prototype.zr=function(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Yh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},a.prototype.Io=function(s){return!this.uo.has(s)&&!!this.fo.has(s)&&!this.fo.get(s).hasLocalMutations},a.prototype.po=function(s){var l=this;s&&(s.addedDocuments.forEach(function(d){return l.uo=l.uo.add(d)}),s.modifiedDocuments.forEach(function(d){}),s.removedDocuments.forEach(function(d){return l.uo=l.uo.delete(d)}),this.current=s.current)},a.prototype.Eo=function(){var s=this;if(!this.current)return[];var l=this.ho;this.ho=Bn(),this.fo.forEach(function(g){s.Io(g.key)&&(s.ho=s.ho.add(g.key))});var d=[];return l.forEach(function(g){s.ho.has(g)||d.push(new xf(g))}),this.ho.forEach(function(g){l.has(g)||d.push(new Zh(g))}),d},a.prototype.Ao=function(s){this.uo=s.Bn,this.ho=Bn();var l=this._o(s.documents);return this.applyChanges(l,!0)},a.prototype.Ro=function(){return Xh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},a}(),Jh=function(a,s,l){this.query=a,this.targetId=s,this.view=l},Rl=function(a){this.key=a,this.bo=!1},jm=function(){function a(s,l,d,g,v,b){this.localStore=s,this.remoteStore=l,this.eventManager=d,this.sharedClientState=g,this.currentUser=v,this.maxConcurrentLimboResolutions=b,this.vo={},this.Po=new Ja(function(C){return Wu(C)},Rh),this.Vo=new Map,this.So=new Set,this.Do=new Wn(Ue.comparator),this.Co=new Map,this.No=new mf,this.xo={},this.ko=new Map,this.Fo=Za.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(a.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),a}();function Um(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,g,v,b,C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return l=xl(a),(v=l.Po.get(s))?(l.sharedClientState.addLocalQueryTarget(v.targetId),g=v.view.Ro(),[3,4]):[3,1];case 1:return[4,eu(l.localStore,pi(s))];case 2:return b=T.sent(),C=l.sharedClientState.addLocalQueryTarget(b.targetId),[4,ed(l,s,b.targetId,"current"===C)];case 3:g=T.sent(),l.isPrimaryClient&&Df(l.remoteStore,b),T.label=4;case 4:return[2,g]}})})}function ed(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,v,b,C,T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return a.Oo=function(j,q,J){return function(ee,ue,Ie,Pe){return(0,I.mG)(this,void 0,void 0,function(){var ut,yt,an;return(0,I.Jh)(this,function(hn){switch(hn.label){case 0:return(ut=ue.view._o(Ie)).Nn?[4,fc(ee.localStore,ue.query,!1).then(function(En){return ue.view._o(En.documents,ut)})]:[3,2];case 1:ut=hn.sent(),hn.label=2;case 2:return yt=Pe&&Pe.targetChanges.get(ue.targetId),an=ue.view.applyChanges(ut,ee.isPrimaryClient,yt),[2,(Ff(ee,ue.targetId,an.To),an.snapshot)]}})})}(a,j,q,J)},[4,fc(a.localStore,s,!0)];case 1:return g=P.sent(),v=new zr(s,g.Bn),b=v._o(g.documents),C=Ya.createSynthesizedTargetChangeForCurrentChange(l,d&&"Offline"!==a.onlineState),T=v.applyChanges(b,a.isPrimaryClient,C),Ff(a,l,T.To),O=new Jh(s,l,v),[2,(a.Po.set(s,O),a.Vo.has(l)?a.Vo.get(l).push(s):a.Vo.set(l,[s]),T.snapshot)]}})})}function Of(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return l=Be(a),d=l.Po.get(s),(g=l.Vo.get(d.targetId)).length>1?[2,(l.Vo.set(d.targetId,g.filter(function(b){return!Rh(b,s)})),void l.Po.delete(s))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(d.targetId),l.sharedClientState.isActiveQueryTarget(d.targetId)?[3,2]:[4,tu(l.localStore,d.targetId,!1).then(function(){l.sharedClientState.clearQueryState(d.targetId),vc(l.remoteStore,d.targetId),Eo(l,d.targetId)}).catch(wl)]):[3,3];case 1:v.sent(),v.label=2;case 2:return[3,5];case 3:return Eo(l,d.targetId),[4,tu(l.localStore,d.targetId,!0)];case 4:v.sent(),v.label=5;case 5:return[2]}})})}function Nf(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:d=_c(a),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,(T=d.localStore,O=s,j=Be(T),q=hi.now(),J=O.reduce(function(ee,ue){return ee.add(ue.key)},Bn()),j.persistence.runTransaction("Locally write mutations","readwrite",function(ee){return j.Mn.pn(ee,J).next(function(ue){P=ue;for(var Ie=[],Pe=0,ut=O;Pe<ut.length;Pe++){var yt=ut[Pe],an=Lp(yt,P.get(yt.key));null!=an&&Ie.push(new Jn(yt.key,an,um(an.value.mapValue),Dr.exists(!0)))}return j._n.addMutationBatch(ee,q,Ie,O)})}).then(function(ee){return ee.applyToLocalDocumentSet(P),{batchId:ee.batchId,changes:P}}))];case 2:return g=C.sent(),d.sharedClientState.addPendingMutation(g.batchId),function(T,O,P){var j=T.xo[T.currentUser.toKey()];j||(j=new Wn(Qe)),j=j.insert(O,P),T.xo[T.currentUser.toKey()]=j}(d,g.batchId,l),[4,su(d,g.changes)];case 3:return C.sent(),[4,Al(d.remoteStore)];case 4:return C.sent(),[3,6];case 5:return v=C.sent(),b=yc(v,"Failed to persist write"),l.reject(b),[3,6];case 6:return[2]}var T,O,P,j,q,J})})}function Hm(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d;return(0,I.Jh)(this,function(g){switch(g.label){case 0:l=Be(a),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,rg(l.localStore,s)];case 2:return d=g.sent(),s.targetChanges.forEach(function(v,b){var C=l.Co.get(b);C&&(at(v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size<=1),v.addedDocuments.size>0?C.bo=!0:v.modifiedDocuments.size>0?at(C.bo):v.removedDocuments.size>0&&(at(C.bo),C.bo=!1))}),[4,su(l,d,s)];case 3:return g.sent(),[3,6];case 4:return[4,wl(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function fg(a,s,l){var d=Be(a);if(d.isPrimaryClient&&0===l||!d.isPrimaryClient&&1===l){var g=[];d.Po.forEach(function(v,b){var C=b.view.zr(s);C.snapshot&&g.push(C.snapshot)}),function(v,b){var C=Be(v);C.onlineState=b;var T=!1;C.queries.forEach(function(O,P){for(var j=0,q=P.listeners;j<q.length;j++)q[j].zr(b)&&(T=!0)}),T&&dg(C)}(d.eventManager,s),g.length&&d.vo._r(g),d.onlineState=s,d.isPrimaryClient&&d.sharedClientState.setOnlineState(s)}}function qm(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v,b,C,T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return(d=Be(a)).sharedClientState.updateQueryState(s,"rejected",l),g=d.Co.get(s),(v=g&&g.key)?(b=(b=new Wn(Ue.comparator)).insert(v,Sn.newNoDocument(v,re.min())),C=Bn().add(v),T=new yo(re.min(),new Map,new er(Qe),b,C),[4,Hm(d,T)]):[3,2];case 1:return O.sent(),d.Do=d.Do.remove(v),d.Co.delete(s),Gm(d),[3,4];case 2:return[4,tu(d.localStore,s,!1).then(function(){return Eo(d,s,l)}).catch(wl)];case 3:O.sent(),O.label=4;case 4:return[2]}})})}function pg(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:l=Be(a),d=s.batch.batchId,v.label=1;case 1:return v.trys.push([1,4,,6]),[4,v_(l.localStore,s)];case 2:return g=v.sent(),Pf(l,d,null),td(l,d),l.sharedClientState.updateMutationState(d,"acknowledged"),[4,su(l,g)];case 3:return v.sent(),[3,6];case 4:return[4,wl(v.sent())];case 5:return v.sent(),[3,6];case 6:return[2]}})})}function zm(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:d=Be(a),v.label=1;case 1:return v.trys.push([1,4,,6]),[4,(b=d.localStore,C=s,T=Be(b),T.persistence.runTransaction("Reject batch","readwrite-primary",function(O){var P;return T._n.lookupMutationBatch(O,C).next(function(j){return at(null!==j),P=j.keys(),T._n.removeMutationBatch(O,j)}).next(function(){return T._n.performConsistencyCheck(O)}).next(function(){return T.Mn.pn(O,P)})}))];case 2:return g=v.sent(),Pf(d,s,l),td(d,s),d.sharedClientState.updateMutationState(s,"rejected",l),[4,su(d,g)];case 3:return v.sent(),[3,6];case 4:return[4,wl(v.sent())];case 5:return v.sent(),[3,6];case 6:return[2]}var b,C,T})})}function $m(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,v,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:hs((l=Be(a)).remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,(T=l.localStore,O=Be(T),O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(P){return O._n.getHighestUnacknowledgedBatchId(P)}))];case 2:return-1===(d=C.sent())?[2,void s.resolve()]:((g=l.ko.get(d)||[]).push(s),l.ko.set(d,g),[3,4]);case 3:return v=C.sent(),b=yc(v,"Initialization of waitForPendingWrites() operation failed"),s.reject(b),[3,4];case 4:return[2]}var T,O})})}function td(a,s){(a.ko.get(s)||[]).forEach(function(l){l.resolve()}),a.ko.delete(s)}function Pf(a,s,l){var d=Be(a),g=d.xo[d.currentUser.toKey()];if(g){var v=g.get(s);v&&(l?v.reject(l):v.resolve(),g=g.remove(s)),d.xo[d.currentUser.toKey()]=g}}function Eo(a,s,l){void 0===l&&(l=null),a.sharedClientState.removeLocalQueryTarget(s);for(var d=0,g=a.Vo.get(s);d<g.length;d++){var v=g[d];a.Po.delete(v),l&&a.vo.Mo(v,l)}a.Vo.delete(s),a.isPrimaryClient&&a.No.Zn(s).forEach(function(b){a.No.containsKey(b)||Co(a,b)})}function Co(a,s){a.So.delete(s.path.canonicalString());var l=a.Do.get(s);null!==l&&(vc(a.remoteStore,l),a.Do=a.Do.remove(s),a.Co.delete(l),Gm(a))}function Ff(a,s,l){for(var d=0,g=l;d<g.length;d++){var v=g[d];v instanceof Zh?(a.No.addReference(v.key,s),Lf(a,v)):v instanceof xf?(Se("SyncEngine","Document no longer in limbo: "+v.key),a.No.removeReference(v.key,s),a.No.containsKey(v.key)||Co(a,v.key)):we()}}function Lf(a,s){var l=s.key,d=l.path.canonicalString();a.Do.get(l)||a.So.has(d)||(Se("SyncEngine","New document in limbo: "+l),a.So.add(d),Gm(a))}function Gm(a){for(;a.So.size>0&&a.Do.size<a.maxConcurrentLimboResolutions;){var s=a.So.values().next().value;a.So.delete(s);var l=new Ue(Kt.fromString(s)),d=a.Fo.next();a.Co.set(d,new Rl(l)),a.Do=a.Do.insert(l,d),Df(a.remoteStore,new _l(pi(Th(l.path)),d,2,Jr.o))}}function su(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return d=Be(a),g=[],v=[],b=[],d.Po.isEmpty()?[3,3]:(d.Po.forEach(function(T,O){b.push(d.Oo(O,s,l).then(function(P){if(P){d.isPrimaryClient&&d.sharedClientState.updateQueryState(O.targetId,P.fromCache?"not-current":"current"),g.push(P);var j=ng.Pn(O.targetId,P);v.push(j)}}))}),[4,Promise.all(b)]);case 1:return C.sent(),d.vo._r(g),[4,function(T,O){return(0,I.mG)(this,void 0,void 0,function(){var P,j,q,J,ee,ue,Ie,ut;return(0,I.Jh)(this,function(yt){switch(yt.label){case 0:P=Be(T),yt.label=1;case 1:return yt.trys.push([1,3,,4]),[4,P.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(an){return De.forEach(O,function(hn){return De.forEach(hn.bn,function(En){return P.persistence.referenceDelegate.addReference(an,hn.targetId,En)}).next(function(){return De.forEach(hn.vn,function(En){return P.persistence.referenceDelegate.removeReference(an,hn.targetId,En)})})})})];case 2:return yt.sent(),[3,4];case 3:if(!uc(j=yt.sent()))throw j;return Se("LocalStore","Failed to update sequence numbers: "+j),[3,4];case 4:for(q=0,J=O;q<J.length;q++)ue=(ee=J[q]).targetId,ee.fromCache||(Ie=P.kn.get(ue),ut=Ie.withLastLimboFreeSnapshotVersion(Ie.snapshotVersion),P.kn=P.kn.insert(ue,ut));return[2]}})})}(d.localStore,v)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}function gg(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return(l=Be(a)).currentUser.isEqual(s)?[3,3]:(Se("SyncEngine","User change. New user:",s.toKey()),[4,ry(l.localStore,s)]);case 1:return d=g.sent(),l.currentUser=s,(v=l).ko.forEach(function(C){C.forEach(function(T){T.reject(new ge(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),v.ko.clear(),l.sharedClientState.handleUserChange(s,d.removedBatchIds,d.addedBatchIds),[4,su(l,d.Ln)];case 2:g.sent(),g.label=3;case 3:return[2]}var v})})}function kl(a,s){var l=Be(a),d=l.Co.get(s);if(d&&d.bo)return Bn().add(d.key);var g=Bn(),v=l.Vo.get(s);if(!v)return g;for(var b=0,C=v;b<C.length;b++){var O=l.Po.get(C[b]);g=g.unionWith(O.view.wo)}return g}function lo(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return[4,fc((l=Be(a)).localStore,s.query,!0)];case 1:return d=v.sent(),g=s.view.Ao(d),[2,(l.isPrimaryClient&&Ff(l,s.targetId,g.To),g)]}})})}function Bf(a){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){return[2,Vh((s=Be(a)).localStore).then(function(d){return su(s,d)})]})})}function mg(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return[4,(C=(g=Be(a)).localStore,T=s,O=Be(C),P=Be(O._n),O.persistence.runTransaction("Lookup mutation documents","readonly",function(j){return P.jt(j,T).next(function(q){return q?O.Mn.pn(j,q):De.resolve(null)})}))];case 1:return null===(v=b.sent())?[3,6]:"pending"!==l?[3,3]:[4,Al(g.remoteStore)];case 2:return b.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(Pf(g,s,d||null),td(g,s),function(C,T){Be(Be(C)._n).Gt(T)}(g.localStore,s)):we(),b.label=4;case 4:return[4,su(g,v)];case 5:return b.sent(),[3,7];case 6:Se("SyncEngine","Cannot apply mutation batch with id: "+s),b.label=7;case 7:return[2]}var C,T,O,P})})}function Wm(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,v,b,T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return xl(l=Be(a)),_c(l),!0!==s||!0===l.$o?[3,3]:(d=l.sharedClientState.getAllActiveQueryTargets(),[4,nd(l,d.toArray())]);case 1:return g=P.sent(),l.$o=!0,[4,Tf(l.remoteStore,!0)];case 2:for(P.sent(),v=0,b=g;v<b.length;v++)Df(l.remoteStore,b[v]);return[3,7];case 3:return!1!==s||!1===l.$o?[3,7]:(T=[],O=Promise.resolve(),l.Vo.forEach(function(j,q){l.sharedClientState.isLocalQueryTarget(q)?T.push(q):O=O.then(function(){return Eo(l,q),tu(l.localStore,q,!0)}),vc(l.remoteStore,q)}),[4,O]);case 4:return P.sent(),[4,nd(l,T)];case 5:return P.sent(),(q=Be(l)).Co.forEach(function(J,ee){vc(q.remoteStore,ee)}),q.No.ts(),q.Co=new Map,q.Do=new Wn(Ue.comparator),l.$o=!1,[4,Tf(l.remoteStore,!1)];case 6:P.sent(),P.label=7;case 7:return[2]}var q})})}function nd(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v,b,C,T,O,P,j,q,ee,ue,Ie;return(0,I.Jh)(this,function(Pe){switch(Pe.label){case 0:d=Be(a),g=[],v=[],b=0,C=s,Pe.label=1;case 1:return b<C.length?(O=void 0,(P=d.Vo.get(T=C[b]))&&0!==P.length?[4,eu(d.localStore,pi(P[0]))]:[3,7]):[3,13];case 2:O=Pe.sent(),j=0,q=P,Pe.label=3;case 3:return j<q.length?(ee=d.Po.get(q[j]),[4,lo(d,ee)]):[3,6];case 4:(ue=Pe.sent()).snapshot&&v.push(ue.snapshot),Pe.label=5;case 5:return j++,[3,3];case 6:return[3,11];case 7:return[4,gf(d.localStore,T)];case 8:return Ie=Pe.sent(),[4,eu(d.localStore,Ie)];case 9:return O=Pe.sent(),[4,ed(d,Vf(Ie),T,!1)];case 10:Pe.sent(),Pe.label=11;case 11:g.push(O),Pe.label=12;case 12:return b++,[3,1];case 13:return[2,(d.vo._r(v),g)]}})})}function Vf(a){return Np(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function rd(a){var s=Be(a);return Be(Be(s.localStore).persistence).fn()}function vg(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,v,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return(g=Be(a)).$o?(Se("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!g.Vo.has(s))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Vh(g.localStore)];case 3:return v=C.sent(),b=yo.createSynthesizedRemoteEventForCurrentChange(s,"current"===l),[4,su(g,v,b)];case 4:return C.sent(),[3,8];case 5:return[4,tu(g.localStore,s,!0)];case 6:return C.sent(),Eo(g,s,d),[3,8];case 7:we(),C.label=8;case 8:return[2]}})})}function yg(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,v,b,C,T,O,P,j;return(0,I.Jh)(this,function(J){switch(J.label){case 0:if(!(d=xl(a)).$o)return[3,10];g=0,v=s,J.label=1;case 1:return g<v.length?d.Vo.has(b=v[g])?(Se("SyncEngine","Adding an already active target "+b),[3,5]):[4,gf(d.localStore,b)]:[3,6];case 2:return C=J.sent(),[4,eu(d.localStore,C)];case 3:return T=J.sent(),[4,ed(d,Vf(C),T.targetId,!1)];case 4:J.sent(),Df(d.remoteStore,T),J.label=5;case 5:return g++,[3,1];case 6:O=function(ee){return(0,I.Jh)(this,function(ue){switch(ue.label){case 0:return d.Vo.has(ee)?[4,tu(d.localStore,ee,!1).then(function(){vc(d.remoteStore,ee),Eo(d,ee)}).catch(wl)]:[3,2];case 1:ue.sent(),ue.label=2;case 2:return[2]}})},P=0,j=l,J.label=7;case 7:return P<j.length?[5,O(j[P])]:[3,10];case 8:J.sent(),J.label=9;case 9:return P++,[3,7];case 10:return[2]}})})}function xl(a){var s=Be(a);return s.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=kl.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=qm.bind(null,s),s.vo._r=cy.bind(null,s.eventManager),s.vo.Mo=ly.bind(null,s.eventManager),s}function _c(a){var s=Be(a);return s.remoteStore.remoteSyncer.applySuccessfulWrite=pg.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=zm.bind(null,s),s}var Km=function(){function a(){this.synchronizeTabs=!1}return a.prototype.initialize=function(s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){switch(l.label){case 0:return this.R=Il(s.databaseInfo.databaseId),this.sharedClientState=this.Bo(s),this.persistence=this.qo(s),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(s),this.localStore=this.Ko(s),[2]}})})},a.prototype.Uo=function(s){return null},a.prototype.Ko=function(s){return Am(this.persistence,new Tm,s.initialUser,this.R)},a.prototype.qo=function(s){return new _f(la.bs,this.R)},a.prototype.Bo=function(s){return new ha},a.prototype.terminate=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return s.sent(),[4,this.persistence.shutdown()];case 2:return s.sent(),[2]}})})},a}(),bc=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).Qo=l,v.cacheSizeBytes=d,v.forceOwnership=g,v.synchronizeTabs=!1,v}return(0,I.ZT)(s,a),s.prototype.initialize=function(l){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return g.sent(),[4,iy(this.localStore)];case 2:return g.sent(),[4,this.Qo.initialize(this,l)];case 3:return g.sent(),[4,_c(this.Qo.syncEngine)];case 4:return g.sent(),[4,Al(this.Qo.remoteStore)];case 5:return g.sent(),[4,this.persistence.He(function(){return d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(d.localStore),Promise.resolve()})];case 6:return g.sent(),[2]}})})},s.prototype.Ko=function(l){return Am(this.persistence,new Tm,l.initialUser,this.R)},s.prototype.Uo=function(l){return new Qp(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},s.prototype.qo=function(l){var d=El(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),g=void 0!==this.cacheSizeBytes?Po.withCacheSize(this.cacheSizeBytes):Po.DEFAULT;return new In(this.synchronizeTabs,d,l.clientId,g,l.asyncQueue,Sl(),wo(),this.R,this.sharedClientState,!!this.forceOwnership)},s.prototype.Bo=function(l){return new ha},s}(Km),bg=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d,!1)||this).Qo=l,g.cacheSizeBytes=d,g.synchronizeTabs=!0,g}return(0,I.ZT)(s,a),s.prototype.initialize=function(l){return(0,I.mG)(this,void 0,void 0,function(){var d,g=this;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return v.sent(),d=this.Qo.syncEngine,this.sharedClientState instanceof mc?(this.sharedClientState.syncEngine={ui:mg.bind(null,d),ai:vg.bind(null,d),hi:yg.bind(null,d),fn:rd.bind(null,d),ci:Bf.bind(null,d)},[4,this.sharedClientState.start()]):[3,3];case 2:v.sent(),v.label=3;case 3:return[4,this.persistence.He(function(b){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return[4,Wm(this.Qo.syncEngine,b)];case 1:return C.sent(),this.gcScheduler&&(b&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):b||this.gcScheduler.stop()),[2]}})})})];case 4:return v.sent(),[2]}})})},s.prototype.Bo=function(l){var d=Sl();if(!mc.yt(d))throw new ge(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var g=El(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new mc(d,l.asyncQueue,g,l.clientId,l.initialUser)},s}(bc),Ol=function(){function a(){}return a.prototype.initialize=function(s,l){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return this.localStore?[3,2]:(this.localStore=s.localStore,this.sharedClientState=s.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!s.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(v){return fg(d.syncEngine,v,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gg.bind(null,this.syncEngine),[4,Tf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:g.sent(),g.label=2;case 2:return[2]}})})},a.prototype.createEventManager=function(s){return new uy},a.prototype.createDatastore=function(s){var d=Il(s.databaseInfo.databaseId),g=new sy(s.databaseInfo);return new qh(s.credentials,g,d)},a.prototype.createRemoteStore=function(s){var l,d,g,v,b,C=this;return l=this.localStore,d=this.datastore,g=s.asyncQueue,v=function(T){return fg(C.syncEngine,T,0)},b=Ef.yt()?new Ef:new Nm,new ug(l,d,g,v,b)},a.prototype.createSyncEngine=function(s,l){return O=l,P=new jm(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions),O&&(P.$o=!0),P;var O,P},a.prototype.terminate=function(){return function(s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l=Be(s),Se("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,ls(l)];case 1:return d.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},a}(),ds=function(){function a(s){this.observer=s,this.muted=!1}return a.prototype.next=function(s){this.observer.next&&this.jo(this.observer.next,s)},a.prototype.error=function(s){this.observer.error?this.jo(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)},a.prototype.Wo=function(){this.muted=!0},a.prototype.jo=function(s,l){var d=this;this.muted||setTimeout(function(){d.muted||s(l)},0)},a}(),hy=(function(){function a(s,l){var d=this;this.Go=s,this.R=l,this.metadata=new Kn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(g){g&&g.io()?d.metadata.resolve(g.payload.metadata):d.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(g?.payload)))},function(g){return d.metadata.reject(g)})}a.prototype.close=function(){return this.Go.cancel()},a.prototype.getMetadata=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return[2,this.metadata.promise]})})},a.prototype.Lo=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getMetadata()];case 1:return[2,(s.sent(),this.Ho())]}})})},a.prototype.Ho=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return[4,this.Jo()];case 1:return null===(s=v.sent())?[2,null]:(l=this.zo.decode(s),d=Number(l),isNaN(d)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(d)]);case 2:return g=v.sent(),[2,new Vm(JSON.parse(g),s.length+d)]}})})},a.prototype.Zo=function(){return this.buffer.findIndex(function(s){return s==="{".charCodeAt(0)})},a.prototype.Jo=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(d.sent())return[3,3];d.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((s=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,s),[2,(this.buffer=this.buffer.slice(s),l)])}})})},a.prototype.Xo=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.buffer.length<s?[4,this.tc()]:[3,3];case 1:d.sent()&&this.Yo("Reached the end of bundle when more is expected."),d.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,s)),[2,(this.buffer=this.buffer.slice(s),l)]}})})},a.prototype.Yo=function(s){throw this.Go.cancel(),new Error("Invalid bundle format: "+s)},a.prototype.tc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Go.read()];case 1:return(s=d.sent()).done||((l=new Uint8Array(this.buffer.length+s.value.length)).set(this.buffer),l.set(s.value,this.buffer.length),this.buffer=l),[2,s.done]}})})}}(),function(){function a(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a.prototype.lookup=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l,d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ge(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(v,b){return(0,I.mG)(this,void 0,void 0,function(){var C,T,O,P,j,q;return(0,I.Jh)(this,function(J){switch(J.label){case 0:return C=Be(v),T=Ps(C.R)+"/documents",O={documents:b.map(function(ee){return Nh(C.R,ee)})},[4,C.$i("BatchGetDocuments",T,O)];case 1:return P=J.sent(),j=new Map,P.forEach(function(ee){var Ie,Pe,ue=(Ie=C.R,"found"in(Pe=ee)?function(ut,yt){at(!!yt.found);var an=ss(ut,yt.found.name),hn=jr(yt.found.updateTime),En=new fi({mapValue:{fields:yt.found.fields}});return Sn.newFoundDocument(an,hn,En)}(Ie,Pe):"missing"in Pe?function(ut,yt){at(!!yt.missing),at(!!yt.readTime);var an=ss(ut,yt.missing),hn=jr(yt.readTime);return Sn.newNoDocument(an,hn)}(Ie,Pe):we());j.set(ue.key.toString(),ue)}),q=[],[2,(b.forEach(function(ee){var ue=j.get(ee.toString());at(!!ue),q.push(ue)}),q)]}})})}(this.datastore,s)];case 1:return[2,((l=g.sent()).forEach(function(v){return d.recordVersion(v)}),l)]}})})},a.prototype.set=function(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.update=function(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(s.toString())},a.prototype.delete=function(s){this.write(new os(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.commit=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l=this;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return s=this.readVersions,this.mutations.forEach(function(g){s.delete(g.key.toString())}),s.forEach(function(g,v){var b=Ue.fromPath(v);l.mutations.push(new Qu(b,l.precondition(b)))}),[4,function(g,v){return(0,I.mG)(this,void 0,void 0,function(){var b,C,T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return b=Be(g),C=Ps(b.R)+"/documents",T={writes:v.map(function(P){return ia(b.R,P)})},[4,b.Ni("Commit",C,T)];case 1:return O.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return d.sent(),this.committed=!0,[2]}})})},a.prototype.recordVersion=function(s){var l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw we();l=re.min()}var d=this.readVersions.get(s.key.toString());if(d){if(!l.isEqual(d))throw new ge(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)},a.prototype.precondition=function(s){var l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?Dr.updateTime(l):Dr.none()},a.prototype.preconditionForUpdate=function(s){var l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(re.min()))throw new ge(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(l)}return Dr.exists(!0)},a.prototype.write=function(s){this.ensureCommitNotCalled(),this.mutations.push(s)},a.prototype.ensureCommitNotCalled=function(){},a}()),jf=function(){function a(s,l,d,g){this.asyncQueue=s,this.datastore=l,this.updateFunction=d,this.deferred=g,this.ec=5,this.Zi=new nu(this.asyncQueue,"transaction_retry")}return a.prototype.run=function(){this.ec-=1,this.nc()},a.prototype.nc=function(){var s=this;this.Zi.ji(function(){return(0,I.mG)(s,void 0,void 0,function(){var l,d,g=this;return(0,I.Jh)(this,function(v){return l=new hy(this.datastore),(d=this.sc(l))&&d.then(function(b){g.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){g.deferred.resolve(b)}).catch(function(C){g.ic(C)})})}).catch(function(b){g.ic(b)}),[2]})})})},a.prototype.sc=function(s){try{var l=this.updateFunction(s);return!io(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.deferred.reject(d),null}},a.prototype.ic=function(s){var l=this;this.ec>0&&this.rc(s)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(s)},a.prototype.rc=function(s){if("FirebaseError"===s.name){var l=s.code;return"aborted"===l||"failed-precondition"===l||!Le(l)}return!1},a}(),Cg=function(){function a(s,l,d){var g=this;this.credentials=s,this.asyncQueue=l,this.databaseInfo=d,this.user=Nr.UNAUTHENTICATED,this.clientId=ei.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(v){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(b){switch(b.label){case 0:return Se("FirestoreClient","Received user=",v.uid),[4,this.credentialListener(v)];case 1:return b.sent(),this.user=v,[2]}})})})}return a.prototype.getConfiguration=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},a.prototype.setCredentialChangeListener=function(s){this.credentialListener=s},a.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.terminate=function(){var s=this;this.asyncQueue.enterRestrictedMode();var l=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(s,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return v.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:v.sent(),v.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:v.sent(),v.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return d=v.sent(),g=yc(d,"Failed to shutdown persistence"),l.reject(g),[3,6];case 6:return[2]}})})}),l.promise},a}();function Ym(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g=this;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return a.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider"),[4,a.getConfiguration()];case 1:return l=v.sent(),[4,s.initialize(l)];case 2:return v.sent(),d=l.initialUser,a.setCredentialChangeListener(function(b){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return d.isEqual(b)?[3,2]:[4,ry(s.localStore,b)];case 1:C.sent(),d=b,C.label=2;case 2:return[2]}})})}),s.persistence.setDatabaseDeletedListener(function(){return a.terminate()}),a.offlineComponents=s,[2]}})})}function Uf(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return a.asyncQueue.verifyOperationInProgress(),[4,Nl(a)];case 1:return l=g.sent(),Se("FirestoreClient","Initializing OnlineComponentProvider"),[4,a.getConfiguration()];case 2:return d=g.sent(),[4,s.initialize(l,d)];case 3:return g.sent(),a.setCredentialChangeListener(function(v){return function(b,C){return(0,I.mG)(this,void 0,void 0,function(){var T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return(T=Be(b)).asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials"),O=hs(T),T.Or.add(3),[4,ls(T)];case 1:return P.sent(),O&&T.Br.set("Unknown"),[4,T.remoteSyncer.handleCredentialChange(C)];case 2:return P.sent(),T.Or.delete(3),[4,zh(T)];case 3:return P.sent(),[2]}})})}(s.remoteStore,v)}),a.onlineComponents=s,[2]}})})}function Nl(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return a.offlineComponents?[3,2]:(Se("FirestoreClient","Using default OfflineComponentProvider"),[4,Ym(a,new Km)]);case 1:s.sent(),s.label=2;case 2:return[2,a.offlineComponents]}})})}function wc(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return a.onlineComponents?[3,2]:(Se("FirestoreClient","Using default OnlineComponentProvider"),[4,Uf(a,new Ol)]);case 1:s.sent(),s.label=2;case 2:return[2,a.onlineComponents]}})})}function Hf(a){return Nl(a).then(function(s){return s.persistence})}function id(a){return Nl(a).then(function(s){return s.localStore})}function Xm(a){return wc(a).then(function(s){return s.remoteStore})}function Pl(a){return wc(a).then(function(s){return s.syncEngine})}function Ec(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return[4,wc(a)];case 1:return s=d.sent(),[2,((l=s.eventManager).onListen=Um.bind(null,s.syncEngine),l.onUnlisten=Of.bind(null,s.syncEngine),l)]}})})}function Dg(a,s,l){var d=this;void 0===l&&(l={});var g=new Kn;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(d,void 0,void 0,function(){var v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return v=function(C,T,O,P,j){var q=new ds({next:function(ee){T.enqueueAndForget(function(){return ou(C,J)});var ue=ee.docs.has(O);!ue&&ee.fromCache?j.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&ee.fromCache&&P&&"server"===P.source?j.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(ee)},error:function(ee){return j.reject(ee)}}),J=new Qh(Th(O.path),q,{includeMetadataChanges:!0,so:!0});return Mf(C,J)},[4,Ec(a)];case 1:return[2,v.apply(void 0,[b.sent(),a.asyncQueue,s,l,g])]}})})}),g.promise}function Pr(a,s,l){var d=this;void 0===l&&(l={});var g=new Kn;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(d,void 0,void 0,function(){var v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return v=function(C,T,O,P,j){var q=new ds({next:function(ee){T.enqueueAndForget(function(){return ou(C,J)}),ee.fromCache&&"server"===P.source?j.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(ee)},error:function(ee){return j.reject(ee)}}),J=new Qh(O,q,{includeMetadataChanges:!0,so:!0});return Mf(C,J)},[4,Ec(a)];case 1:return[2,v.apply(void 0,[b.sent(),a.asyncQueue,s,l,g])]}})})}),g.promise}var qf=function(a,s,l,d,g,v,b,C){this.databaseId=a,this.appId=s,this.persistenceKey=l,this.host=d,this.ssl=g,this.forceLongPolling=v,this.autoDetectLongPolling=b,this.useFetchStreams=C},Cc=function(){function a(s,l){this.projectId=s,this.database=l||"(default)"}return Object.defineProperty(a.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return s instanceof a&&s.projectId===this.projectId&&s.database===this.database},a}(),zf=new Map,od=function(a,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+a},Dc=function(){function a(){this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){this.changeListener=l,s.enqueueRetryable(function(){return l(Nr.UNAUTHENTICATED)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),Sg=function(){function a(s){this.token=s,this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(this.token)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){var d=this;this.changeListener=l,s.enqueueRetryable(function(){return l(d.token.user)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),Qm=function(){function a(s){var l=this;this.currentUser=Nr.UNAUTHENTICATED,this.oc=new Kn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var d=function(g){Se("FirebaseCredentialsProvider","Auth detected"),l.auth=g,l.auth.addAuthTokenListener(l.uc)};s.onInit(function(g){return d(g)}),setTimeout(function(){if(!l.auth){var g=s.getImmediate({optional:!0});g?d(g):(Se("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return a.prototype.getToken=function(){var s=this,l=this.cc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(g){return s.cc!==l?(Se("FirebaseCredentialsProvider","getToken aborted due to token change."),s.getToken()):g?(at("string"==typeof g.accessToken),new od(g.accessToken,s.currentUser)):null}):Promise.resolve(null)},a.prototype.invalidateToken=function(){this.forceRefresh=!0},a.prototype.setChangeListener=function(s,l){var d=this;this.asyncQueue=s,this.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(d,void 0,void 0,function(){return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,this.oc.promise];case 1:return g.sent(),[4,l(this.currentUser)];case 2:return g.sent(),this.changeListener=l,[2]}})})})},a.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},a.prototype.ac=function(){var s=this.auth&&this.auth.getUid();return at(null===s||"string"==typeof s),new Nr(s)},a}(),Ig=function(){function a(s,l,d){this.hc=s,this.lc=l,this.fc=d,this.type="FirstParty",this.user=Nr.FIRST_PARTY}return Object.defineProperty(a.prototype,"authHeaders",{get:function(){var s={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(s.Authorization=l),this.fc&&(s["X-Goog-Iam-Authorization-Token"]=this.fc),s},enumerable:!1,configurable:!0}),a}(),$f=function(){function a(s,l,d){this.hc=s,this.lc=l,this.fc=d}return a.prototype.getToken=function(){return Promise.resolve(new Ig(this.hc,this.lc,this.fc))},a.prototype.setChangeListener=function(s,l){s.enqueueRetryable(function(){return l(Nr.FIRST_PARTY)})},a.prototype.removeChangeListener=function(){},a.prototype.invalidateToken=function(){},a}();function Sc(a,s,l){if(!l)throw new ge(ie.INVALID_ARGUMENT,"Function "+a+"() cannot be called with an empty "+s+".")}function Gf(a,s){if(void 0===s)return{merge:!1};if(void 0!==s.mergeFields&&void 0!==s.merge)throw new ge(ie.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');return s}function fs(a,s,l,d){if(!0===s&&!0===d)throw new ge(ie.INVALID_ARGUMENT,a+" and "+l+" cannot be used together.")}function da(a){if(!Ue.isDocumentKey(a))throw new ge(ie.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a+" has "+a.length+".")}function Wf(a){if(Ue.isDocumentKey(a))throw new ge(ie.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+a+" has "+a.length+".")}function Ic(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var s=function(l){if(l.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(d&&d.length>1)return d[1]}return null}(a);return s?"a custom "+s+" object":"an object"}return"function"==typeof a?"a function":we()}function ln(a,s){if("_delegate"in a&&(a=a._delegate),!(a instanceof s)){if(s.name===a.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=Ic(a);throw new ge(ie.INVALID_ARGUMENT,"Expected type '"+s.name+"', but it was: "+l)}return a}function Fl(a,s){if(s<=0)throw new ge(ie.INVALID_ARGUMENT,"Function "+a+"() requires a positive number, but it was: "+s+".")}var au=function(){function a(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,fs("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams},a}(),Ll=function(){function a(s,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new au({}),this._settingsFrozen=!1,s instanceof Cc?(this._databaseId=s,this._credentials=new Dc):(this._app=s,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(d.options.projectId)}(s),this._credentials=new Qm(l))}return Object.defineProperty(a.prototype,"app",{get:function(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),a.prototype._setSettings=function(s){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new au(s),void 0!==s.credentials&&(this._credentials=function(l){if(!l)return new Dc;switch(l.type){case"gapi":var d=l.client;return at(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new $f(d,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},a.prototype._getSettings=function(){return this._settings},a.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},a.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},a.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},a.prototype._terminate=function(){return(l=zf.get(this))&&(Se("ComponentProvider","Removing Datastore"),zf.delete(this),l.terminate()),Promise.resolve();var l},a}(),Tn=function(){function a(s,l,d){this.converter=l,this._key=d,this.type="document",this.firestore=s}return Object.defineProperty(a.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new Vs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),a.prototype.withConverter=function(s){return new a(this.firestore,s,this._key)},a}(),vi=function(){function a(s,l,d){this.converter=l,this._query=d,this.type="query",this.firestore=s}return a.prototype.withConverter=function(s){return new a(this.firestore,s,this._query)},a}(),Vs=function(a){function s(l,d,g){var v=this;return(v=a.call(this,l,d,Th(g))||this)._path=g,v.type="collection",v}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new Tn(this.firestore,null,new Ue(l))},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(l){return new s(this.firestore,l,this._path)},s}(vi);function Lo(a,s){for(var l,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(a=(0,ze.m9)(a),Sc("collection","path",s),a instanceof Ll)return Wf(l=Kt.fromString.apply(Kt,(0,I.ev)([s],d))),new Vs(a,null,l);if(!(a instanceof Tn||a instanceof Vs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wf(l=Kt.fromString.apply(Kt,(0,I.ev)([a.path],d)).child(Kt.fromString(s))),new Vs(a.firestore,null,l)}function Bl(a,s){for(var l,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(a=(0,ze.m9)(a),1===arguments.length&&(s=ei.u()),Sc("doc","path",s),a instanceof Ll)return da(l=Kt.fromString.apply(Kt,(0,I.ev)([s],d))),new Tn(a,null,new Ue(l));if(!(a instanceof Tn||a instanceof Vs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return da(l=a._path.child(Kt.fromString.apply(Kt,(0,I.ev)([s],d)))),new Tn(a.firestore,a instanceof Vs?a.converter:null,new Ue(l))}function Tg(a,s){return a=(0,ze.m9)(a),s=(0,ze.m9)(s),(a instanceof Tn||a instanceof Vs)&&(s instanceof Tn||s instanceof Vs)&&a.firestore===s.firestore&&a.path===s.path&&a.converter===s.converter}function Kf(a,s){return a=(0,ze.m9)(a),s=(0,ze.m9)(s),a instanceof vi&&s instanceof vi&&a.firestore===s.firestore&&Rh(a._query,s._query)&&a.converter===s.converter}var Vl=function(){function a(){var s=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new nu(this,"async_queue_retry"),this.Ic=function(){var d=wo();d&&Se("AsyncQueue","Visibility state changed to "+d.visibilityState),s.Zi.Gi()};var l=wo();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(a.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),a.prototype.enqueueAndForget=function(s){this.enqueue(s)},a.prototype.enqueueAndForgetEvenWhileRestricted=function(s){this.Ac(),this.Rc(s)},a.prototype.enterRestrictedMode=function(s){if(!this._c){this._c=!0,this.Ec=s||!1;var l=wo();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},a.prototype.enqueue=function(s){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var d=new Kn;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(s().then(d.resolve,d.reject),d.promise)}).then(function(){return d.promise})},a.prototype.enqueueRetryable=function(s){var l=this;this.enqueueAndForget(function(){return l.wc.push(s),l.bc()})},a.prototype.bc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l=this;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(0===this.wc.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return d.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!uc(s=d.sent()))throw s;return Se("AsyncQueue","Operation failed with retryable error: "+s),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),d.label=5;case 5:return[2]}})})},a.prototype.Rc=function(s){var l=this,d=this.dc.then(function(){return l.gc=!0,s().catch(function(g){throw l.yc=g,l.gc=!1,Ln("INTERNAL UNHANDLED ERROR: ",(b=(v=g).message||"",v.stack&&(b=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),b)),g;var v,b}).then(function(g){return l.gc=!1,g})});return this.dc=d,d},a.prototype.enqueueAfterDelay=function(s,l,d){var g=this;this.Ac(),this.Tc.indexOf(s)>-1&&(l=0);var v=hg.createAndSchedule(this,s,l,d,function(b){return g.vc(b)});return this.mc.push(v),v},a.prototype.Ac=function(){this.yc&&we()},a.prototype.verifyOperationInProgress=function(){},a.prototype.Pc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){switch(l.label){case 0:return[4,s=this.dc];case 1:l.sent(),l.label=2;case 2:if(s!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},a.prototype.Vc=function(s){for(var l=0,d=this.mc;l<d.length;l++)if(d[l].timerId===s)return!0;return!1},a.prototype.Sc=function(s){var l=this;return this.Pc().then(function(){l.mc.sort(function(b,C){return b.targetTimeMs-C.targetTimeMs});for(var d=0,g=l.mc;d<g.length;d++){var v=g[d];if(v.skipDelay(),"all"!==s&&v.timerId===s)break}return l.Pc()})},a.prototype.Dc=function(s){this.Tc.push(s)},a.prototype.vc=function(s){var l=this.mc.indexOf(s);this.mc.splice(l,1)},a}();function Tc(a){return function(s,l){if("object"!=typeof s||null===s)return!1;for(var d=s,g=0,v=["next","error","complete"];g<v.length;g++){var b=v[g];if(b in d&&"function"==typeof d[b])return!0}return!1}(a)}!function(){function a(){this._progressObserver={},this._taskCompletionResolver=new Kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}a.prototype.onProgress=function(s,l,d){this._progressObserver={next:s,error:l,complete:d}},a.prototype.catch=function(s){return this._taskCompletionResolver.promise.catch(s)},a.prototype.then=function(s,l){return this._taskCompletionResolver.promise.then(s,l)},a.prototype._completeWith=function(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)},a.prototype._failWith=function(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)},a.prototype._updateProgress=function(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}();var gr=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this).type="firestore",g._queue=new Vl,g._persistenceKey="name"in l?l.name:"[DEFAULT]",g}return(0,I.ZT)(s,a),s.prototype._terminate=function(){return this._firestoreClient||Jm(this),this._firestoreClient.terminate()},s}(Ll);function At(a){return a._firestoreClient||Jm(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Jm(a){var s,v,C,l=a._freezeSettings(),d=(v=(null===(s=a._app)||void 0===s?void 0:s.options.appId)||"",new qf(a._databaseId,v,a._persistenceKey,(C=l).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));a._firestoreClient=new Cg(a._credentials,a._queue,d)}function Yf(a,s,l){var d=this,g=new Kn;return a.asyncQueue.enqueue(function(){return(0,I.mG)(d,void 0,void 0,function(){var v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,Ym(a,l)];case 1:return b.sent(),[4,Uf(a,s)];case 2:return b.sent(),g.resolve(),[3,4];case 3:if(!("FirebaseError"===(C=v=b.sent()).name?C.code===ie.FAILED_PRECONDITION||C.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw v;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+v),g.reject(v),[3,4];case 4:return[2]}var C})})}).then(function(){return g.promise})}function ev(a){if(a._initialized||a._terminated)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var js=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var d=0;d<s.length;++d)if(0===s[d].length)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(s)}return a.prototype.isEqual=function(s){return this._internalPath.isEqual(s._internalPath)},a}(),Ac=function(){function a(s){this._byteString=s}return a.fromBase64String=function(s){try{return new a(Vr.fromBase64String(s))}catch(l){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},a.fromUint8Array=function(s){return new a(Vr.fromUint8Array(s))},a.prototype.toBase64=function(){return this._byteString.toBase64()},a.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(s){return this._byteString.isEqual(s._byteString)},a}(),fa=function(a){this._methodName=a},jl=function(){function a(s,l){if(!isFinite(s)||s<-90||s>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this._lat===s._lat&&this._long===s._long},a.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},a.prototype._compareTo=function(s){return Qe(this._lat,s._lat)||Qe(this._long,s._long)},a}(),dy=/^__.*__$/,Mg=function(){function a(s,l,d){this.data=s,this.fieldMask=l,this.fieldTransforms=d}return a.prototype.toMutation=function(s,l){return null!==this.fieldMask?new Jn(s,this.data,this.fieldMask,l,this.fieldTransforms):new Xu(s,this.data,l,this.fieldTransforms)},a}(),Xf=function(){function a(s,l,d){this.data=s,this.fieldMask=l,this.fieldTransforms=d}return a.prototype.toMutation=function(s,l){return new Jn(s,this.data,this.fieldMask,l,this.fieldTransforms)},a}();function Mt(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var ir=function(){function a(s,l,d,g,v,b){this.settings=s,this.databaseId=l,this.R=d,this.ignoreUndefinedProperties=g,void 0===v&&this.Cc(),this.fieldTransforms=v||[],this.fieldMask=b||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),a.prototype.xc=function(s){return new a(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},a.prototype.kc=function(s){var l,d=null===(l=this.path)||void 0===l?void 0:l.child(s),g=this.xc({path:d,Fc:!1});return g.$c(s),g},a.prototype.Oc=function(s){var l,d=null===(l=this.path)||void 0===l?void 0:l.child(s),g=this.xc({path:d,Fc:!1});return g.Cc(),g},a.prototype.Mc=function(s){return this.xc({path:void 0,Fc:!0})},a.prototype.Lc=function(s){return xg(s,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},a.prototype.contains=function(s){return void 0!==this.fieldMask.find(function(l){return s.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return s.isPrefixOf(l.field)})},a.prototype.Cc=function(){if(this.path)for(var s=0;s<this.path.length;s++)this.$c(this.path.get(s))},a.prototype.$c=function(s){if(0===s.length)throw this.Lc("Document fields must not be empty");if(Mt(this.Nc)&&dy.test(s))throw this.Lc('Document fields cannot begin and end with "__"')},a}(),ps=function(){function a(s,l,d){this.databaseId=s,this.ignoreUndefinedProperties=l,this.R=d||Il(s)}return a.prototype.Uc=function(s,l,d,g){return void 0===g&&(g=!1),new ir({Nc:s,methodName:l,qc:d,path:Cr.emptyPath(),Fc:!1,Bc:g},this.databaseId,this.R,this.ignoreUndefinedProperties)},a}();function uu(a){var s=a._freezeSettings(),l=Il(a._databaseId);return new ps(a._databaseId,!!s.ignoreUndefinedProperties,l)}function sd(a,s,l,d,g,v){void 0===v&&(v={});var b=a.Uc(v.merge||v.mergeFields?2:0,s,l,g);ud("Data must be an object, but it was:",b,d);var C,T,O=rv(d,b);if(v.merge)C=new Ui(b.fieldMask),T=b.fieldTransforms;else if(v.mergeFields){for(var P=[],j=0,q=v.mergeFields;j<q.length;j++){var J=cu(s,q[j],l);if(!b.contains(J))throw new ge(ie.INVALID_ARGUMENT,"Field '"+J+"' is specified in your field mask but missing from your input data.");lu(P,J)||P.push(J)}C=new Ui(P),T=b.fieldTransforms.filter(function(ee){return C.covers(ee.field)})}else C=null,T=b.fieldTransforms;return new Mg(new fi(O),C,T)}var Qf=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},s.prototype.isEqual=function(l){return l instanceof s},s}(fa);function Zf(a,s,l){return new ir({Nc:3,qc:s.settings.qc,methodName:a._methodName,Fc:l},s.databaseId,s.R,s.ignoreUndefinedProperties)}var Ul=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){return new ns(l.path,new ti)},s.prototype.isEqual=function(l){return l instanceof s},s}(fa),Bo=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Kc=d,g}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=Zf(this,l,!0),g=this.Kc.map(function(b){return qn(b,d)}),v=new ts(g);return new ns(l.path,v)},s.prototype.isEqual=function(l){return this===l},s}(fa),tv=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Kc=d,g}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=Zf(this,l,!0),g=this.Kc.map(function(b){return qn(b,d)}),v=new ta(g);return new ns(l.path,v)},s.prototype.isEqual=function(l){return this===l},s}(fa),nv=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Qc=d,g}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=new Ga(l.R,go(l.R,this.Qc));return new ns(l.path,d)},s.prototype.isEqual=function(l){return this===l},s}(fa);function Rg(a,s,l,d){var g=a.Uc(1,s,l);ud("Data must be an object, but it was:",g,d);var v=[],b=fi.empty();xr(d,function(T,O){var P=iv(s,T,l);O=(0,ze.m9)(O);var j=g.Oc(P);if(O instanceof Qf)v.push(P);else{var q=qn(O,j);null!=q&&(v.push(P),b.set(P,q))}});var C=new Ui(v);return new Xf(b,C,g.fieldTransforms)}function Jf(a,s,l,d,g,v){var b=a.Uc(1,s,l),C=[cu(s,d,l)],T=[g];if(v.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,"Function "+s+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var O=0;O<v.length;O+=2)C.push(cu(s,v[O])),T.push(v[O+1]);for(var P=[],j=fi.empty(),q=C.length-1;q>=0;--q)if(!lu(P,C[q])){var J=C[q],ee=T[q];ee=(0,ze.m9)(ee);var ue=b.Oc(J);if(ee instanceof Qf)P.push(J);else{var Ie=qn(ee,ue);null!=Ie&&(P.push(J),j.set(J,Ie))}}var Pe=new Ui(P);return new Xf(j,Pe,b.fieldTransforms)}function kg(a,s,l,d){return void 0===d&&(d=!1),qn(l,a.Uc(d?4:3,s))}function qn(a,s){if(ad(a=(0,ze.m9)(a)))return ud("Unsupported field value:",s,a),rv(a,s);if(a instanceof fa)return function(l,d){if(!Mt(d.Nc))throw d.Lc(l._methodName+"() can only be used with update() and set()");if(!d.path)throw d.Lc(l._methodName+"() is not currently supported inside arrays");var g=l._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(a,s),null;if(void 0===a&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),a instanceof Array){if(s.settings.Fc&&4!==s.Nc)throw s.Lc("Nested arrays are not supported");return function(l,d){for(var g=[],v=0,b=0,C=l;b<C.length;b++){var T=qn(C[b],d.Mc(v));null==T&&(T={nullValue:"NULL_VALUE"}),g.push(T),v++}return{arrayValue:{values:g}}}(a,s)}return function(l,d){if(null===(l=(0,ze.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return go(d.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var g=hi.fromDate(l);return{timestampValue:Ns(d.R,g)}}if(l instanceof hi)return g=new hi(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:Ns(d.R,g)};if(l instanceof jl)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Ac)return{bytesValue:jp(d.R,l._byteString)};if(l instanceof Tn){var v=l.firestore._databaseId;if(!v.isEqual(g=d.databaseId))throw d.Lc("Document reference is for database "+v.projectId+"/"+v.database+" but should be for database "+g.projectId+"/"+g.database);return{referenceValue:Oh(l.firestore._databaseId||d.databaseId,l._key.path)}}throw d.Lc("Unsupported field value: "+Ic(l))}(a,s)}function rv(a,s){var l={};return ko(a)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):xr(a,function(d,g){var v=qn(g,s.kc(d));null!=v&&(l[d]=v)}),{mapValue:{fields:l}}}function ad(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof hi||a instanceof jl||a instanceof Ac||a instanceof Tn||a instanceof fa)}function ud(a,s,l){if(!ad(l)||"object"!=typeof(g=l)||null===g||Object.getPrototypeOf(g)!==Object.prototype&&null!==Object.getPrototypeOf(g)){var d=Ic(l);throw s.Lc("an object"===d?a+" a custom object":a+" "+d)}var g}function cu(a,s,l){if((s=(0,ze.m9)(s))instanceof js)return s._internalPath;if("string"==typeof s)return iv(a,s);throw xg("Field path arguments must be of type string or FieldPath.",a,!1,void 0,l)}var __=new RegExp("[~\\*/\\[\\]]");function iv(a,s,l){if(s.search(__)>=0)throw xg("Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'",a,!1,void 0,l);try{return(new(js.bind.apply(js,(0,I.ev)([void 0],s.split(".")))))._internalPath}catch{throw xg("Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",a,!1,void 0,l)}}function xg(a,s,l,d,g){var v=d&&!d.isEmpty(),b=void 0!==g,C="Function "+s+"() called with invalid data";l&&(C+=" (via `toFirestore()`)");var T="";return(v||b)&&(T+=" (found",v&&(T+=" in field "+d),b&&(T+=" in document "+g),T+=")"),new ge(ie.INVALID_ARGUMENT,(C+=". ")+a+T)}function lu(a,s){return a.some(function(l){return l.isEqual(s)})}var vn=function(){function a(s,l,d,g,v){this._firestore=s,this._userDataWriter=l,this._key=d,this._document=g,this._converter=v}return Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new Tn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),a.prototype.exists=function(){return null!==this._document},a.prototype.data=function(){if(this._document){if(this._converter){var s=new Ht(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}},a.prototype.get=function(s){if(this._document){var l=this._document.data.field(Mc("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}},a}(),Ht=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(){return a.prototype.data.call(this)},s}(vn);function Mc(a,s){return"string"==typeof s?iv(a,s):s instanceof js?s._internalPath:s._delegate._internalPath}var xi=function(){function a(s,l){this.hasPendingWrites=s,this.fromCache=l}return a.prototype.isEqual=function(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache},a}(),pa=function(a){function s(l,d,g,v,b,C){var T=this;return(T=a.call(this,l,d,g,v,C)||this)._firestore=l,T._firestoreImpl=l,T.metadata=b,T}return(0,I.ZT)(s,a),s.prototype.exists=function(){return a.prototype.exists.call(this)},s.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var d=new zn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(d,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},s.prototype.get=function(l,d){if(void 0===d&&(d={}),this._document){var g=this._document.data.field(Mc("DocumentSnapshot.get",l));if(null!==g)return this._userDataWriter.convertValue(g,d.serverTimestamps)}},s}(vn),zn=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(l){return void 0===l&&(l={}),a.prototype.data.call(this,l)},s}(pa),Gi=function(){function a(s,l,d,g){this._firestore=s,this._userDataWriter=l,this._snapshot=g,this.metadata=new xi(g.hasPendingWrites,g.fromCache),this.query=d}return Object.defineProperty(a.prototype,"docs",{get:function(){var s=[];return this.forEach(function(l){return s.push(l)}),s},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s,l){var d=this;this._snapshot.docs.forEach(function(g){s.call(l,new zn(d._firestore,d._userDataWriter,g.key,g,new xi(d._snapshot.mutatedKeys.has(g.key),d._snapshot.fromCache),d.query.converter))})},a.prototype.docChanges=function(s){void 0===s&&(s={});var l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){var v=0;return d._snapshot.docChanges.map(function(C){return{type:"added",doc:new zn(d._firestore,d._userDataWriter,C.doc.key,C.doc,new xi(d._snapshot.mutatedKeys.has(C.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:v++}})}var b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(function(C){return g||3!==C.type}).map(function(C){var T=new zn(d._firestore,d._userDataWriter,C.doc.key,C.doc,new xi(d._snapshot.mutatedKeys.has(C.doc.key),d._snapshot.fromCache),d.query.converter),O=-1,P=-1;return 0!==C.type&&(O=b.indexOf(C.doc.key),b=b.delete(C.doc.key)),1!==C.type&&(P=(b=b.add(C.doc)).indexOf(C.doc.key)),{type:Hl(C.type),doc:T,oldIndex:O,newIndex:P}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},a}();function Hl(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function cd(a,s){return a instanceof pa&&s instanceof pa?a._firestore===s._firestore&&a._key.isEqual(s._key)&&(null===a._document?null===s._document:a._document.isEqual(s._document))&&a._converter===s._converter:a instanceof Gi&&s instanceof Gi&&a._firestore===s._firestore&&Kf(a.query,s.query)&&a.metadata.isEqual(s.metadata)&&a._snapshot.isEqual(s._snapshot)}function ep(a){if(za(a)&&0===a.explicitOrderBy.length)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ql=function(){};function gs(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];for(var d=0,g=s;d<g.length;d++){var v=g[d];a=v._apply(a)}return a}var Og=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).jc=l,v.Wc=d,v.Gc=g,v.type="where",v}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var v,C,d=uu(l.firestore),g=function(v,b,C,T,O,P,j){var q;if(O.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new ge(ie.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+P+"' queries on FieldPath.documentId().");if("in"===P||"not-in"===P){Fg(j,P);for(var J=[],ee=0,ue=j;ee<ue.length;ee++)J.push(np(T,v,ue[ee]));q={arrayValue:{values:J}}}else q=np(T,v,j)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||Fg(j,P),q=kg(C,"where",j,"in"===P||"not-in"===P);var Pe=so.create(O,P,q);return function(ut,yt){if(yt.g()){var an=Mh(ut);if(null!==an&&!an.isEqual(yt.field))throw new ge(ie.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+an.toString()+"' and '"+yt.field.toString()+"'");var hn=Ah(ut);null!==hn&&zl(0,yt.field,hn)}var En=function(yi,Wl){for(var Kl=0,up=yi.filters;Kl<up.length;Kl++){var b_=up[Kl];if(Wl.indexOf(b_.op)>=0)return b_.op}return null}(ut,function(yi){switch(yi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(yt.op));if(null!==En)throw new ge(ie.INVALID_ARGUMENT,En===yt.op?"Invalid query. You cannot use more than one '"+yt.op.toString()+"' filter.":"Invalid query. You cannot use '"+yt.op.toString()+"' filters with '"+En.toString()+"' filters.")}(v,Pe),Pe}(l._query,0,d,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new vi(l.firestore,l.converter,(C=(v=l._query).filters.concat([g]),new Jo(v.path,v.collectionGroup,v.explicitOrderBy.slice(),C,v.limit,v.limitType,v.startAt,v.endAt)))},s}(ql),Ng=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).jc=l,g.zc=d,g.type="orderBy",g}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var g,b,d=function(g,v,b){if(null!==g.startAt)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==g.endAt)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var C=new qu(v,b);return function(T,O){if(null===Ah(T)){var P=Mh(T);null!==P&&zl(0,P,O.field)}}(g,C),C}(l._query,this.jc,this.zc);return new vi(l.firestore,l.converter,(b=(g=l._query).explicitOrderBy.concat([d]),new Jo(g.path,g.collectionGroup,b,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)))},s}(ql),ld=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).type=l,v.Hc=d,v.Jc=g,v}return(0,I.ZT)(s,a),s.prototype._apply=function(l){return new vi(l.firestore,l.converter,Gu(l._query,this.Hc,this.Jc))},s}(ql),tp=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).type=l,v.Yc=d,v.Xc=g,v}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var g,v,d=Pg(l,this.type,this.Yc,this.Xc);return new vi(l.firestore,l.converter,(v=d,new Jo((g=l._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,v,g.endAt)))},s}(ql),hd=function(a){function s(l,d,g){var v=this;return(v=a.call(this)||this).type=l,v.Yc=d,v.Xc=g,v}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var g,v,d=Pg(l,this.type,this.Yc,this.Xc);return new vi(l.firestore,l.converter,(v=d,new Jo((g=l._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,v)))},s}(ql);function Pg(a,s,l,d){if(l[0]=(0,ze.m9)(l[0]),l[0]instanceof vn)return function(v,b,C,T,O){if(!T)throw new ge(ie.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var P=[],j=0,q=$u(v);j<q.length;j++){var J=q[j];if(J.field.isKeyField())P.push(Vu(b,T.key));else{var ee=T.data.field(J.field);if(di(ee))throw new ge(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ee){var ue=J.field.canonicalString();throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ue+"' (used as the orderBy) does not exist.")}P.push(ee)}}return new Oo(P,O)}(a._query,a.firestore._databaseId,s,l[0]._document,d);var g=uu(a.firestore);return function(v,b,C,T,O,P){var j=v.explicitOrderBy;if(O.length>j.length)throw new ge(ie.INVALID_ARGUMENT,"Too many arguments provided to "+T+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var q=[],J=0;J<O.length;J++){var ee=O[J];if(j[J].field.isKeyField()){if("string"!=typeof ee)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+T+"(), but got a "+typeof ee);if(!ea(v)&&-1!==ee.indexOf("/"))throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+T+"() must be a plain document ID, but '"+ee+"' contains a slash.");var ue=v.path.child(Kt.fromString(ee));if(!Ue.isDocumentKey(ue))throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+T+"() must result in a valid document path, but '"+ue+"' is not because it contains an odd number of segments.");var Ie=new Ue(ue);q.push(Vu(b,Ie))}else{var Pe=kg(C,T,ee);q.push(Pe)}}return new Oo(q,P)}(a._query,a.firestore._databaseId,g,s,l,d)}function np(a,s,l){if("string"==typeof(l=(0,ze.m9)(l))){if(""===l)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ea(s)&&-1!==l.indexOf("/"))throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var d=s.path.child(Kt.fromString(l));if(!Ue.isDocumentKey(d))throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return Vu(a,new Ue(d))}if(l instanceof Tn)return Vu(a,l._key);throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ic(l)+".")}function Fg(a,s){if(!Array.isArray(a)||0===a.length)throw new ge(ie.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+s.toString()+"' filters.");if(a.length>10)throw new ge(ie.INVALID_ARGUMENT,"Invalid Query. '"+s.toString()+"' filters support a maximum of 10 elements in the value array.")}function zl(a,s,l){if(!l.isEqual(s))throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+s.toString()+"' and so you must also use '"+s.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var rp=function(){function a(){}return a.prototype.convertValue=function(s,l){switch(void 0===l&&(l="none"),Mi(s)){case 0:return null;case 1:return s.booleanValue;case 2:return Or(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(Js(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw we()}},a.prototype.convertObject=function(s,l){var d=this,g={};return xr(s.fields,function(v,b){g[v]=d.convertValue(b,l)}),g},a.prototype.convertGeoPoint=function(s){return new jl(Or(s.latitude),Or(s.longitude))},a.prototype.convertArray=function(s,l){var d=this;return(s.values||[]).map(function(g){return d.convertValue(g,l)})},a.prototype.convertServerTimestamp=function(s,l){switch(l){case"previous":var d=Zo(s);return null==d?null:this.convertValue(d,l);case"estimate":return this.convertTimestamp(Ua(s));default:return null}},a.prototype.convertTimestamp=function(s){var l=xo(s);return new hi(l.seconds,l.nanos)},a.prototype.convertDocumentKey=function(s,l){var d=Kt.fromString(s);at(Hp(d));var g=new Cc(d.get(1),d.get(3)),v=new Ue(d.popFirst(5));return g.isEqual(l)||Ln("Document "+v+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),v},a}();function ip(a,s,l){return a?l&&(l.merge||l.mergeFields)?a.toFirestore(s,l):a.toFirestore(s):s}var fe=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new Ac(l)},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return new Tn(this.firestore,null,d)},s}(rp),op=function(){function a(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=uu(s)}return a.prototype.set=function(s,l,d){this._verifyNotCommitted();var g=Us(s,this._firestore),v=ip(g.converter,l,d),b=sd(this._dataReader,"WriteBatch.set",g._key,v,null!==g.converter,d);return this._mutations.push(b.toMutation(g._key,Dr.none())),this},a.prototype.update=function(s,l,d){for(var g=[],v=3;v<arguments.length;v++)g[v-3]=arguments[v];this._verifyNotCommitted();var b,C=Us(s,this._firestore);return b="string"==typeof(l=(0,ze.m9)(l))||l instanceof js?Jf(this._dataReader,"WriteBatch.update",C._key,l,d,g):Rg(this._dataReader,"WriteBatch.update",C._key,l),this._mutations.push(b.toMutation(C._key,Dr.exists(!0))),this},a.prototype.delete=function(s){this._verifyNotCommitted();var l=Us(s,this._firestore);return this._mutations=this._mutations.concat(new os(l._key,Dr.none())),this},a.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},a.prototype._verifyNotCommitted=function(){if(this._committed)throw new ge(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}();function Us(a,s){if((a=(0,ze.m9)(a)).firestore!==s)throw new ge(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}var Hs=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new Ac(l)},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return new Tn(this.firestore,null,d)},s}(rp);function ho(a,s,l){a=ln(a,Tn);var d=ln(a.firestore,gr),g=ip(a.converter,s,l);return hu(d,[sd(uu(d),"setDoc",a._key,g,null!==a.converter,l).toMutation(a._key,Dr.none())])}function $l(a,s,l){for(var d=[],g=3;g<arguments.length;g++)d[g-3]=arguments[g];a=ln(a,Tn);var v=ln(a.firestore,gr),b=uu(v);return hu(v,[("string"==typeof(s=(0,ze.m9)(s))||s instanceof js?Jf(b,"updateDoc",a._key,s,l,d):Rg(b,"updateDoc",a._key,s)).toMutation(a._key,Dr.exists(!0))])}function sp(a){for(var s,l,d,g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];a=(0,ze.m9)(a);var b={includeMetadataChanges:!1},C=0;"object"!=typeof g[C]||Tc(g[C])||(b=g[C],C++);var T,O,P,j={includeMetadataChanges:b.includeMetadataChanges};if(Tc(g[C])){var q=g[C];g[C]=null===(s=q.next)||void 0===s?void 0:s.bind(q),g[C+1]=null===(l=q.error)||void 0===l?void 0:l.bind(q),g[C+2]=null===(d=q.complete)||void 0===d?void 0:d.bind(q)}if(a instanceof Tn)O=ln(a.firestore,gr),P=Th(a._key.path),T={next:function(ue){g[C]&&g[C](Vo(O,a,ue))},error:g[C+1],complete:g[C+2]};else{var J=ln(a,vi);O=ln(J.firestore,gr),P=J._query;var ee=new Hs(O);T={next:function(ue){g[C]&&g[C](new Gi(O,ee,J,ue))},error:g[C+1],complete:g[C+2]},ep(a._query)}return function(ue,Ie,Pe,ut){var yt=this,an=new ds(ut),hn=new Qh(Ie,an,Pe);return ue.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(yt,void 0,void 0,function(){var En;return(0,I.Jh)(this,function(yi){switch(yi.label){case 0:return En=Mf,[4,Ec(ue)];case 1:return[2,En.apply(void 0,[yi.sent(),hn])]}})})}),function(){an.Wo(),ue.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(yt,void 0,void 0,function(){var En;return(0,I.Jh)(this,function(yi){switch(yi.label){case 0:return En=ou,[4,Ec(ue)];case 1:return[2,En.apply(void 0,[yi.sent(),hn])]}})})})}}(At(O),P,j,T)}function hu(a,s){return function(l,d){var g=this,v=new Kn;return l.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(g,void 0,void 0,function(){var b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return b=Nf,[4,Pl(l)];case 1:return[2,b.apply(void 0,[C.sent(),d,v])]}})})}),v.promise}(At(a),s)}function Vo(a,s,l){var d=l.docs.get(s._key),g=new Hs(a);return new pa(a,g,s._key,d,new xi(l.hasPendingWrites,l.fromCache),s.converter)}var qe=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this)._firestore=l,g}return(0,I.ZT)(s,a),s.prototype.get=function(l){var d=this,g=Us(l,this._firestore),v=new Hs(this._firestore);return a.prototype.get.call(this,l).then(function(b){return new pa(d._firestore,v,g._key,b._document,new xi(!1,!1),g.converter)})},s}(function(){function a(s,l){this._firestore=s,this._transaction=l,this._dataReader=uu(s)}return a.prototype.get=function(s){var l=this,d=Us(s,this._firestore),g=new fe(this._firestore);return this._transaction.lookup([d._key]).then(function(v){if(!v||1!==v.length)return we();var b=v[0];if(b.isFoundDocument())return new vn(l._firestore,g,b.key,b,d.converter);if(b.isNoDocument())return new vn(l._firestore,g,d._key,null,d.converter);throw we()})},a.prototype.set=function(s,l,d){var g=Us(s,this._firestore),v=ip(g.converter,l,d),b=sd(this._dataReader,"Transaction.set",g._key,v,null!==g.converter,d);return this._transaction.set(g._key,b),this},a.prototype.update=function(s,l,d){for(var g=[],v=3;v<arguments.length;v++)g[v-3]=arguments[v];var b,C=Us(s,this._firestore);return b="string"==typeof(l=(0,ze.m9)(l))||l instanceof js?Jf(this._dataReader,"Transaction.update",C._key,l,d,g):Rg(this._dataReader,"Transaction.update",C._key,l),this._transaction.update(C._key,b),this},a.prototype.delete=function(s){var l=Us(s,this._firestore);return this._transaction.delete(l._key),this},a}());function dd(){if(typeof Uint8Array>"u")throw new ge(ie.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cr(){if(typeof atob>"u")throw new ge(ie.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gl=function(){function a(s){this._delegate=s}return a.fromBase64String=function(s){return cr(),new a(Ac.fromBase64String(s))},a.fromUint8Array=function(s){return dd(),new a(Ac.fromUint8Array(s))},a.prototype.toBase64=function(){return cr(),this._delegate.toBase64()},a.prototype.toUint8Array=function(){return dd(),this._delegate.toUint8Array()},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a}(),ms=function(){function a(){}return a.prototype.enableIndexedDbPersistence=function(s,l){return function(d,g){ev(d=ln(d,gr));var v=At(d),b=d._freezeSettings(),C=new Ol;return Yf(v,C,new bc(C,b.cacheSizeBytes,g?.forceOwnership))}(s._delegate,{forceOwnership:l})},a.prototype.enableMultiTabIndexedDbPersistence=function(s){return function(l){ev(l=ln(l,gr));var d=At(l),g=l._freezeSettings(),v=new Ol;return Yf(d,v,new bg(v,g.cacheSizeBytes))}(s._delegate)},a.prototype.clearIndexedDbPersistence=function(s){return function(l){var d=this;if(l._initialized&&!l._terminated)throw new ge(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var g=new Kn;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(d,void 0,void 0,function(){var v;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(C){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(O){switch(O.label){case 0:return sc.yt()?[4,sc.delete(C+"main")]:[2,Promise.resolve()];case 1:return O.sent(),[2]}})})}(El(l._databaseId,l._persistenceKey))];case 1:return b.sent(),g.resolve(),[3,3];case 2:return v=b.sent(),g.reject(v),[3,3];case 3:return[2]}})})}),g.promise}(s._delegate)},a}(),fy=function(){function a(s,l,d){var g=this;this._delegate=l,this.Zc=d,this.INTERNAL={delete:function(){return g.terminate()}},s instanceof Cc||(this.tu=s)}return Object.defineProperty(a.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),a.prototype.settings=function(s){var l=this._delegate._getSettings();s.merge||l.host===s.host||Jc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),s.merge&&delete(s=Object.assign(Object.assign({},l),s)).merge,this._delegate._setSettings(s)},a.prototype.useEmulator=function(s,l,d){void 0===d&&(d={}),function(g,v,b,C){var T;void 0===C&&(C={});var O=(g=ln(g,Ll))._getSettings();if("firestore.googleapis.com"!==O.host&&O.host!==v&&Jc("Host has been set in both settings() and useEmulator(), emulator host will be used"),g._setSettings(Object.assign(Object.assign({},O),{host:v+":"+b,ssl:!1})),C.mockUserToken){var P,j;if("string"==typeof C.mockUserToken)P=C.mockUserToken,j=Nr.MOCK_USER;else{P=(0,ze.Sg)(C.mockUserToken,null===(T=g._app)||void 0===T?void 0:T.options.projectId);var q=C.mockUserToken.sub||C.mockUserToken.user_id;if(!q)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new Nr(q)}g._credentials=new Sg(new od(P,j))}}(this._delegate,s,l,d)},a.prototype.enableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,I.mG)(l,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return[4,Hf(s)];case 1:return d=v.sent(),[4,Xm(s)];case 2:return g=v.sent(),[2,(d.setNetworkEnabled(!0),b=g,C=Be(b),C.Or.delete(0),zh(C))]}var b,C})})})}(At(ln(this._delegate,gr)))},a.prototype.disableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,I.mG)(l,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return[4,Hf(s)];case 1:return d=v.sent(),[4,Xm(s)];case 2:return g=v.sent(),[2,(d.setNetworkEnabled(!1),function(b){return(0,I.mG)(this,void 0,void 0,function(){var C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return(C=Be(b)).Or.add(0),[4,ls(C)];case 1:return T.sent(),C.Br.set("Offline"),[2]}})})}(g))]}})})})}(At(ln(this._delegate,gr)))},a.prototype.enablePersistence=function(s){var l=!1,d=!1;return s&&fs("synchronizeTabs",l=!!s.synchronizeTabs,"experimentalForceOwningTab",d=!!s.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,d)},a.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},a.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},a.prototype.waitForPendingWrites=function(){return function(s){var l=this,d=new Kn;return s.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(l,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(v){switch(v.label){case 0:return g=$m,[4,Pl(s)];case 1:return[2,g.apply(void 0,[v.sent(),d])]}})})}),d.promise}(At(ln(this._delegate,gr)))},a.prototype.onSnapshotsInSync=function(s){return d=s,function(g,v){var b=this,C=new ds(v);return g.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(b,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return T=function(P,j){Be(P).Gr.add(j),j.next()},[4,Ec(g)];case 1:return[2,T.apply(void 0,[O.sent(),C])]}})})}),function(){C.Wo(),g.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(b,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return T=function(P,j){Be(P).Gr.delete(j)},[4,Ec(g)];case 1:return[2,T.apply(void 0,[O.sent(),C])]}})})})}}(At(ln(this._delegate,gr)),Tc(d)?d:{next:d});var d},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.tu)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new u(this,Lo(this._delegate,s))}catch(l){throw Oi(l,"collection()","Firestore.collection()")}},a.prototype.doc=function(s){try{return new du(this,Bl(this._delegate,s))}catch(l){throw Oi(l,"doc()","Firestore.doc()")}},a.prototype.collectionGroup=function(s){try{return new or(this,function(l,d){if(l=ln(l,Ll),Sc("collectionGroup","collection id",d),d.indexOf("/")>=0)throw new ge(ie.INVALID_ARGUMENT,"Invalid collection ID '"+d+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vi(l,null,(g=d,new Jo(Kt.emptyPath(),g)));var g}(this._delegate,s))}catch(l){throw Oi(l,"collectionGroup()","Firestore.collectionGroup()")}},a.prototype.runTransaction=function(s){var d,l=this;return function(v,b){var C=this,T=new Kn;return v.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(C,void 0,void 0,function(){var O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return[4,(j=v,wc(j).then(function(q){return q.datastore}))];case 1:return O=P.sent(),new jf(v.asyncQueue,O,b,T).run(),[2]}var j})})}),T.promise}(At(d=this._delegate),function(v){return function(d){return s(new vs(l,d))}(new qe(d,v))})},a.prototype.batch=function(){var s=this;return At(this._delegate),new fd(new op(this._delegate,function(l){return hu(s._delegate,l)}))},a.prototype.loadBundle=function(s){throw new ge(ie.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},a.prototype.namedQuery=function(s){throw new ge(ie.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},a}(),Rc=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new Gl(new Ac(l))},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return du.eu(d,this.firestore,null)},s}(rp),vs=function(){function a(s,l){this._firestore=s,this._delegate=l,this._userDataWriter=new Rc(s)}return a.prototype.get=function(s){var l=this,d=f(s);return this._delegate.get(d).then(function(g){return new $n(l._firestore,new pa(l._firestore._delegate,l._userDataWriter,g._key,g._document,g.metadata,d.converter))})},a.prototype.set=function(s,l,d){var g=f(s);return d?(Gf("Transaction.set",d),this._delegate.set(g,l,d)):this._delegate.set(g,l),this},a.prototype.update=function(s,l,d){for(var g,v=[],b=3;b<arguments.length;b++)v[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(g=this._delegate).update.apply(g,(0,I.ev)([C,l,d],v)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a}(),fd=function(){function a(s){this._delegate=s}return a.prototype.set=function(s,l,d){var g=f(s);return d?(Gf("WriteBatch.set",d),this._delegate.set(g,l,d)):this._delegate.set(g,l),this},a.prototype.update=function(s,l,d){for(var g,v=[],b=3;b<arguments.length;b++)v[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(g=this._delegate).update.apply(g,(0,I.ev)([C,l,d],v)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a.prototype.commit=function(){return this._delegate.commit()},a}(),ys=function(){function a(s,l,d){this._firestore=s,this._userDataWriter=l,this._delegate=d}return a.prototype.fromFirestore=function(s,l){var d=new zn(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,null);return this._delegate.fromFirestore(new kc(this._firestore,d),l??{})},a.prototype.toFirestore=function(s,l){return l?this._delegate.toFirestore(s,l):this._delegate.toFirestore(s)},a.nu=function(s,l){var d=a.su,g=d.get(s);g||d.set(s,g=new WeakMap);var v=g.get(l);return v||(v=new a(s,new Rc(s),l),g.set(l,v)),v},a}();ys.su=new WeakMap;var du=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new Rc(s)}return a.iu=function(s,l,d){if(s.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.canonicalString()+" has "+s.length);return new a(l,new Tn(l._delegate,d,new Ue(s)))},a.eu=function(s,l,d){return new a(l,new Tn(l._delegate,d,s))},Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new u(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new u(this.firestore,Lo(this._delegate,s))}catch(l){throw Oi(l,"collection()","DocumentReference.collection()")}},a.prototype.isEqual=function(s){return(s=(0,ze.m9)(s))instanceof Tn&&Tg(this._delegate,s)},a.prototype.set=function(s,l){l=Gf("DocumentReference.set",l);try{return l?ho(this._delegate,s,l):ho(this._delegate,s)}catch(d){throw Oi(d,"setDoc()","DocumentReference.set()")}},a.prototype.update=function(s,l){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];try{return 1===arguments.length?$l(this._delegate,s):$l.apply(void 0,(0,I.ev)([this._delegate,s,l],d))}catch(v){throw Oi(v,"updateDoc()","DocumentReference.update()")}},a.prototype.delete=function(){return hu(ln((s=this._delegate).firestore,gr),[new os(s._key,Dr.none())]);var s},a.prototype.onSnapshot=function(){for(var s=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var g=pd(l),v=mr(l,function(b){return new $n(s.firestore,new pa(s.firestore._delegate,s._userDataWriter,b._key,b._document,b.metadata,s._delegate.converter))});return sp(this._delegate,g,v)},a.prototype.get=function(s){var l=this;return("cache"===s?.source?function(d){d=ln(d,Tn);var g=ln(d.firestore,gr),v=At(g),b=new Hs(g);return function(C,T){var O=this,P=new Kn;return C.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(O,void 0,void 0,function(){var j;return(0,I.Jh)(this,function(q){switch(q.label){case 0:return j=function(J,ee,ue){return(0,I.mG)(this,void 0,void 0,function(){var Ie,Pe;return(0,I.Jh)(this,function(ut){switch(ut.label){case 0:return ut.trys.push([0,2,,3]),[4,(yt=J,an=ee,hn=Be(yt),hn.persistence.runTransaction("read document","readonly",function(En){return hn.Mn.mn(En,an)}))];case 1:return(Pe=ut.sent()).isFoundDocument()?ue.resolve(Pe):Pe.isNoDocument()?ue.resolve(null):ue.reject(new ge(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Ie=ut.sent(),Pe=yc(Ie,"Failed to get document '"+ee+" from cache"),ue.reject(Pe),[3,3];case 3:return[2]}var yt,an,hn})})},[4,id(C)];case 1:return[2,j.apply(void 0,[q.sent(),T,P])]}})})}),P.promise}(v,d._key).then(function(C){return new pa(g,b,d._key,C,new xi(null!==C&&C.hasLocalMutations,!0),d.converter)})}(this._delegate):"server"===s?.source?function(d){d=ln(d,Tn);var g=ln(d.firestore,gr);return Dg(At(g),d._key,{source:"server"}).then(function(v){return Vo(g,d,v)})}(this._delegate):function(d){d=ln(d,Tn);var g=ln(d.firestore,gr);return Dg(At(g),d._key).then(function(v){return Vo(g,d,v)})}(this._delegate)).then(function(d){return new $n(l.firestore,new pa(l.firestore._delegate,l._userDataWriter,d._key,d._document,d.metadata,l._delegate.converter))})},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?ys.nu(this.firestore,s):null))},a}();function Oi(a,s,l){return a.message=a.message.replace(s,l),a}function pd(a){for(var s=0,l=a;s<l.length;s++){var d=l[s];if("object"==typeof d&&!Tc(d))return d}return{}}function mr(a,s){var l,d,g;return{next:function(v){g.next&&g.next(s(v))},error:null===(l=(g=Tc(a[0])?a[0]:Tc(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]}).error)||void 0===l?void 0:l.bind(g),complete:null===(d=g.complete)||void 0===d?void 0:d.bind(g)}}var $n=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"ref",{get:function(){return new du(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),a.prototype.data=function(s){return this._delegate.data(s)},a.prototype.get=function(s,l){return this._delegate.get(s,l)},a.prototype.isEqual=function(s){return cd(this._delegate,s._delegate)},a}(),kc=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(l){return this._delegate.data(l)},s}($n),or=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new Rc(s)}return a.prototype.where=function(s,l,d){try{return new a(this.firestore,gs(this._delegate,(b=d,C=l,T=Mc("where",g=s),new Og(T,C,b))))}catch(g){throw Oi(g,/(orderBy|where)\(\)/,"Query.$1()")}var g,b,C,T},a.prototype.orderBy=function(s,l){try{return new a(this.firestore,gs(this._delegate,function(d,g){void 0===g&&(g="asc");var v=g,b=Mc("orderBy",d);return new Ng(b,v)}(s,l)))}catch(d){throw Oi(d,/(orderBy|where)\(\)/,"Query.$1()")}},a.prototype.limit=function(s){try{return new a(this.firestore,gs(this._delegate,(Fl("limit",l=s),new ld("limit",l,"F"))))}catch(l){throw Oi(l,"limit()","Query.limit()")}var l},a.prototype.limitToLast=function(s){try{return new a(this.firestore,gs(this._delegate,(Fl("limitToLast",l=s),new ld("limitToLast",l,"L"))))}catch(l){throw Oi(l,"limitToLast()","Query.limitToLast()")}var l},a.prototype.startAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,gs(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new tp("startAt",d,!0)}.apply(void 0,s)))}catch(d){throw Oi(d,"startAt()","Query.startAt()")}},a.prototype.startAfter=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,gs(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new tp("startAfter",d,!1)}.apply(void 0,s)))}catch(d){throw Oi(d,"startAfter()","Query.startAfter()")}},a.prototype.endBefore=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,gs(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new hd("endBefore",d,!0)}.apply(void 0,s)))}catch(d){throw Oi(d,"endBefore()","Query.endBefore()")}},a.prototype.endAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,gs(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new hd("endAt",d,!1)}.apply(void 0,s)))}catch(d){throw Oi(d,"endAt()","Query.endAt()")}},a.prototype.isEqual=function(s){return Kf(this._delegate,s._delegate)},a.prototype.get=function(s){var l=this;return("cache"===s?.source?function(d){d=ln(d,vi);var g=ln(d.firestore,gr),v=At(g),b=new Hs(g);return function(C,T){var O=this,P=new Kn;return C.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(O,void 0,void 0,function(){var j;return(0,I.Jh)(this,function(q){switch(q.label){case 0:return j=function(J,ee,ue){return(0,I.mG)(this,void 0,void 0,function(){var Ie,Pe,ut,yt,an;return(0,I.Jh)(this,function(hn){switch(hn.label){case 0:return hn.trys.push([0,2,,3]),[4,fc(J,ee,!0)];case 1:return an=hn.sent(),Ie=new zr(ee,an.Bn),Pe=Ie._o(an.documents),ut=Ie.applyChanges(Pe,!1),ue.resolve(ut.snapshot),[3,3];case 2:return yt=hn.sent(),an=yc(yt,"Failed to execute query '"+ee+" against cache"),ue.reject(an),[3,3];case 3:return[2]}})})},[4,id(C)];case 1:return[2,j.apply(void 0,[q.sent(),T,P])]}})})}),P.promise}(v,d._query).then(function(C){return new Gi(g,b,d,C)})}(this._delegate):"server"===s?.source?function(d){d=ln(d,vi);var g=ln(d.firestore,gr),v=At(g),b=new Hs(g);return Pr(v,d._query,{source:"server"}).then(function(C){return new Gi(g,b,d,C)})}(this._delegate):function(d){d=ln(d,vi);var g=ln(d.firestore,gr),v=At(g),b=new Hs(g);return ep(d._query),Pr(v,d._query).then(function(C){return new Gi(g,b,d,C)})}(this._delegate)).then(function(d){return new sv(l.firestore,new Gi(l.firestore._delegate,l._userDataWriter,l._delegate,d._snapshot))})},a.prototype.onSnapshot=function(){for(var s=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var g=pd(l),v=mr(l,function(b){return new sv(s.firestore,new Gi(s.firestore._delegate,s._userDataWriter,s._delegate,b._snapshot))});return sp(this._delegate,g,v)},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?ys.nu(this.firestore,s):null))},a}(),ov=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"doc",{get:function(){return new kc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),a}(),sv=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"query",{get:function(){return new or(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"docs",{get:function(){var s=this;return this._delegate.docs.map(function(l){return new kc(s._firestore,l)})},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(s){var l=this;return this._delegate.docChanges(s).map(function(d){return new ov(l._firestore,d)})},a.prototype.forEach=function(s,l){var d=this;this._delegate.forEach(function(g){s.call(l,new kc(d._firestore,g))})},a.prototype.isEqual=function(s){return cd(this._delegate,s._delegate)},a}(),u=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this).firestore=l,g._delegate=d,g}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new du(this.firestore,l):null},enumerable:!1,configurable:!0}),s.prototype.doc=function(l){try{return new du(this.firestore,void 0===l?Bl(this._delegate):Bl(this._delegate,l))}catch(d){throw Oi(d,"doc()","CollectionReference.doc()")}},s.prototype.add=function(l){var g,v,b,C,T,d=this;return(g=this._delegate,v=l,b=ln(g.firestore,gr),C=Bl(g),T=ip(g.converter,v),hu(b,[sd(uu(g.firestore),"addDoc",C._key,T,null!==g.converter,{}).toMutation(C._key,Dr.exists(!1))]).then(function(){return C})).then(function(g){return new du(d.firestore,g)})},s.prototype.isEqual=function(l){return Tg(this._delegate,l._delegate)},s.prototype.withConverter=function(l){return new s(this.firestore,this._delegate.withConverter(l?ys.nu(this.firestore,l):null))},s}(or);function f(a){return ln(a,Tn)}var y=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._delegate=new(js.bind.apply(js,(0,I.ev)([void 0],s)))}return a.documentId=function(){return new a(Cr.keyField().canonicalString())},a.prototype.isEqual=function(s){return(s=(0,ze.m9)(s))instanceof js&&this._delegate._internalPath.isEqual(s._internalPath)},a}(),w=function(){function a(s){this._delegate=s}return a.serverTimestamp=function(){var s=new Ul("serverTimestamp");return s._methodName="FieldValue.serverTimestamp",new a(s)},a.delete=function(){var s=new Qf("deleteField");return s._methodName="FieldValue.delete",new a(s)},a.arrayUnion=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var d=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return new Bo("arrayUnion",g)}.apply(void 0,s);return d._methodName="FieldValue.arrayUnion",new a(d)},a.arrayRemove=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var d=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return new tv("arrayRemove",g)}.apply(void 0,s);return d._methodName="FieldValue.arrayRemove",new a(d)},a.increment=function(s){var l=new nv("increment",s);return l._methodName="FieldValue.increment",new a(l)},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a}(),N=zt(461),U={Firestore:fy,GeoPoint:jl,Timestamp:hi,Blob:Gl,Transaction:vs,WriteBatch:fd,DocumentReference:du,DocumentSnapshot:$n,Query:or,QueryDocumentSnapshot:kc,QuerySnapshot:sv,CollectionReference:u,FieldPath:y,FieldValue:w,setLogLevel:function ap(a){ro.setLogLevel(a)},CACHE_SIZE_UNLIMITED:-1};!function ce(a){a.INTERNAL.registerComponent(new N.wA("firestore",function(d){return s=d.getProvider("app").getImmediate(),l=d.getProvider("auth-internal"),new fy(s,new gr(s,l),new ms);var s,l},"PUBLIC").setServiceProps(Object.assign({},U))),a.registerVersion("@firebase/firestore","2.4.1")}(me.Z)},589:(Ia,oi,zt)=>{zt.r(oi);var me=zt(367),I=zt(655),ze=zt(492),nt=zt(461),Vt="firebasestorage.googleapis.com",Zi="storageBucket",se=function(R){function M(L,H){var K=R.call(this,z(L),"Firebase Storage: "+H+" ("+z(L)+")")||this;return K.customData={serverResponse:null},K._baseMessage=K.message,Object.setPrototypeOf(K,M.prototype),K}return(0,I.ZT)(M,R),M.prototype._codeEquals=function(L){return z(L)===this.code},Object.defineProperty(M.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),M}(ze.ZR);function z(R){return"storage/"+R}function Ee(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function _t(){return new se("canceled","User canceled the upload/download.")}function bt(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qt(R){return new se("invalid-argument",R)}function Ji(){return new se("app-deleted","The Firebase app was deleted.")}function ft(R){return new se("invalid-root-operation","The operation '"+R+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function de(R,M){return new se("invalid-format","String does not match format '"+R+"': "+M)}function B(R){throw new se("internal-error","Internal error: "+R)}var ye={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Oe=function R(M,L){this.data=M,this.contentType=L||null};function le(R,M){switch(R){case ye.RAW:return new Oe(ct(M));case ye.BASE64:case ye.BASE64URL:return new Oe(lr(R,M));case ye.DATA_URL:return new Oe(function ke(R){var M=new et(R);return M.base64?lr(ye.BASE64,M.rest):function Ct(R){var M;try{M=decodeURIComponent(R)}catch{throw de(ye.DATA_URL,"Malformed data URL.")}return ct(M)}(M.rest)}(M),function $e(R){return new et(R).contentType}(M))}throw Ee()}function ct(R){for(var M=[],L=0;L<R.length;L++){var H=R.charCodeAt(L);if(H<=127)M.push(H);else if(H<=2047)M.push(192|H>>6,128|63&H);else if(55296==(64512&H))if(L<R.length-1&&56320==(64512&R.charCodeAt(L+1))){var te=H,_e=R.charCodeAt(++L);M.push(240|(H=65536|(1023&te)<<10|1023&_e)>>18,128|H>>12&63,128|H>>6&63,128|63&H)}else M.push(239,191,189);else 56320==(64512&H)?M.push(239,191,189):M.push(224|H>>12,128|H>>6&63,128|63&H)}return new Uint8Array(M)}function lr(R,M){switch(R){case ye.BASE64:var L=-1!==M.indexOf("-"),H=-1!==M.indexOf("_");if(L||H)throw de(R,"Invalid character '"+(L?"-":"_")+"' found: is it base64url encoded?");break;case ye.BASE64URL:var te=-1!==M.indexOf("+"),_e=-1!==M.indexOf("/");if(te||_e)throw de(R,"Invalid character '"+(te?"+":"/")+"' found: is it base64 encoded?");M=M.replace(/-/g,"+").replace(/_/g,"/")}var je;try{je=function ve(R){return atob(R)}(M)}catch{throw de(R,"Invalid character found")}for(var be=new Uint8Array(je.length),Ke=0;Ke<je.length;Ke++)be[Ke]=je.charCodeAt(Ke);return be}var et=function R(M){this.base64=!1,this.contentType=null;var L=M.match(/^data:([^,]+)?,/);if(null===L)throw de(ye.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var H=L[1]||null;null!=H&&(this.base64=function rt(R,M){return R.length>=M.length&&R.substring(R.length-M.length)===M}(H,";base64"),this.contentType=this.base64?H.substring(0,H.length-7):H),this.rest=M.substring(M.indexOf(",")+1)},ht={STATE_CHANGED:"state_changed"},Ze={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ei(R){switch(R){case"running":case"pausing":case"canceling":return Ze.RUNNING;case"paused":return Ze.PAUSED;case"success":return Ze.SUCCESS;case"canceled":return Ze.CANCELED;default:return Ze.ERROR}}var st=(()=>{return(R=st||(st={}))[R.NO_ERROR=0]="NO_ERROR",R[R.NETWORK_ERROR=1]="NETWORK_ERROR",R[R.ABORT=2]="ABORT",st;var R})(),Kr=function(){function R(){var M=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=st.NO_ERROR,this.sendPromise_=new Promise(function(L){M.xhr_.addEventListener("abort",function(){M.errorCode_=st.ABORT,L()}),M.xhr_.addEventListener("error",function(){M.errorCode_=st.NETWORK_ERROR,L()}),M.xhr_.addEventListener("load",function(){L()})})}return R.prototype.send=function(M,L,H,K){if(this.sent_)throw B("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(L,M,!0),void 0!==K)for(var te in K)K.hasOwnProperty(te)&&this.xhr_.setRequestHeader(te,K[te].toString());return void 0!==H?this.xhr_.send(H):this.xhr_.send(),this.sendPromise_},R.prototype.getErrorCode=function(){if(!this.sent_)throw B("cannot .getErrorCode() before sending");return this.errorCode_},R.prototype.getStatus=function(){if(!this.sent_)throw B("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},R.prototype.getResponseText=function(){if(!this.sent_)throw B("cannot .getResponseText() before sending");return this.xhr_.responseText},R.prototype.abort=function(){this.xhr_.abort()},R.prototype.getResponseHeader=function(M){return this.xhr_.getResponseHeader(M)},R.prototype.addUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",M)},R.prototype.removeUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",M)},R}(),bn=function(){function R(){}return R.prototype.createConnection=function(){return function Ho(){return new Kr}()},R}(),_r=function(){function R(M,L){this.bucket=M,this.path_=L}return Object.defineProperty(R.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),R.prototype.fullServerUrl=function(){var M=encodeURIComponent;return"/b/"+M(this.bucket)+"/o/"+M(this.path)},R.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},R.makeFromBucketSpec=function(M,L){var H;try{H=R.makeFromUrl(M,L)}catch{return new R(M,"")}if(""===H.path)return H;throw function Yt(R){return new se("invalid-default-bucket","Invalid default bucket '"+R+"'.")}(M)},R.makeFromUrl=function(M,L){var H=null,K="([A-Za-z0-9.\\-_]+)",je=new RegExp("^gs://"+K+"(/(.*))?$","i");function Ke(Gn){Gn.path_=decodeURIComponent(Gn.path)}for(var vt=L.replace(/[.]/g,"\\."),Fn=[{regex:je,indices:{bucket:1,path:3},postModify:function te(Gn){"/"===Gn.path.charAt(Gn.path.length-1)&&(Gn.path_=Gn.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+vt+"/v[A-Za-z0-9_]+/b/"+K+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Ke},{regex:new RegExp("^https?://"+(L===Vt?"(?:storage.googleapis.com|storage.cloud.google.com)":L)+"/"+K+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Ke}],nr=0;nr<Fn.length;nr++){var Lr=Fn[nr],Ne=Lr.regex.exec(M);if(Ne){var Nt=Ne[Lr.indices.path];Nt||(Nt=""),H=new R(Ne[Lr.indices.bucket],Nt),Lr.postModify(H);break}}if(null==H)throw function yr(R){return new se("invalid-url","Invalid URL '"+R+"'.")}(M);return H},R}(),Du=function(){function R(M){this.promise_=Promise.reject(M)}return R.prototype.getPromise=function(){return this.promise_},R.prototype.cancel=function(M){},R}();function Un(R){return"string"==typeof R||R instanceof String}function gn(R){return Hn()&&R instanceof Blob}function Hn(){return typeof Blob<"u"}function Cs(R,M,L,H){if(H<M)throw Qt("Invalid value for '"+R+"'. Expected "+M+" or greater.");if(H>L)throw Qt("Invalid value for '"+R+"'. Expected "+L+" or less.")}function eo(R,M){var H=M.match(/^(\w+):\/\/.+/)?.[1],K=M;return null==H&&(K="https://"+M),K+"/v0"+R}function oh(R){var M=encodeURIComponent,L="?";for(var H in R)R.hasOwnProperty(H)&&(L=L+(M(H)+"=")+M(R[H])+"&");return L.slice(0,-1)}var Ar=function(){function R(M,L,H,K,te,_e,je,be,Ke,mt,vt){var Tt=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=M,this.method_=L,this.headers_=H,this.body_=K,this.successCodes_=te.slice(),this.additionalRetryCodes_=_e.slice(),this.callback_=je,this.errorCallback_=be,this.progressCallback_=mt,this.timeout_=Ke,this.pool_=vt,this.promise_=new Promise(function(Fr,mn){Tt.resolve_=Fr,Tt.reject_=mn,Tt.start_()})}return R.prototype.start_=function(){var M=this;function H(K,te){var _e=M.resolve_,je=M.reject_,be=te.connection;if(te.wasSuccessCode)try{var Ke=M.callback_(be,be.getResponseText());!function si(R){return void 0!==R}(Ke)?_e():_e(Ke)}catch(vt){je(vt)}else if(null!==be)(mt=Ee()).serverResponse=be.getResponseText(),je(M.errorCallback_?M.errorCallback_(be,mt):mt);else if(te.canceled)je(mt=M.appDelete_?Ji():_t());else{var mt;je(mt=function xt(){return new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?H(0,new qo(!1,null,!0)):this.backoffId_=function $t(R,M,L){var H=1,K=null,te=!1,_e=0;function je(){return 2===_e}var be=!1;function Ke(){for(var mn=[],wt=0;wt<arguments.length;wt++)mn[wt]=arguments[wt];be||(be=!0,M.apply(null,mn))}function mt(mn){K=setTimeout(function(){K=null,R(vt,je())},mn)}function vt(mn){for(var wt=[],cn=1;cn<arguments.length;cn++)wt[cn-1]=arguments[cn];if(!be){if(mn)return void Ke.call.apply(Ke,(0,I.ev)([null,mn],wt));var Dn;if(je()||te)return void Ke.call.apply(Ke,(0,I.ev)([null,mn],wt));H<64&&(H*=2),1===_e?(_e=2,Dn=0):Dn=1e3*(H+Math.random()),mt(Dn)}}var Tt=!1;function Fr(mn){Tt||(Tt=!0,!be&&(null!==K?(mn||(_e=2),clearTimeout(K),mt(0)):mn||(_e=1)))}return mt(0),setTimeout(function(){te=!0,Fr(!0)},L),Fr}(function L(K,te){if(te)K(!1,new qo(!1,null,!0));else{var _e=M.pool_.createConnection();M.pendingConnection_=_e,null!==M.progressCallback_&&_e.addUploadProgressListener(je),_e.send(M.url_,M.method_,M.body_,M.headers_).then(function(){null!==M.progressCallback_&&_e.removeUploadProgressListener(je),M.pendingConnection_=null;var be=_e.getErrorCode()===st.NO_ERROR,Ke=_e.getStatus();if(be&&!M.isRetryStatusCode_(Ke)){var vt=-1!==M.successCodes_.indexOf(Ke);K(!0,new qo(vt,_e))}else{var mt=_e.getErrorCode()===st.ABORT;K(!1,new qo(!1,null,mt))}})}function je(be){null!==M.progressCallback_&&M.progressCallback_(be.loaded,be.lengthComputable?be.total:-1)}},H,this.timeout_)},R.prototype.getPromise=function(){return this.promise_},R.prototype.cancel=function(M){this.canceled_=!0,this.appDelete_=M||!1,null!==this.backoffId_&&function Zt(R){R(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},R.prototype.isRetryStatusCode_=function(M){var L=M>=500&&M<600,K=-1!==[408,429].indexOf(M),te=-1!==this.additionalRetryCodes_.indexOf(M);return L||K||te},R}(),qo=function R(M,L,H){this.wasSuccessCode=M,this.connection=L,this.canceled=!!H};function br(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vc(){for(var R=[],M=0;M<arguments.length;M++)R[M]=arguments[M];var L=br();if(void 0!==L){for(var H=new L,K=0;K<R.length;K++)H.append(R[K]);return H.getBlob()}if(Hn())return new Blob(R);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Pn=function(){function R(M,L){var H=0,K="";gn(M)?(this.data_=M,H=M.size,K=M.type):M instanceof ArrayBuffer?(L?this.data_=new Uint8Array(M):(this.data_=new Uint8Array(M.byteLength),this.data_.set(new Uint8Array(M))),H=this.data_.length):M instanceof Uint8Array&&(L?this.data_=M:(this.data_=new Uint8Array(M.length),this.data_.set(M)),H=M.length),this.size_=H,this.type_=K}return R.prototype.size=function(){return this.size_},R.prototype.type=function(){return this.type_},R.prototype.slice=function(M,L){if(gn(this.data_)){var K=function Su(R,M,L){return R.webkitSlice?R.webkitSlice(M,L):R.mozSlice?R.mozSlice(M,L):R.slice?R.slice(M,L):null}(this.data_,M,L);return null===K?null:new R(K)}return new R(new Uint8Array(this.data_.buffer,M,L-M),!0)},R.getBlob=function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];if(Hn()){var H=M.map(function(be){return be instanceof R?be.data_:be});return new R(Vc.apply(null,H))}var K=M.map(function(be){return Un(be)?le(ye.RAW,be).data:be.data_}),te=0;K.forEach(function(be){te+=be.byteLength});var _e=new Uint8Array(te),je=0;return K.forEach(function(be){for(var Ke=0;Ke<be.length;Ke++)_e[je++]=be[Ke]}),new R(_e,!0)},R.prototype.uploadData=function(){return this.data_},R}();function Ao(R){var M;try{M=JSON.parse(R)}catch{return null}return function Nn(R){return"object"==typeof R&&!Array.isArray(R)}(M)?M:null}function Q(R){var M=R.lastIndexOf("/",R.length-2);return-1===M?R:R.slice(M+1)}function ne(R,M){return M}var X=function R(M,L,H,K){this.server=M,this.local=L||M,this.writable=!!H,this.xform=K||ne},Ae=null;function Jt(){if(Ae)return Ae;var R=[];R.push(new X("bucket")),R.push(new X("generation")),R.push(new X("metageneration")),R.push(new X("name","fullPath",!0));var L=new X("name");L.xform=function M(te,_e){return function dt(R){return!Un(R)||R.length<2?R:Q(R)}(_e)},R.push(L);var K=new X("size");return K.xform=function H(te,_e){return void 0!==_e?Number(_e):_e},R.push(K),R.push(new X("timeCreated")),R.push(new X("updated")),R.push(new X("md5Hash",null,!0)),R.push(new X("cacheControl",null,!0)),R.push(new X("contentDisposition",null,!0)),R.push(new X("contentEncoding",null,!0)),R.push(new X("contentLanguage",null,!0)),R.push(new X("contentType",null,!0)),R.push(new X("metadata","customMetadata",!0)),Ae=R}function Mr(R,M,L){var H=Ao(M);return null===H?null:function sn(R,M,L){for(var H={type:"file"},K=L.length,te=0;te<K;te++){var _e=L[te];H[_e.local]=_e.xform(H,M[_e.server])}return function fn(R,M){Object.defineProperty(R,"ref",{get:function L(){var te=new _r(R.bucket,R.fullPath);return M._makeStorageReference(te)}})}(H,R),H}(R,H,L)}function pt(R,M){for(var L={},H=M.length,K=0;K<H;K++){var te=M[K];te.writable&&(L[te.server]=R[te.local])}return JSON.stringify(L)}var ai="prefixes";var to=function R(M,L,H,K){this.url=M,this.method=L,this.handler=H,this.timeout=K,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function gt(R){if(!R)throw Ee()}function zo(R,M){return function L(H,K){var te=Mr(R,K,M);return gt(null!==te),te}}function it(R){return function M(L,H){var K;return K=401===L.getStatus()?L.getResponseText().includes("Firebase App Check token is invalid")?function jt(){return new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Fe(){return new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===L.getStatus()?function Te(R){return new se("quota-exceeded","Quota for bucket '"+R+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(R.bucket):403===L.getStatus()?function Ut(R){return new se("unauthorized","User does not have permission to access '"+R+"'.")}(R.path):H,K.serverResponse=H.serverResponse,K}}function $o(R){var M=it(R);return function L(H,K){var te=M(H,K);return 404===H.getStatus()&&(te=function Me(R){return new se("object-not-found","Object '"+R+"' does not exist.")}(R.path)),te.serverResponse=K.serverResponse,te}}function ch(R,M,L){var K=eo(M.fullServerUrl(),R.host),_e=R.maxOperationRetryTime,je=new to(K,"GET",zo(R,L),_e);return je.errorHandler=$o(M),je}function Ce(R,M,L,H,K){var te={};te.prefix=M.isRoot?"":M.path+"/",L&&L.length>0&&(te.delimiter=L),H&&(te.pageToken=H),K&&(te.maxResults=K);var je=eo(M.bucketOnlyServerUrl(),R.host),Ke=R.maxOperationRetryTime,mt=new to(je,"GET",function uh(R,M){return function L(H,K){var te=function An(R,M,L){var H=Ao(L);return null===H?null:function ah(R,M,L){var H={prefixes:[],items:[],nextPageToken:L.nextPageToken};if(L[ai])for(var K=0,te=L[ai];K<te.length;K++){var je=te[K].replace(/\/$/,""),be=R._makeStorageReference(new _r(M,je));H.prefixes.push(be)}if(L.items)for(var Ke=0,mt=L.items;Ke<mt.length;Ke++)be=R._makeStorageReference(new _r(M,mt[Ke].name)),H.items.push(be);return H}(R,M,H)}(R,M,K);return gt(null!==te),te}}(R,M.bucket),Ke);return mt.urlParams=te,mt.errorHandler=it(M),mt}function Ip(R,M,L){var H=Object.assign({},L);return H.fullPath=R.path,H.size=M.size(),H.contentType||(H.contentType=function lh(R,M){return R&&R.contentType||M&&M.type()||"application/octet-stream"}(null,M)),H}var Go=function R(M,L,H,K){this.current=M,this.total=L,this.finalized=!!H,this.metadata=K||null};function Rr(R,M){var L=null;try{L=R.getResponseHeader("X-Goog-Upload-Status")}catch{gt(!1)}return gt(!!L&&-1!==(M||["active"]).indexOf(L)),L}var Aa=function R(M,L,H){var K=function xn(R){return"function"==typeof R}(M)||null!=L||null!=H;if(K)this.next=M,this.error=L,this.complete=H;else{var te=M;this.next=te.next,this.error=te.error,this.complete=te.complete}};function Tu(R){return function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];Promise.resolve().then(function(){return R.apply(void 0,M)})}}var Ad=function(){function R(M,L,H){var K=this;void 0===H&&(H=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=M,this._blob=L,this._metadata=H,this._mappings=Jt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(te){K._request=void 0,K._chunkMultiplier=1,te._codeEquals("canceled")?(K._needToFetchStatus=!0,K.completeTransitions_()):(K._error=te,K._transition("error"))},this._metadataErrorHandler=function(te){K._request=void 0,te._codeEquals("canceled")?K.completeTransitions_():(K._error=te,K._transition("error"))},this._promise=new Promise(function(te,_e){K._resolve=te,K._reject=_e,K._start()}),this._promise.then(null,function(){})}return R.prototype._makeProgressCallback=function(){var M=this,L=this._transferred;return function(H){return M._updateProgress(L+H)}},R.prototype._shouldDoResumable=function(M){return M.size()>262144},R.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},R.prototype._resolveToken=function(M){var L=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(H){var K=H[0],te=H[1];switch(L._state){case"running":M(K,te);break;case"canceling":L._transition("canceled");break;case"pausing":L._transition("paused")}})},R.prototype._createResumable=function(){var M=this;this._resolveToken(function(L,H){var K=function hh(R,M,L,H,K){var te=M.bucketOnlyServerUrl(),_e=Ip(M,H,K),je={name:_e.fullPath},be=eo(te,R.host),mt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+H.size(),"X-Goog-Upload-Header-Content-Type":_e.contentType,"Content-Type":"application/json; charset=utf-8"},vt=pt(_e,L),mn=new to(be,"POST",function Fr(wt){var cn;Rr(wt);try{cn=wt.getResponseHeader("X-Goog-Upload-URL")}catch{gt(!1)}return gt(Un(cn)),cn},R.maxUploadRetryTime);return mn.urlParams=je,mn.headers=mt,mn.body=vt,mn.errorHandler=it(M),mn}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),te=M._ref.storage._makeRequest(K,L,H);M._request=te,te.getPromise().then(function(_e){M._request=void 0,M._uploadUrl=_e,M._needToFetchStatus=!1,M.completeTransitions_()},M._errorHandler)})},R.prototype._fetchStatus=function(){var M=this,L=this._uploadUrl;this._resolveToken(function(H,K){var te=function jc(R,M,L,H){var be=new to(L,"POST",function te(Ke){var mt=Rr(Ke,["active","final"]),vt=null;try{vt=Ke.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gt(!1)}vt||gt(!1);var Tt=Number(vt);return gt(!isNaN(Tt)),new Go(Tt,H.size(),"final"===mt)},R.maxUploadRetryTime);return be.headers={"X-Goog-Upload-Command":"query"},be.errorHandler=it(M),be}(M._ref.storage,M._ref._location,L,M._blob),_e=M._ref.storage._makeRequest(te,H,K);M._request=_e,_e.getPromise().then(function(je){M._request=void 0,M._updateProgress(je.current),M._needToFetchStatus=!1,je.finalized&&(M._needToFetchMetadata=!0),M.completeTransitions_()},M._errorHandler)})},R.prototype._continueUpload=function(){var M=this,L=262144*this._chunkMultiplier,H=new Go(this._transferred,this._blob.size()),K=this._uploadUrl;this._resolveToken(function(te,_e){var je;try{je=function wr(R,M,L,H,K,te,_e,je){var be=new Go(0,0);if(_e?(be.current=_e.current,be.total=_e.total):(be.current=0,be.total=H.size()),H.size()!==be.total)throw function Yn(){return new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Ke=be.total-be.current,mt=Ke;K>0&&(mt=Math.min(mt,K));var vt=be.current,mn={"X-Goog-Upload-Command":mt===Ke?"upload, finalize":"upload","X-Goog-Upload-Offset":""+be.current},wt=H.slice(vt,vt+mt);if(null===wt)throw bt();var Fn=new to(L,"POST",function cn(nr,Lr){var Gn,Ne=Rr(nr,["active","final"]),We=be.current+mt,Nt=H.size();return Gn="final"===Ne?zo(M,te)(nr,Lr):null,new Go(We,Nt,"final"===Ne,Gn)},M.maxUploadRetryTime);return Fn.headers=mn,Fn.body=wt.uploadData(),Fn.progressCallback=je||null,Fn.errorHandler=it(R),Fn}(M._ref._location,M._ref.storage,K,M._blob,L,M._mappings,H,M._makeProgressCallback())}catch(Ke){return M._error=Ke,void M._transition("error")}var be=M._ref.storage._makeRequest(je,te,_e);M._request=be,be.getPromise().then(function(Ke){M._increaseMultiplier(),M._request=void 0,M._updateProgress(Ke.current),Ke.finalized?(M._metadata=Ke.metadata,M._transition("success")):M.completeTransitions_()},M._errorHandler)})},R.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},R.prototype._fetchMetadata=function(){var M=this;this._resolveToken(function(L,H){var K=ch(M._ref.storage,M._ref._location,M._mappings),te=M._ref.storage._makeRequest(K,L,H);M._request=te,te.getPromise().then(function(_e){M._request=void 0,M._metadata=_e,M._transition("success")},M._metadataErrorHandler)})},R.prototype._oneShotUpload=function(){var M=this;this._resolveToken(function(L,H){var K=function Ta(R,M,L,H,K){var te=M.bucketOnlyServerUrl(),_e={"X-Goog-Upload-Protocol":"multipart"},be=function je(){for(var Fn="",nr=0;nr<2;nr++)Fn+=Math.random().toString().slice(2);return Fn}();_e["Content-Type"]="multipart/related; boundary="+be;var Ke=Ip(M,H,K),mt=pt(Ke,L),Fr=Pn.getBlob("--"+be+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mt+"\r\n--"+be+"\r\nContent-Type: "+Ke.contentType+"\r\n\r\n",H,"\r\n--"+be+"--");if(null===Fr)throw bt();var mn={name:Ke.fullPath},wt=eo(te,R.host),Gt=R.maxUploadRetryTime,Dn=new to(wt,"POST",zo(R,L),Gt);return Dn.urlParams=mn,Dn.headers=_e,Dn.body=Fr.uploadData(),Dn.errorHandler=it(M),Dn}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),te=M._ref.storage._makeRequest(K,L,H);M._request=te,te.getPromise().then(function(_e){M._request=void 0,M._metadata=_e,M._updateProgress(M._blob.size()),M._transition("success")},M._errorHandler)})},R.prototype._updateProgress=function(M){var L=this._transferred;this._transferred=M,this._transferred!==L&&this._notifyObservers()},R.prototype._transition=function(M){if(this._state!==M)switch(M){case"canceling":case"pausing":this._state=M,void 0!==this._request&&this._request.cancel();break;case"running":var L="paused"===this._state;this._state=M,L&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=M,this._notifyObservers();break;case"canceled":this._error=_t(),this._state=M,this._notifyObservers()}},R.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(R.prototype,"snapshot",{get:function(){var M=Ei(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:M,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),R.prototype.on=function(M,L,H,K){var te=this,_e=new Aa(L,H,K);return this._addObserver(_e),function(){te._removeObserver(_e)}},R.prototype.then=function(M,L){return this._promise.then(M,L)},R.prototype.catch=function(M){return this.then(null,M)},R.prototype._addObserver=function(M){this._observers.push(M),this._notifyObserver(M)},R.prototype._removeObserver=function(M){var L=this._observers.indexOf(M);-1!==L&&this._observers.splice(L,1)},R.prototype._notifyObservers=function(){var M=this;this._finishPromise(),this._observers.slice().forEach(function(H){M._notifyObserver(H)})},R.prototype._finishPromise=function(){if(void 0!==this._resolve){var M=!0;switch(Ei(this._state)){case Ze.SUCCESS:Tu(this._resolve.bind(null,this.snapshot))();break;case Ze.CANCELED:case Ze.ERROR:Tu(this._reject.bind(null,this._error))();break;default:M=!1}M&&(this._resolve=void 0,this._reject=void 0)}},R.prototype._notifyObserver=function(M){switch(Ei(this._state)){case Ze.RUNNING:case Ze.PAUSED:M.next&&Tu(M.next.bind(M,this.snapshot))();break;case Ze.SUCCESS:M.complete&&Tu(M.complete.bind(M))();break;default:M.error&&Tu(M.error.bind(M,this._error))()}},R.prototype.resume=function(){var M="paused"===this._state||"pausing"===this._state;return M&&this._transition("running"),M},R.prototype.pause=function(){var M="running"===this._state;return M&&this._transition("pausing"),M},R.prototype.cancel=function(){var M="running"===this._state||"pausing"===this._state;return M&&this._transition("canceling"),M},R}(),Wo=function(){function R(M,L){this._service=M,this._location=L instanceof _r?L:_r.makeFromUrl(L,M.host)}return R.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},R.prototype._newRef=function(M,L){return new R(M,L)},Object.defineProperty(R.prototype,"root",{get:function(){var M=new _r(this._location.bucket,"");return this._newRef(this._service,M)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return Q(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"parent",{get:function(){var M=function W(R){if(0===R.length)return null;var M=R.lastIndexOf("/");return-1===M?"":R.slice(0,M)}(this._location.path);if(null===M)return null;var L=new _r(this._location.bucket,M);return new R(this._service,L)},enumerable:!1,configurable:!0}),R.prototype._throwIfRoot=function(M){if(""===this._location.path)throw ft(M)},R}();function Ma(R){var M={prefixes:[],items:[]};return Au(R,M).then(function(){return M})}function Au(R,M,L){return(0,I.mG)(this,void 0,void 0,function(){var K,te,_e;return(0,I.Jh)(this,function(je){switch(je.label){case 0:return[4,$s(R,{pageToken:L})];case 1:return K=je.sent(),(te=M.prefixes).push.apply(te,K.prefixes),(_e=M.items).push.apply(_e,K.items),null==K.nextPageToken?[3,3]:[4,Au(R,M,K.nextPageToken)];case 2:je.sent(),je.label=3;case 3:return[2]}})})}function $s(R,M){return(0,I.mG)(this,void 0,void 0,function(){var L,H;return(0,I.Jh)(this,function(K){switch(K.label){case 0:return null!=M&&"number"==typeof M.maxResults&&Cs("options.maxResults",1,1e3,M.maxResults),H=Ce(R.storage,R._location,"/",(L=M||{}).pageToken,L.maxResults),[4,R.storage.makeRequestWithTokens(H)];case 1:return[2,K.sent().getPromise()]}})})}function Md(R){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return R._throwIfRoot("getDownloadURL"),M=function Ds(R,M,L){var K=eo(M.fullServerUrl(),R.host),_e=R.maxOperationRetryTime,je=new to(K,"GET",function Iu(R,M){return function L(H,K){var te=Mr(R,K,M);return gt(null!==te),function en(R,M,L){var H=Ao(M);if(null===H||!Un(H.downloadTokens))return null;var K=H.downloadTokens;if(0===K.length)return null;var te=encodeURIComponent;return K.split(",").map(function(be){var mt=R.fullPath;return eo("/b/"+te(R.bucket)+"/o/"+te(mt),L)+oh({alt:"media",token:be})})[0]}(te,K,R.host)}}(R,L),_e);return je.errorHandler=$o(M),je}(R.storage,R._location,Jt()),[4,R.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise().then(function(H){if(null===H)throw function Xe(){return new se("no-download-url","The given file does not have any download URLs.")}();return H})]}})})}function Mu(R,M){var L=function G(R,M){var L=M.split("/").filter(function(H){return H.length>0}).join("/");return 0===R.length?L:R+"/"+L}(R._location.path,M),H=new _r(R._location.bucket,L);return new Wo(R.storage,H)}function xe(R){return/^[A-Za-z]+:\/\//.test(R)}function wn(R,M){if(R instanceof ka){var L=R;if(null==L._bucket)throw function wi(){return new se("no-default-bucket","No default bucket found. Did you set the '"+Zi+"' property when initializing the app?")}();var H=new Wo(L,L._bucket);return null!=M?wn(H,M):H}return void 0!==M?Mu(R,M):R}function Ru(R,M){if(M&&xe(M)){if(R instanceof ka)return function Rd(R,M){return new Wo(R,M)}(R,M);throw Qt("To use ref(service, url), the first argument must be a Storage instance.")}return wn(R,M)}function Ss(R,M){var L=M?.[Zi];return null==L?null:_r.makeFromBucketSpec(L,R)}var ka=function(){function R(M,L,H,K,te,_e){this.app=M,this._authProvider=L,this._appCheckProvider=H,this._pool=K,this._url=te,this._firebaseVersion=_e,this._bucket=null,this._host=Vt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=te?_r.makeFromBucketSpec(te,this._host):Ss(this._host,this.app.options)}return Object.defineProperty(R.prototype,"host",{get:function(){return this._host},set:function(M){this._host=M,this._bucket=null!=this._url?_r.makeFromBucketSpec(this._url,M):Ss(M,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(M){Cs("time",0,Number.POSITIVE_INFINITY,M),this._maxUploadRetryTime=M},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(M){Cs("time",0,Number.POSITIVE_INFINITY,M),this._maxOperationRetryTime=M},enumerable:!1,configurable:!0}),R.prototype._getAuthToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var M,L;return(0,I.Jh)(this,function(H){switch(H.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(M=this._authProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:if(null!==(L=H.sent()))return[2,L.accessToken];H.label=2;case 2:return[2,null]}})})},R.prototype._getAppCheckToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(H){switch(H.label){case 0:return(M=this._appCheckProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:return[2,H.sent().token];case 2:return[2,null]}})})},R.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(M){return M.cancel()}),this._requests.clear()),Promise.resolve()},R.prototype._makeStorageReference=function(M){return new Wo(this,M)},R.prototype._makeRequest=function(M,L,H){var K=this;if(this._deleted)return new Du(Ji());var te=function Bi(R,M,L,H,K,te){var _e=oh(R.urlParams),je=R.url+_e,be=Object.assign({},R.headers);return function sh(R,M){M&&(R["X-Firebase-GMPID"]=M)}(be,M),function Td(R,M){null!==M&&M.length>0&&(R.Authorization="Firebase "+M)}(be,L),function Ci(R,M){R["X-Firebase-Storage-Version"]="webjs/"+(M??"AppManager")}(be,te),function Dt(R,M){null!==M&&(R["X-Firebase-AppCheck"]=M)}(be,H),new Ar(je,R.method,be,R.body,R.successCodes,R.additionalRetryCodes,R.handler,R.errorHandler,R.timeout,R.progressCallback,K)}(M,this._appId,L,H,this._pool,this._firebaseVersion);return this._requests.add(te),te.getPromise().then(function(){return K._requests.delete(te)},function(){return K._requests.delete(te)}),te},R.prototype.makeRequestWithTokens=function(M){return(0,I.mG)(this,void 0,void 0,function(){var L;return(0,I.Jh)(this,function(te){switch(te.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return L=te.sent(),[2,this._makeRequest(M,L[0],L[1])]}})})},R}();function Oa(R,M){return Ru(R=(0,ze.m9)(R),M)}var Pt=function(){function R(M,L,H){this._delegate=M,this.task=L,this.ref=H}return Object.defineProperty(R.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),R}(),ui=function(){function R(M,L){this._delegate=M,this._ref=L,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(R.prototype,"snapshot",{get:function(){return new Pt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),R.prototype.then=function(M,L){var H=this;return this._delegate.then(function(K){if(M)return M(new Pt(K,H,H._ref))},L)},R.prototype.on=function(M,L,H,K){var te=this,_e=void 0;return L&&(_e="function"==typeof L?function(je){return L(new Pt(je,te,te._ref))}:{next:L.next?function(je){return L.next(new Pt(je,te,te._ref))}:void 0,complete:L.complete||void 0,error:L.error||void 0}),this._delegate.on(M,_e,H||void 0,K||void 0)},R}(),hr=function(){function R(M,L){this._delegate=M,this._service=L}return Object.defineProperty(R.prototype,"prefixes",{get:function(){var M=this;return this._delegate.prefixes.map(function(L){return new Vi(L,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"items",{get:function(){var M=this;return this._delegate.items.map(function(L){return new Vi(L,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),R}(),Vi=function(){function R(M,L){this._delegate=M,this.storage=L}return Object.defineProperty(R.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),R.prototype.toString=function(){return this._delegate.toString()},R.prototype.child=function(M){var L=function Di(R,M){return Mu(R,M)}(this._delegate,M);return new R(L,this.storage)},Object.defineProperty(R.prototype,"root",{get:function(){return new R(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"parent",{get:function(){var M=this._delegate.parent;return null==M?null:new R(M,this.storage)},enumerable:!1,configurable:!0}),R.prototype.put=function(M,L){return this._throwIfRoot("put"),new ui(function Gs(R,M,L){return function dh(R,M,L){return R._throwIfRoot("uploadBytesResumable"),new Ad(R,new Pn(M),L)}(R=(0,ze.m9)(R),M,L)}(this._delegate,M,L),this)},R.prototype.putString=function(M,L,H){void 0===L&&(L=ye.RAW),this._throwIfRoot("putString");var K=le(L,M),te=(0,I.pi)({},H);return null==te.contentType&&null!=K.contentType&&(te.contentType=K.contentType),new ui(new Ad(this._delegate,new Pn(K.data,!0),te),this)},R.prototype.listAll=function(){var M=this;return function Uc(R){return Ma(R=(0,ze.m9)(R))}(this._delegate).then(function(L){return new hr(L,M.storage)})},R.prototype.list=function(M){var L=this;return function ph(R,M){return $s(R=(0,ze.m9)(R),M)}(this._delegate,M||void 0).then(function(H){return new hr(H,L.storage)})},R.prototype.getMetadata=function(){return function Is(R){return function Yr(R){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return R._throwIfRoot("getMetadata"),M=ch(R.storage,R._location,Jt()),[4,R.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise()]}})})}(R=(0,ze.m9)(R))}(this._delegate)},R.prototype.updateMetadata=function(M){return function Ko(R,M){return function It(R,M){return(0,I.mG)(this,void 0,void 0,function(){var L;return(0,I.Jh)(this,function(H){switch(H.label){case 0:return R._throwIfRoot("updateMetadata"),L=function lt(R,M,L,H){var te=eo(M.fullServerUrl(),R.host),je=pt(L,H),Ke=R.maxOperationRetryTime,mt=new to(te,"PATCH",zo(R,H),Ke);return mt.headers={"Content-Type":"application/json; charset=utf-8"},mt.body=je,mt.errorHandler=$o(M),mt}(R.storage,R._location,M,Jt()),[4,R.storage.makeRequestWithTokens(L)];case 1:return[2,H.sent().getPromise()]}})})}(R=(0,ze.m9)(R),M)}(this._delegate,M)},R.prototype.getDownloadURL=function(){return function Je(R){return Md(R=(0,ze.m9)(R))}(this._delegate)},R.prototype.delete=function(){return this._throwIfRoot("delete"),function xa(R){return function Ra(R){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return R._throwIfRoot("deleteObject"),M=function un(R,M){var H=eo(M.fullServerUrl(),R.host),je=new to(H,"DELETE",function _e(be,Ke){},R.maxOperationRetryTime);return je.successCodes=[200,204],je.errorHandler=$o(M),je}(R.storage,R._location),[4,R.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise()]}})})}(R=(0,ze.m9)(R))}(this._delegate)},R.prototype._throwIfRoot=function(M){if(""===this._delegate._location.path)throw ft(M)},R}(),qc=function(){function R(M,L){this.app=M,this._delegate=L}return Object.defineProperty(R.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),R.prototype.ref=function(M){if(xe(M))throw Qt("ref() expected a child path but got a URL, use refFromURL instead.");return new Vi(Oa(this._delegate,M),this)},R.prototype.refFromURL=function(M){if(!xe(M))throw Qt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_r.makeFromUrl(M,this._delegate.host)}catch{throw Qt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vi(Oa(this._delegate,M),this)},R.prototype.setMaxUploadRetryTime=function(M){this._delegate.maxUploadRetryTime=M},R.prototype.setMaxOperationRetryTime=function(M){this._delegate.maxOperationRetryTime=M},R.prototype.useEmulator=function(M,L,H){void 0===H&&(H={}),function Hc(R,M,L,H){void 0===H&&(H={}),function fh(R,M,L,H){void 0===H&&(H={}),R.host="http://"+M+":"+L;var K=H.mockUserToken;K&&(R._overrideAuthToken="string"==typeof K?K:(0,ze.Sg)(K,R.app.options.projectId))}(R,M,L,H)}(this._delegate,M,L,H)},R}();function Xn(R,M){var L=M.instanceIdentifier,H=R.getProvider("app").getImmediate(),K=R.getProvider("auth-internal"),te=R.getProvider("app-check-internal");return new qc(H,new ka(H,K,te,new bn,L,me.Z.SDK_VERSION))}!function Yo(R){var M={TaskState:Ze,TaskEvent:ht,StringFormat:ye,Storage:ka,Reference:Vi};R.INTERNAL.registerComponent(new nt.wA("storage",Xn,"PUBLIC").setServiceProps(M).setMultipleInstances(!0)),R.registerVersion("@firebase/storage","0.7.1")}(me.Z)},655:(Ia,oi,zt)=>{zt.d(oi,{CR:()=>Te,FC:()=>_t,Jh:()=>se,KL:()=>Yt,XA:()=>Me,ZT:()=>I,ev:()=>Ut,mG:()=>bi,pi:()=>ze,qq:()=>xt});var me=function(de,B){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ve,ye){ve.__proto__=ye}||function(ve,ye){for(var Oe in ye)Object.prototype.hasOwnProperty.call(ye,Oe)&&(ve[Oe]=ye[Oe])})(de,B)};function I(de,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function ve(){this.constructor=de}me(de,B),de.prototype=null===B?Object.create(B):(ve.prototype=B.prototype,new ve)}var ze=function(){return ze=Object.assign||function(B){for(var ve,ye=1,Oe=arguments.length;ye<Oe;ye++)for(var le in ve=arguments[ye])Object.prototype.hasOwnProperty.call(ve,le)&&(B[le]=ve[le]);return B},ze.apply(this,arguments)};function bi(de,B,ve,ye){return new(ve||(ve=Promise))(function(le,ct){function Ct(ke){try{et(ye.next(ke))}catch($e){ct($e)}}function lr(ke){try{et(ye.throw(ke))}catch($e){ct($e)}}function et(ke){ke.done?le(ke.value):function Oe(le){return le instanceof ve?le:new ve(function(ct){ct(le)})}(ke.value).then(Ct,lr)}et((ye=ye.apply(de,B||[])).next())})}function se(de,B){var ye,Oe,le,ct,ve={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return ct={next:Ct(0),throw:Ct(1),return:Ct(2)},"function"==typeof Symbol&&(ct[Symbol.iterator]=function(){return this}),ct;function Ct(et){return function(ke){return function lr(et){if(ye)throw new TypeError("Generator is already executing.");for(;ve;)try{if(ye=1,Oe&&(le=2&et[0]?Oe.return:et[0]?Oe.throw||((le=Oe.return)&&le.call(Oe),0):Oe.next)&&!(le=le.call(Oe,et[1])).done)return le;switch(Oe=0,le&&(et=[2&et[0],le.value]),et[0]){case 0:case 1:le=et;break;case 4:return ve.label++,{value:et[1],done:!1};case 5:ve.label++,Oe=et[1],et=[0];continue;case 7:et=ve.ops.pop(),ve.trys.pop();continue;default:if(!(le=(le=ve.trys).length>0&&le[le.length-1])&&(6===et[0]||2===et[0])){ve=0;continue}if(3===et[0]&&(!le||et[1]>le[0]&&et[1]<le[3])){ve.label=et[1];break}if(6===et[0]&&ve.label<le[1]){ve.label=le[1],le=et;break}if(le&&ve.label<le[2]){ve.label=le[2],ve.ops.push(et);break}le[2]&&ve.ops.pop(),ve.trys.pop();continue}et=B.call(de,ve)}catch(ke){et=[6,ke],Oe=0}finally{ye=le=0}if(5&et[0])throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}([et,ke])}}}function Me(de){var B="function"==typeof Symbol&&Symbol.iterator,ve=B&&de[B],ye=0;if(ve)return ve.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ye>=de.length&&(de=void 0),{value:de&&de[ye++],done:!de}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(de,B){var ve="function"==typeof Symbol&&de[Symbol.iterator];if(!ve)return de;var Oe,ct,ye=ve.call(de),le=[];try{for(;(void 0===B||B-- >0)&&!(Oe=ye.next()).done;)le.push(Oe.value)}catch(Ct){ct={error:Ct}}finally{try{Oe&&!Oe.done&&(ve=ye.return)&&ve.call(ye)}finally{if(ct)throw ct.error}}return le}function Ut(de,B,ve){if(ve||2===arguments.length)for(var le,ye=0,Oe=B.length;ye<Oe;ye++)(le||!(ye in B))&&(le||(le=Array.prototype.slice.call(B,0,ye)),le[ye]=B[ye]);return de.concat(le||Array.prototype.slice.call(B))}function xt(de){return this instanceof xt?(this.v=de,this):new xt(de)}function _t(de,B,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ye=ve.apply(de,B||[]),le=[];return Oe={},ct("next"),ct("throw"),ct("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function ct(rt){ye[rt]&&(Oe[rt]=function(ht){return new Promise(function(Ze,Ei){le.push([rt,ht,Ze,Ei])>1||Ct(rt,ht)})})}function Ct(rt,ht){try{!function lr(rt){rt.value instanceof xt?Promise.resolve(rt.value.v).then(et,ke):$e(le[0][2],rt)}(ye[rt](ht))}catch(Ze){$e(le[0][3],Ze)}}function et(rt){Ct("next",rt)}function ke(rt){Ct("throw",rt)}function $e(rt,ht){rt(ht),le.shift(),le.length&&Ct(le[0][0],le[0][1])}}function Yt(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,B=de[Symbol.asyncIterator];return B?B.call(de):(de=Me(de),ve={},ye("next"),ye("throw"),ye("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function ye(le){ve[le]=de[le]&&function(ct){return new Promise(function(Ct,lr){!function Oe(le,ct,Ct,lr){Promise.resolve(lr).then(function(et){le({value:et,done:Ct})},ct)}(Ct,lr,(ct=de[le](ct)).done,ct.value)})}}}}},Ia=>{Ia(Ia.s=6)}]);